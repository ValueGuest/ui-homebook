"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1474],{52345:(y,m,t)=>{t.d(m,{A:()=>h});var l=t(36895),c=t(34793),o=t(60434),a=t(89383),p=t(25367),_=t(97519),M=t(37245),f=t(78273),P=t(91112),v=t(89044),O=t(94650);let h=(()=>{class s{}return s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=O.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=O.\u0275\u0275defineInjector({imports:[v.Y,l.CommonModule,_.V,p.j,o.Pc,M.L,c.Bz,a.aw,f.Y,P.g]}),s})()},65752:(y,m,t)=>{t.d(m,{i:()=>O});var l=t(36895),c=t(34793),o=t(60434),a=t(89383),p=t(89044),_=t(52345),M=t(46480),f=t(55699),P=t(37245),v=t(94650);let O=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275mod=v.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=v.\u0275\u0275defineInjector({imports:[l.CommonModule,f.d,o.Pc,P.L,_.A,a.aw,p.Y,c.Bz,M.x,a.aw]}),h})()},4502:(y,m,t)=>{t.d(m,{o:()=>v});var l=t(36895),c=t(34793),o=t(60434),a=t(89383),p=t(89044),_=t(46480),M=t(97519),f=t(37245),P=t(94650);let v=(()=>{class O{}return O.\u0275fac=function(s){return new(s||O)},O.\u0275mod=P.\u0275\u0275defineNgModule({type:O}),O.\u0275inj=P.\u0275\u0275defineInjector({imports:[l.CommonModule,M.V,o.Pc,f.L,a.aw,p.Y,c.Bz,_.x]}),O})()},92748:(y,m,t)=>{t.d(m,{x:()=>h});var l=t(36895),c=t(34793),o=t(60434),a=t(89383),p=t(89044),_=t(46480),M=t(37245),f=t(8530),P=t(55699),v=t(84707),O=t(94650);let h=(()=>{class s{}return s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=O.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=O.\u0275\u0275defineInjector({imports:[l.CommonModule,f.x,P.d,o.Pc,M.L,a.aw,p.Y,c.Bz,_.x,v.X]}),s})()},84741:(y,m,t)=>{t.d(m,{F:()=>h});var l=t(36895),c=t(34793),o=t(60434),a=t(89383),p=t(3041),_=t(26643),M=t(94650);let f=(()=>{class s{}return s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=M.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=M.\u0275\u0275defineInjector({}),s})();var P=t(37245),v=t(92045),O=t(25779);let h=(()=>{class s{}return s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=M.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=M.\u0275\u0275defineInjector({imports:[l.CommonModule,_.G,f,o.Pc,P.L,v.W,p.g,O.R,c.Bz,a.aw]}),s})()},58617:(y,m,t)=>{t.d(m,{j:()=>s});var l=t(36895),c=t(60434),o=t(89383),a=t(89044),p=t(46480),_=t(26643),M=t(94650);let f=(()=>{class d{}return d.\u0275fac=function(E){return new(E||d)},d.\u0275mod=M.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=M.\u0275\u0275defineInjector({}),d})();var P=t(37245),v=t(92045),O=t(84741),h=t(25779);let s=(()=>{class d{}return d.\u0275fac=function(E){return new(E||d)},d.\u0275mod=M.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=M.\u0275\u0275defineInjector({imports:[a.Y,l.CommonModule,_.G,f,O.F,c.Pc,P.L,v.W,h.R,o.aw,p.x]}),d})()},21944:(y,m,t)=>{t.d(m,{q:()=>E});var l=t(36895),c=t(34793),o=t(60434),a=t(89383),p=t(89044),_=t(46480),M=t(97519),f=t(37245),P=t(55699),v=t(8530),O=t(84707),h=t(14546),s=t(8031),d=t(94650);let b=(()=>{class x{}return x.\u0275fac=function(A){return new(A||x)},x.\u0275mod=d.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=d.\u0275\u0275defineInjector({imports:[l.CommonModule,h.O,o.Pc,f.L,s.W,a.aw,c.Bz]}),x})(),E=(()=>{class x{}return x.\u0275fac=function(A){return new(A||x)},x.\u0275mod=d.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=d.\u0275\u0275defineInjector({imports:[P.d,l.CommonModule,O.X,v.x,o.Pc,f.L,M.V,b,a.aw,p.Y,c.Bz,_.x]}),x})()},25779:(y,m,t)=>{t.d(m,{R:()=>f});var l=t(36895),c=t(24006),o=t(60434),a=t(89383),p=t(56205),_=t(46480),M=t(94650);let f=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275mod=M.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=M.\u0275\u0275defineInjector({imports:[l.CommonModule,p.P,c.u5,o.Pc,c.UX,a.aw,_.x]}),P})()},84707:(y,m,t)=>{t.d(m,{X:()=>c});var l=t(94650);let c=(()=>{class o{}return o.\u0275fac=function(p){return new(p||o)},o.\u0275mod=l.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=l.\u0275\u0275defineInjector({}),o})()},26643:(y,m,t)=>{t.d(m,{G:()=>c});var l=t(94650);let c=(()=>{class o{}return o.\u0275fac=function(p){return new(p||o)},o.\u0275mod=l.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=l.\u0275\u0275defineInjector({}),o})()},97519:(y,m,t)=>{t.d(m,{V:()=>c});var l=t(94650);let c=(()=>{class o{}return o.\u0275fac=function(p){return new(p||o)},o.\u0275mod=l.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=l.\u0275\u0275defineInjector({}),o})()},8530:(y,m,t)=>{t.d(m,{x:()=>c});var l=t(94650);let c=(()=>{class o{}return o.\u0275fac=function(p){return new(p||o)},o.\u0275mod=l.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=l.\u0275\u0275defineInjector({}),o})()},92045:(y,m,t)=>{t.d(m,{W:()=>c});var l=t(94650);let c=(()=>{class o{}return o.\u0275fac=function(p){return new(p||o)},o.\u0275mod=l.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=l.\u0275\u0275defineInjector({}),o})()},81474:(y,m,t)=>{t.r(m),t.d(m,{MainComponentModule:()=>nn});var l=t(36895),c=t(24006),o=t(34793),a=t(60434),p=t(89383),_=t(41228),M=t(98224),f=t(10399),P=t(50303),v=t(89427),O=t(69975),h=t(78425),s=t(53458),d=t(56205),b=t(23394),E=t(93047),x=t(52345),H=t(73747),A=t(49671),C=t(76457),i=t(94650),I=t(28555);let at=(()=>{class e{constructor(n){this.store=n}resolve(n){var r=this;return(0,A.Z)(function*(){return r.store.dispatch(new C.eX.SelectProperty(n.params.id?n.params.id:null)),null})()}}return e.\u0275fac=function(n){return new(n||e)(i.\u0275\u0275inject(I.yh))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var U=t(87196),rt=t(41226),j=t(55426),st=t(65752),lt=t(4502),ct=t(92748),dt=t(58617),pt=t(21944),K=t(77848),mt=t(28395),gt=t(76706),G=t(28029),k=t(30049),ut=t(3791),ht=t(88886),Ct=t(50164),Mt=t(77513),Pt=t(89291),Ot=t(98071),ft=t(57909),V=t(57420),vt=t(10265),_t=t(73143),R=t(60815),Y=t(92340),Q=t(92198),bt=t(99604);function xt(e,u){}let X=(()=>{class e{constructor(n,r,g,w,B,D,z,N){this.formBuilder=n,this.router=r,this.activatedRoute=g,this.authService=w,this.store=B,this.scRes=D,this.ga=z,this.valueguestService=N,this.errors=[],this.submitted=!1,this.inputPasswordType="password",this.loading=!1,this.subscriptions=[],this.showTop=!1,this.step=1}ngOnInit(){this.showTop=this.activatedRoute.snapshot.data&&this.activatedRoute.snapshot.data.isMobile,this.type=this.activatedRoute.snapshot.data&&this.activatedRoute.snapshot.data.listType,this.subscriptions.push(this.activatedRoute.queryParams.subscribe(n=>{const r=null!==n.email;this.store.dispatch(new C.u2.RemoveLoading),this.store.dispatch(new C.WO.ClearGuestbook),r?(this.step=2,this.formEmail=this.formBuilder.group({email:[n.email,[c.kI.required,c.kI.email]],airbnbUrl:[n.airbnbURL?decodeURIComponent(n.airbnbURL):"",[]]})):this.formEmail=this.formBuilder.group({email:[Y.N.email+Math.random().toFixed(10).replace(".",""),[c.kI.required,c.kI.email]]}),this.user$=this.store.pipe((0,I.Ys)(C.dy),(0,Q.h)(g=>!!g)),this.subscriptions.push(this.user$.subscribe(g=>{g&&(this.formEmail.controls.email.setValue(g.email),this.formEmail.controls.email.disable())}))}))}hideShowPwd(){this.inputPasswordType="password"===this.inputPasswordType?"text":"password"}nextStep(){this.formEmail.valid&&(this.step=this.step+1,2===this.step&&"homebook"!==this.type?this.formEmail.addControl("airbnbUrl",new c.p4("",[])):3===this.step&&this.start())}start(){this.submitted=!0,this.errors=[],this.formEmail.valid&&(this.store.dispatch(new C.u2.DisplayLoading("page-websitebuilder.landing.loader.title")),this.store.dispatch(new C.WO.UpdateCreationForm({email:this.formEmail.get("email").value,airbnbUrl:this.formEmail.get("airbnbUrl").value})),"wsb"===this.type?this.valueguestService.getWebsitePreview(this.formEmail.get("email").value,this.formEmail.get("airbnbUrl").value).then(()=>{this.router.navigate([this.scRes.getStartURL()+"/step2/wsb"]).then(()=>{this.store.dispatch(new C.u2.RemoveLoading)}).catch(()=>{this.store.dispatch(new C.u2.RemoveLoading)})}).catch(n=>{this.ga.eventEmitter("general","WBSBuilder - Landing",n.message,"Submit Error"),this.store.dispatch(new C.u2.RemoveLoading),this.errors.push(n)}):this.valueguestService.getHomebookPreview(this.formEmail.get("email").value,this.formEmail.get("airbnbUrl").value).then(n=>{const r=this.formEmail.get("airbnbUrl").value?"/step2/homebook/home":"/step2";this.router.navigate([this.scRes.getStartURL()+r]).then(()=>{this.store.dispatch(new C.u2.RemoveLoading)}).catch(()=>{this.store.dispatch(new C.u2.RemoveLoading)})}).catch(n=>{this.ga.eventEmitter("general","WBSBuilder - Landing",n.message,"Submit Error"),this.store.dispatch(new C.u2.RemoveLoading),this.errors.push(n)}))}emailLogin(){this.router.navigateByUrl("login-email")}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}}return e.\u0275fac=function(n){return new(n||e)(i.\u0275\u0275directiveInject(c.QS),i.\u0275\u0275directiveInject(o.F0),i.\u0275\u0275directiveInject(o.gz),i.\u0275\u0275directiveInject(R.e8),i.\u0275\u0275directiveInject(I.yh),i.\u0275\u0275directiveInject(R.BU),i.\u0275\u0275directiveInject(R.$r),i.\u0275\u0275directiveInject(R.hZ))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["app-step1"]],inputs:{type:"type"},decls:3,vars:4,consts:[[3,"templateRef","isPopup","errors","alwaysOn"],["childTemplate",""]],template:function(n,r){if(1&n&&(i.\u0275\u0275element(0,"app-base",0),i.\u0275\u0275template(1,xt,0,0,"ng-template",null,1,i.\u0275\u0275templateRefExtractor)),2&n){const g=i.\u0275\u0275reference(2);i.\u0275\u0275property("templateRef",g)("isPopup",!0)("errors",r.errors)("alwaysOn",!0)}},dependencies:[bt.H],styles:['#guestSignature[_ngcontent-%COMP%]{visibility:hidden}.tox[_ngcontent-%COMP%]   .tox-tbtn[_ngcontent-%COMP%], .tox[_ngcontent-%COMP%]   .tox-mbtn[_ngcontent-%COMP%]{color:#5f6d83!important}.tox[_ngcontent-%COMP%]   .tox-tbtn--select[aria-label="Font sizes"][_ngcontent-%COMP%]{width:69px}.tox[_ngcontent-%COMP%]   .tox-tbtn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#5f6d83!important}.tox-tinymce[_ngcontent-%COMP%]{border:none!important}.tox-editor-header[_ngcontent-%COMP%]{margin-bottom:20px!important}@media (max-width: 1270px){.tox-edit-container[_ngcontent-%COMP%]{border:1px solid black!important;border-radius:8px!important}}.tox-edit-area[_ngcontent-%COMP%]{margin:15px!important;position:relative}iframe[_ngcontent-%COMP%]{scrollbar-3dlight-color:#000000;scrollbar-arrow-color:#ffffff;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#ffffff;scrollbar-shadow-color:#ffffff;scrollbar-track-color:#000000}.tox-menubar[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px}.tox-toolbar__primary[_ngcontent-%COMP%], .tox-toolbar-overlord[_ngcontent-%COMP%]{border:none!important;background:white!important;border-bottom-left-radius:8px;border-bottom-right-radius:8px}.tox-sidebar-wrap[_ngcontent-%COMP%]{background:white!important;border-radius:8px}editor.withBorder[_ngcontent-%COMP%]   .tox-tinymce[_ngcontent-%COMP%]{border:1px solid #ccc!important}@media (min-width: 1270px){.sscibackground[_ngcontent-%COMP%]{--background: url(/assets/imgs/background.jpg)}}.footerButtons[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700}.footerButtons[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{flex:1}.submit[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:8px}.submit[_ngcontent-%COMP%]   .cancelButton[_ngcontent-%COMP%]{cursor:pointer;color:#9aa2ae;height:40px;margin:25px;padding:10px;font-weight:600;font-size:14px}.submit[_ngcontent-%COMP%]   .secondLink[_ngcontent-%COMP%]{cursor:pointer;align-self:center;margin-right:15px;font-weight:400}.submit[_ngcontent-%COMP%]   ion-button.fromLeftMenu[_ngcontent-%COMP%]{min-width:250px}.submit.buttonCentered[_ngcontent-%COMP%]{display:block}.submit.buttonCentered[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:90%;margin:auto}@media (min-width: 890px){.submit.buttonCentered[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:70%}}@media (min-width: 1100px){.submit.buttonCentered[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:60%;min-width:236px;max-width:90%}}@media (min-width: 1300px){.submit.buttonCentered[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:50%;min-width:236px;max-width:90%}}.submit.buttonCentered[_ngcontent-%COMP%]   ion-button.fromLeftMenu[_ngcontent-%COMP%]{min-width:230px}.submit.ssci[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-bottom:10px;min-width:200px;max-width:50%;align-self:flex-end;--ion-color-base:linear-gradient(119.39deg, #9F3658 25.2%, #582536 100%)!important}.submit.ssci[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;align-self:center;justify-self:unset;height:100%;margin-top:18px;margin-right:20px;display:flex}@media (max-width: 1270px){.submit.ssci[_ngcontent-%COMP%]{flex-direction:column!important}.submit.ssci[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{align-self:center!important}.submit.ssci[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:0!important}}.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:8px}.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:unset;margin:auto}@media (min-width: 890px){.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:unset}}@media (min-width: 1100px){.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:unset;min-width:unset;max-width:unset}}@media (min-width: 1300px){.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:unset;min-width:unset;max-width:unset}}.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button.fromLeftMenu[_ngcontent-%COMP%]{min-width:250px}.leftMenu[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:auto;min-width:250px}.submit-button[_ngcontent-%COMP%]{padding:25px}.submit-button[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]{height:4.6rem;text-transform:none;font-size:16px}ion-button[_ngcontent-%COMP%]{--box-shadow: none;color:var(--ion-color-primary-contrast);font-family:var(--ion-font-family);font-size:14px;font-weight:500;text-transform:unset;border-radius:20px;height:40px;margin:25px 0;min-width:150px}ion-button.ion-color-primary[_ngcontent-%COMP%]{--ion-color-primary-tint:linear-gradient(170deg, #7c2b45 25.2%, #3f1a27 100%);--ion-color-base: var(--ion-color-primary);--ion-color-base-rgb: linear-gradient(169.71deg, var(--ion-color-base) 25.2%, #582536 100%)!important;--ion-color-contrast: linear-gradient(169.71deg, var(--ion-color-base) 25.2%, #582536 100%)!important;--ion-color-contrast-rgb: linear-gradient(169.71deg, var(--ion-color-base) 25.2%, #582536 100%)!important;--ion-color-shade: linear-gradient(169.71deg, var(--ion-color-base) 25.2%, #582536 100%)!important;--ion-color-tint: linear-gradient(170deg, #7c2b45 25.2%, #3f1a27 100%)}@media (min-width: 890px){ion-button[_ngcontent-%COMP%]{font-size:14px}}ion-button.button-outline[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.calendarDate[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#fff}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:var(--text-color-primary);min-width:unset}ion-toolbar[_ngcontent-%COMP%]   ion-button.button-round[_ngcontent-%COMP%]{color:var(--ion-color-primary-contrast)}ion-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:unset;margin:unset}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;top:0;height:100%}@keyframes _ngcontent-%COMP%_delayedShow{to{opacity:1;visibility:visible}}ion-modal.small-new-modal[_ngcontent-%COMP%]{--border-radius: 16px;--width: 90%;--max-width: 400px;--height: auto;--backdrop-opacity: .6}ion-modal.import-image-popup[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{--width:100%}ion-modal.import-image-popup[_ngcontent-%COMP%]   .containerTitles[_ngcontent-%COMP%]{margin-bottom:0}@media (min-width: 1100px){ion-modal.import-image-popup[_ngcontent-%COMP%]{--width: 700px}}ion-modal.auto-height[_ngcontent-%COMP%]{--height: auto;--max-width: 540px}ion-modal.auto-height.bottom[_ngcontent-%COMP%]{align-items:flex-end}@media (min-width: 1100px){ion-modal.auto-height[_ngcontent-%COMP%]{--max-width: 95%}}ion-modal.auto-height[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{box-shadow:4px 0 24px #00000080;margin:0 10px;--background: white}ion-modal.auto-height[_ngcontent-%COMP%]   .ion-page[_ngcontent-%COMP%]{position:relative;display:block;contain:content}ion-modal.auto-height[_ngcontent-%COMP%]   .ion-page[_ngcontent-%COMP%]   .inner-content[_ngcontent-%COMP%]{max-height:80vh;overflow:auto;padding:15px}ion-modal.full-height[_ngcontent-%COMP%]{--height: 100%!important}ion-modal.full-height[_ngcontent-%COMP%]   .ion-page[_ngcontent-%COMP%]{height:100%}@media (min-width: 1100px){.vg-modal.how-to-modal[_ngcontent-%COMP%]{--width: 80%;--height:auto}}@media (min-width: 1100px){.vg-modal.auto-height.full-width[_ngcontent-%COMP%]{--width: 80%}}.close-icon[_ngcontent-%COMP%]{display:none}.vg-modal[_ngcontent-%COMP%]{background:rgba(39,57,81,.9098039216);--backdrop-opacity: 0!important;font-family:Montserrat;--max-height:90%;--overflow:auto;--border-radius: 5px}.vg-modal[_ngcontent-%COMP%]   .sc-ion-modal-md[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.vg-modal[_ngcontent-%COMP%]   .sc-ion-modal-md[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000004d;border-radius:0}.vg-modal[_ngcontent-%COMP%]   .sc-ion-modal-md[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background:#273951;box-shadow:inset 0 0 6px #00000080}.vg-modal[_ngcontent-%COMP%]   .sc-ion-modal-md[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:window-inactive{background:#6b727c}.vg-modal.darkModal[_ngcontent-%COMP%]   ion-backdrop[_ngcontent-%COMP%]{--backdrop-opacity: .7}.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]{background-color:#f7f6f7;color:var(--text-color-primary);position:relative}.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:20px;display:flex;flex-direction:column}.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--ion-font-family);font-size:20px;font-weight:400;margin:0 0 20px}@media (min-width: 890px){.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px}}.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:12px;margin:0 0 25px;padding:0;text-align:center}.vg-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{--border-width:0px;color:#fff}.vg-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]:before{content:none}.vg-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--border-bottom-width:0px}.vg-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:10px}.add-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);cursor:pointer;font-size:16px;font-weight:var(--ion-bold)}.add-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-1px}.add-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;vertical-align:sub}.compContainer.isPopup[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{padding:20px;margin:0;background:white;height:100%}@media (min-width: 1270px){.compContainer.isPopup[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{padding:40px}}.compContainer[_ngcontent-%COMP%]{height:100%;flex:1;background:white}.compContainer.noPadding[_ngcontent-%COMP%]{background:var(--vg-background-grey)}.compContainer.centeredContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{justify-content:center}.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .additionalTemplateContainer[_ngcontent-%COMP%]{margin-top:30px!important}@media (min-width: 1270px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{background:#F7F7F7;min-height:100%;padding:40px 0}}.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px}@media (min-width: 1270px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{max-width:90%;background:white;margin:0 auto;border-radius:5px}}@media (min-width: 1270px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{padding:40px}}.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column;flex:1}@media (min-width: 1270px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:500px;margin:auto}}@media (min-width: 1500px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:600px;margin:auto}}@media (min-width: 1700px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:800px;margin:auto}}.compContainer.choiceApartment[_ngcontent-%COMP%]{min-height:461px}.compContainer.isPopup[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{width:100%;padding:0;max-width:100%;margin:0}.compContainer.isPopup[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.isPopup[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.isPopup[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:unset!important;margin:unset!important}@media (min-width: 1270px){.compContainer.noPadding[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{padding:20px}}.compContainer.noPadding[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%]{width:unset!important}.compContainer.emptyContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{flex:1}.compContainer.largerContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column;flex:1}@media (min-width: 1270px){.compContainer.largerContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:700px!important}}@media (min-width: 1500px){.compContainer.largerContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:800px!important}}@media (min-width: 1700px){.compContainer.largerContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:800px!important}}.fullWidth[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{width:90%!important}.fullWidth[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .fullWidth[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .fullWidth[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important}@media (min-width: 1270px){.flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{width:unset!important}.flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:800px!important;width:800px!important}}.paperfree[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{width:90%}.paperfree[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .paperfree[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .paperfree[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important;display:flex;flex-direction:column;flex:1}.containerTitles[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;color:#273951;font-weight:600;margin:0 0 10px}.containerTitles[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#273951;margin-left:7px}.containerTitles[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:600}.containerTitles[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.containerTitles[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:var(--ion-font-family);font-size:15px;color:#5f6d83;font-weight:400;margin:0 0 20px}.removeMargin[_ngcontent-%COMP%]   .containerTitles[_ngcontent-%COMP%]{margin-bottom:0!important}.popoverPax[_ngcontent-%COMP%]{--width:300px}.close-icon[_ngcontent-%COMP%]{margin:-8px -8px 0 0;font-size:18px;align-items:center;display:flex;justify-content:flex-end;top:0;right:0}@media (min-width: 1270px){.close-icon[_ngcontent-%COMP%]{margin:-15px -15px 0 0}}.close-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{cursor:pointer}.item-has-focus.label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-focus[_ngcontent-%COMP%]   .label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-placeholder.label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-placeholder[_ngcontent-%COMP%]   .label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-value.label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-value[_ngcontent-%COMP%]   .label-floating.sc-ion-label-md-h[_ngcontent-%COMP%]{transform:translateY(42%) scale(.9)}.optionalText[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:16px;color:#979797}.item-actions-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{--width: auto !important;transform:translate(calc(-100% + 25px))!important;transform-origin:right top!important}.homebook-content-popover[_ngcontent-%COMP%]{--max-width: 330px !important;--width: 330px !important}.homebook-content-popover[_ngcontent-%COMP%]   .popover-content.sc-ion-popover-ios[_ngcontent-%COMP%]{border-radius:5px}.drawer[_ngcontent-%COMP%]   .compContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{padding:0!important}.drawer[_ngcontent-%COMP%]   .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{background-color:#fff!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#d6dee1;border-radius:20px;border:6px solid transparent;background-clip:content-box}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a8bbbf}.flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{max-width:unset!important;background:white;margin:unset!important;border-radius:unset!important}.flow-start[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{background:white!important}.flow-start[_ngcontent-%COMP%]   .containerTitles[_ngcontent-%COMP%]{text-align:center}.enhanced-subscription-popup[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;top:27px;right:24px;z-index:55}.top[_ngcontent-%COMP%]{height:50px;position:relative;top:-1px;margin-left:20px}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.insideTemplateContainer[_ngcontent-%COMP%]{display:flex;height:100%;flex:1;background:white;padding:20px}@media (min-width: 1270px){.insideTemplateContainer[_ngcontent-%COMP%]{padding:0}}.title-container[_ngcontent-%COMP%]{position:relative;justify-content:unset;width:100%;overflow:hidden}.allContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mainIcon[_ngcontent-%COMP%]{text-align:center;font-size:50px;display:flex;align-self:center}h1[_ngcontent-%COMP%]{display:flex;align-self:center;font-size:18px;margin-top:10px;margin-bottom:30px}.allContainer[_ngcontent-%COMP%]   .terms-and-conditions[_ngcontent-%COMP%]{color:#a59d9d;text-align:center;margin:0;display:flex;flex-direction:column;font-size:12px}.allContainer[_ngcontent-%COMP%]   .terms-and-conditions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:var(--ion-bold-more);text-decoration:none}.allContainer[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{position:relative}.allContainer[_ngcontent-%COMP%]   .checkox-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.allContainer[_ngcontent-%COMP%]   .helpIcon[_ngcontent-%COMP%]{position:absolute;right:10px;top:-3px;z-index:2;height:20px;width:20px}.allContainer[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.allContainer[_ngcontent-%COMP%]   .ion-checkbox[_ngcontent-%COMP%]{width:32px;height:32px}.allContainer[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{flex-grow:1;margin:auto;padding-left:10px}.allContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#f7f6f7;border-radius:5px;box-shadow:4px 0 24px #00000080;max-width:540px;margin:4vh auto 30px;color:var(--text-color-primary);width:calc(100% - 20px);padding:25px 20px}@media (min-width: 576px){.allContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:30px 35px}}.allContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--ion-font-family);font-size:20px;font-weight:400;margin:0 0 35px}@media (min-width: 992px){.allContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:15vh auto 0 60px}}@media (min-width: 1200px){.allContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:15vh auto 0 160px}}.allContainer[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:var(--ion-bold-more)!important;color:var(--ion-color-primary)!important}.allContainer[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   .website-builder[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.allContainer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{text-align:center;color:var(--text-color-primary);margin-top:20px;font-size:12px}.allContainer[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:var(--ion-bold-more);cursor:pointer;padding:10px 0}.loading-container[_ngcontent-%COMP%]{justify-content:center;background-color:#fff;display:flex;flex-direction:column;height:100%;opacity:0;padding:0 30px;position:absolute;top:0;transition:opacity .5s ease-in-out;visibility:hidden;width:100%;z-index:10}.loading-container[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;margin:auto;max-width:540px}@media (min-width: 992px){.loading-container[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]{margin-left:60px}}@media (min-width: 1200px){.loading-container[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]{margin-left:160px}}.loading-container[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:151px;margin-left:10px}@media (min-width: 992px){.loading-container[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:0}}@media (min-width: 1200px){.loading-container[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:0}}.loading-container[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{color:var(--text-color-primary);font-family:var(--ion-font-family);font-size:30px;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-animation[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:2rem 0;margin:0 -5%;overflow:hidden}.loading.loading-container[_ngcontent-%COMP%]{opacity:1;visibility:visible}']}),e})();var yt=t(17192),Et=t(68639),wt=t(89362),Tt=t(38793),Dt=t(69998),It=t(32206),Rt=t(41229),Z=t(51944),Lt=t(36033),Bt=t(78320),At=t(92488),Ut=t(54683),F=t(71844),Ht=t(16558),$=t(55088),J=t(36078),q=t(378),Wt=t(73289),tt=t(17293),nt=t(88554),et=t(24040),Ft=t(13592),St=t(35817),jt=t(28986),Kt=t(54073);function zt(e,u){if(1&e){const n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"ion-fab",8),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(n);const g=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(g.clickAddButton())}),i.\u0275\u0275elementStart(1,"div",9)(2,"ion-fab-button"),i.\u0275\u0275element(3,"ion-icon",10),i.\u0275\u0275elementEnd()()()}}let T=(()=>{class e{constructor(n,r,g,w,B,D,z,N,en,on){this.router=n,this.route=r,this.modalCtrl=g,this.subscriptionService=w,this.scRes=B,this.homebookService=D,this.dataProvider=z,this.translate=N,this.store=en,this.location=on,this.selectedProperty=!1,this.selectedRes=!1,this.stepAction="",this.subscriptions=[],this.showPreview=!1,this.homebookSection=C.BL,this.environment=Y.N}ngAfterViewInit(){this.shouldDisplayIstatPopup()&&this.openPopup(Ft.M,null),this.route.snapshot.queryParams&&"true"===this.route.snapshot.queryParams.initiate&&"true"!==this.route.snapshot.queryParams.showcase&&this.presentPasswordPopup()}shouldDisplayIstatPopup(){return!1}ngOnInit(){this.listAllMenus=F.Ey.concat(F.Dk.concat(tt.b.concat($.w)).concat(q.W)),this.init(),this.subscriptions.push(this.store.pipe((0,I.Ys)(C.Dy)).subscribe(n=>{this.isResEmpty=0===n.length}),this.store.pipe((0,I.Ys)(C.dy)).subscribe(n=>{this.user=n}),this.store.pipe((0,I.Ys)(C.a4)).subscribe(n=>{this.checkHasOtherHomebook(n),this.listProperties=n,this.isNoProp=0===n.length}),this.router.events.pipe((0,Q.h)(n=>n instanceof o.m2)).subscribe(()=>{this.init()})),this.menuType=this.route.snapshot.data.listType}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}isResEmptyFn(n){if(!(n&&n.length>0))return!1;for(const r of n)if(r.bookingToolConnections&&r.bookingToolConnections.iCal&&r.bookingToolConnections.iCal.length>0||r.list_reservation.length>0)return!1;return!0}onActivate(n){this.childComp=n}hasEnoughInPlan(){return this.subscriptionService.canAddOneProperty(this.user,this.product)}clickAddButton(){"list-reservations"===this.route.snapshot.data.listType?this.childComp.addReservation():"list-properties"===this.menuType&&"homebook"===this.product&&this.hasOtherHomebook?this.hasEnoughInPlan()?this.copyHomebook():this.openPopup(Z.v,null,{isPopup:!0,context:this,action:this.confirmPlanPopup}):"list-properties"===this.route.snapshot.data.listType&&(this.hasEnoughInPlan()?this.childComp.addProperty():this.openPopup(et.D,null,{iconName:"vg-crown",title:this.translate.instant("missing-billing-popup.title"),subtitle:this.translate.instant("missing-billing-popup.subtitle"),buttonText:this.translate.instant("missing-billing-popup.button.goToPage"),data:{},context:this,action:this.goToSubscribePage}))}goToSubscribePage(){this.router.navigate([this.scRes.getStartURL()+"/view-profile/billing"])}confirmPlanPopup(){this.modal&&this.modal.dismiss()}previous(){this.location.back()}showHidePreview(){this.showPreview=!this.showPreview}init(){if(this.route.snapshot.data&&this.route.snapshot.data.mobileHeader)this.title=this.route.snapshot.data.mobileHeader;else{const r=this.router.url.split("/")[3],g=this.listAllMenus.filter(w=>r===w.action);if(g&&g[0])this.action=g[0].action,this.title=g[0].mobileHeader,this.tab=g[0].tab;else switch(r){case"resMenu":case"resActivity":this.pageType="list-reservations",this.title="page-reservation-list.page.title";break;case"list-properties":this.pageType="list-properties",this.title="page-properties-list.page.title";break;case"concierge":this.pageType="property",this.title="mobile.header.concierge",this.tab="concierge";break;case"wsb":this.pageType="property",this.title="mobile.header.wsb",this.tab="wsb";break;case"homebook":this.action="home",this.pageType="property",this.title="mobile.header.homebook",this.tab="homebook";break;case"list-schedine":this.pageType="list-schedine",this.title="page-download-receipts.title";break;case"data-dashboard":this.pageType="dashboard",this.title="Dashboard";break;case"view-profile":this.pageType="view-profile",this.title="view-profile.page.title";break;default:this.route.snapshot.data&&this.route.snapshot.data.mobileHeader&&(this.title=this.route.snapshot.data.mobileHeader)}}this.mapSectionForPreview(),this.product=this.route.snapshot.data.product,"wsb"===this.product?this.showPreviewWsb=!0:"homebook"===this.product&&(this.showPreviewHomebook=!0)}openPopup(n,r,g){var w=this;return(0,A.Z)(function*(){w.modalCtrl.create({component:n,componentProps:g,cssClass:["vg-modal","auto-height",r]}).then(B=>{B.onDidDismiss().then(D=>{D?.data?.hasSkippedCopy&&w.childComp.addProperty(),D?.data?.selectedProperty&&w.confimCopyHomebook(D.data.selectedProperty)}),w.modal=B,B.present()})})()}checkHasOtherHomebook(n){this.hasOtherHomebook=!1;const r=[];for(const g of n)g.guestbook&&(this.hasOtherHomebook=this.hasOtherHomebook||g.guestbook.isHomebookCreated,g.guestbook.isHomebookCreated&&r.push(g));this.listHb=r}copyHomebook(){this.openPopup(St.P,null,{isPopup:!0,listProperties:this.listHb,showChoice:!0,context:this,action:this.confimCopyHomebook})}confimCopyHomebook(n){this.homebookService.copyHomebook(null,n.guestbook.gbId).then(r=>{this.scRes.navigateTomobileOrDesktopURL("/list-properties/homebook/"+r.property.fbId+"/editHomebookSettings"),this.openPopupConfirmHomebook(r.property.name)})}openPopupConfirmHomebook(n){this.openPopup(et.D,null,{iconName:"vg-fireworks",title:this.translate.instant("homebookbuilder.popup.success.title"),subtitle:this.translate.instant("homebookbuilder.popup.success.subtitle").replace("{{propertyName}}",n),subsubtitle:this.translate.instant("homebookbuilder.popup.success.subsubtitle"),buttonText:this.translate.instant("homebookbuilder.popup.success.continueButton"),data:{},context:this,action:this.closeSuccessPopup})}closeSuccessPopup(){this.modalCtrl.dismiss()}presentPasswordPopup(){this.modalCtrl.create({component:Kt.g,componentProps:{iconName:"vg-confirm",title:this.translate.instant("account.new-password.title"),isPopup:!0,subtitle:this.translate.instant("account.new-password.subtitle"),buttonText:this.translate.instant("account.new-password.button.save"),context:this,action:this.closeSuccessPopup},cssClass:["vg-modal","auto-height"]}).then(n=>{n.onDidDismiss().then(r=>{}),this.modal=n,n.present()})}mapSectionForPreview(){switch(this.action){case"recommender":this.section="reco";break;case C.BL.CHECKIN:case C.BL.CHECKOUT:case C.BL.DESCRIPTIONS:case C.BL.NUMBERS:case C.BL.RULES:case C.BL.TIPS:case C.BL.DIRECTIONS:this.section=this.action;break;default:this.section=C.BL.HOME}}}return e.\u0275fac=function(n){return new(n||e)(i.\u0275\u0275directiveInject(o.F0),i.\u0275\u0275directiveInject(o.gz),i.\u0275\u0275directiveInject(a.IN),i.\u0275\u0275directiveInject(R.FF),i.\u0275\u0275directiveInject(R.BU),i.\u0275\u0275directiveInject(R.sR),i.\u0275\u0275directiveInject(jt.F),i.\u0275\u0275directiveInject(p.sK),i.\u0275\u0275directiveInject(I.yh),i.\u0275\u0275directiveInject(l.Location))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["app-main"]],decls:14,vars:4,consts:[["no-border",""],["slot","start"],[3,"click"],["name","arrow-back"],["slot","end"],[2,"flex","1 1 0%","background","#F6F6F6"],[3,"activate"],["vertical","bottom","horizontal","end","slot","fixed",3,"click",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",3,"click"],[1,"containerIonFab"],["name","add"]],template:function(n,r){1&n&&(i.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),i.\u0275\u0275listener("click",function(){return r.previous()}),i.\u0275\u0275element(4,"ion-icon",3),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(5,"ion-title"),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"ion-buttons",4),i.\u0275\u0275element(9,"ion-menu-button"),i.\u0275\u0275elementEnd()()(),i.\u0275\u0275elementStart(10,"div",5)(11,"ion-content")(12,"router-outlet",6),i.\u0275\u0275listener("activate",function(w){return r.onActivate(w)}),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(13,zt,4,0,"ion-fab",7),i.\u0275\u0275elementEnd()()),2&n&&(i.\u0275\u0275advance(6),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,2,r.title)),i.\u0275\u0275advance(7),i.\u0275\u0275property("ngIf","list-reservations"===r.menuType&&!r.isResEmpty&&!r.route.snapshot.params.id||"list-properties"===r.menuType&&!r.isNoProp&&!r.route.snapshot.params.id))},dependencies:[l.NgIf,a.YG,a.Sm,a.W2,a.IJ,a.W4,a.Gu,a.gu,a.fG,a.wd,a.sr,o.lC,p.X$],styles:[".content-sm[_ngcontent-%COMP%]{--background: white;--padding-top:25px;--padding-bottom:25px;--padding-start:25px;--padding-end:25px}.fullContainer[_ngcontent-%COMP%], .containerSlider[_ngcontent-%COMP%]{display:flex;height:100%}.containerSlider[_ngcontent-%COMP%]   .mainMenu[_ngcontent-%COMP%]{flex:1}.containerSlider[_ngcontent-%COMP%]   .previewSection[_ngcontent-%COMP%]{transition:all .5s ease-in-out;z-index:1;background:white;width:90%;position:absolute;top:0;left:100%;height:100%}.containerSlider[_ngcontent-%COMP%]   .previewSection.showPreview[_ngcontent-%COMP%]{transform:translate(-100%);-webkit-transform:translate(-100%,0);-o-transform:translate(-100%,0);-moz-transform:translate(-100%,0);box-shadow:-1px 0 6px #525252}.containerSlider[_ngcontent-%COMP%]   .previewSection[_ngcontent-%COMP%]   .buttonSlider[_ngcontent-%COMP%]{background:#273951;border-radius:5px 0 0 5px;color:#fff;font-size:22px;display:flex;justify-content:center;flex-direction:column;text-align:center;padding-left:15px;position:absolute;left:-47px;top:67px;width:48px;height:62px;z-index:2;cursor:pointer}.leftMenu[_ngcontent-%COMP%]{width:35%;height:100%}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:#F7F6F7}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .insideContentMenu[_ngcontent-%COMP%]{position:relative;overflow:hidden}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .insideContentMenu[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:relative;width:200%;display:flex;transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .insideContentMenu[_ngcontent-%COMP%]   .slider.showActionMenu[_ngcontent-%COMP%]{transform:translate(-50%);-webkit-transform:translate(-50%,0);-o-transform:translate(-50%,0);-moz-transform:translate(-50%,0)}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .insideContentMenu[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .itemMenu[_ngcontent-%COMP%]{margin:25px;width:calc(50% - 50px);flex:1;height:-moz-fit-content;height:fit-content}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .insideContentMenu[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .itemMenu.propertyMenu[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 2px 10px #00000029;border-radius:6px}.leftMenu[_ngcontent-%COMP%]   .propertyMenuContainer[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 2px 10px #00000029;border-radius:6px;display:block}.mainContainer[_ngcontent-%COMP%]{background:#F7F6F7;border-radius:5px;margin-left:50px;margin-right:25px;width:75%;padding:25px}.mainContainer[_ngcontent-%COMP%]   .actionContainer[_ngcontent-%COMP%]{height:100%;display:block;width:65%;margin:auto}ion-fab[_ngcontent-%COMP%]{margin:10px}.containerIonFab[_ngcontent-%COMP%]{display:flex}.containerIonFab[_ngcontent-%COMP%]   .arrowNext[_ngcontent-%COMP%]{flex:1}.containerIonFab[_ngcontent-%COMP%]   .arrowNext[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:73px}.containerIonFab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{flex:1}"]}),e})();var Nt=t(82114),Gt=t(14728),kt=t(37305),Vt=t(98603),Yt=t(58461),Qt=t(81120),Xt=t(14908),Zt=t(31215),$t=t(35588),Jt=t(89748),qt=t(25815);const S=[];for(const e of F.Ey.concat(F.Dk))e.component&&S.push({path:e.action,data:{title:e.text,tab:e.tab,action:e.action,mobileHeader:e.mobileHeader},component:e.component,resolve:{myData:E.Q}});S.push({path:"reco/:section",component:Qt.H,data:{tab:"homebook"},resolve:{myData:E.Q}}),S.push({path:"rule/:section",component:Xt.T,data:{tab:"homebook"},resolve:{myData:E.Q}});const ot=[];for(const e of tt.b)e.component&&ot.push({path:e.action,data:{title:e.text,tab:e.tab,action:e.action,mobileHeader:e.mobileHeader},component:e.component,resolve:{myData:E.Q}});const L=[];L.push({path:"edit-template/:templateId",data:{action:"edit-template"},children:[{path:"",resolve:{myData:h.V},component:Bt.B}]}),L.push({path:"create-contract/:contractId",data:{action:"create-contract"},children:[{path:"",resolve:{myData:h.V},component:k._}]}),L.push({path:"send-contract/:contractId",data:{action:"send-contract"},children:[{path:"",resolve:{myData:h.V},component:V.c}]});for(const e of $.w)if(e.component&&L.push({path:e.action,data:{title:e.text,tab:e.tab,action:e.action,mobileHeader:e.mobileHeader},component:e.component,resolve:{myData:E.Q}}),e.subOptions)for(const u of e.subOptions)u.component&&L.push(u.resolve?{path:u.action,component:u.component,resolve:{forMenuSelection:j.H,myData:u.resolve},data:{action:u.action,mobileHeader:u.mobileHeader}}:{path:u.action,component:u.component,resolve:{forMenuSelection:j.H},data:{action:u.action,mobileHeader:u.mobileHeader}});const W=[];W.push({path:"send-contract/:contractId",data:{action:"send-contract"},children:[{path:"",resolve:{myData:h.V},component:V.c}]}),W.push({path:"create-contract/:contractId",data:{action:"create-contract"},children:[{path:"",resolve:{myData:h.V},component:k._}]});for(const e of q.W)if(e.component){const u={path:e.action,data:{title:e.text,action:e.action,mobileHeader:e.mobileHeader},component:e.component,resolve:null};if(e.resolve&&(u.resolve={myDate:e.resolve}),W.push(u),e.subOptions)for(const n of e.subOptions)n.component&&W.push({path:n.action,component:n.component,data:{action:n.action,title:n.text,mobileHeader:n.mobileHeader}})}const it=[];for(const e of Ut.B)e.component&&it.push({path:e.action,component:e.component,data:{tab:e.tab,action:e.action,mobileHeader:e.mobileHeader}});const tn=[{path:"list-properties/concierge",data:{listType:"list-properties",isMainParent:!0,product:"concierge",mobileHeader:"mobile.header.concierge"},component:T,children:[{path:"",component:K.b}]},{path:"list-properties/wsb",data:{listType:"list-properties",isMainParent:!0,product:"wsb",mobileHeader:"mobile.header.wsb"},component:T,children:[{path:"",component:K.b}]},{path:"list-properties/homebook",data:{listType:"list-properties",isMainParent:!0,product:"homebook",mobileHeader:"mobile.header.homebook"},component:T,children:[{path:"",component:K.b}]},{path:"list-properties/wsb/:id",data:{listType:"list-properties",product:"wsb"},component:T,resolve:{myData:U.N},children:[{path:"",component:G.G}].concat(ot)},{path:"list-properties/concierge/:id",data:{listType:"list-properties",product:"concierge"},component:T,resolve:{myData:U.N},children:[{path:"",component:G.G}].concat(L)},{path:"list-properties/homebook/:id",data:{listType:"list-properties",product:"homebook"},component:T,resolve:{myData:U.N},children:[{path:"",component:Vt.Z}].concat(S)},{path:"list-properties/:id",redirectTo:"list-properties/:id/concierge",pathMatch:"full"},{path:"list-reservations/:display/:propertyId/:id",data:{listType:"list-reservations",tab:"list-reservations",mobileHeader:"page-reservation-detail.title"},component:T,resolve:{myData:U.N},children:[{path:"",component:Ot.k}].concat(W)},{path:"list-reservations/:display",data:{listType:"list-reservations",tab:"list-reservations"},component:T,resolve:{myData:U.N},children:[{path:"",component:Pt.E}]},{path:"data-dashboard",component:T,data:{isMobile:!0,mobileHeader:"mobile-menu.concierge.archive"},children:[{path:"",component:yt.X}].concat(it)},{path:"login-email",data:{isMobile:!0},component:P.U},{path:"homebook-registration",data:{isMobile:!0,homebook:!0,listType:"homebook"},component:X},{path:"registration",data:{isMobile:!0,register:!0},component:P.U},{path:"account-request",data:{isMobile:!0},component:M.u},{path:"websitebuilder",data:{isMobile:!0,listType:"wsb"},component:X},{path:"list-reservations",redirectTo:"list-reservations/resMenu",pathMatch:"full"},{path:"list-properties",redirectTo:"list-properties/concierge",pathMatch:"full"},{path:"flow-start",component:T,data:{listType:"flow-start",action:"flow-start",mobileHeader:"mobile.header.flow-start"},children:[{path:"start",component:Z.v}]},{path:"view-profile",data:{type:"properties",mobileHeader:"mobile-menu.profile.updateProfile"},component:T,children:[{path:"",component:O.g},{path:"billing",component:Nt.y},{path:"referral",component:qt.s}]}];let nn=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({providers:[E.Q,at,U.N,h.V,j.H],imports:[p.aw,d.P,ht.M,l.CommonModule,c.u5,a.Pc,gt.I,Yt.c,Dt.S,It.D,Rt.H,kt.Q,mt.h,Zt.z,$t.H,f.G,_t.e,Lt.Q,Gt.G,_.d,v.v,Mt.w,o.Bz.forChild(tn),nt.d,s.t,Ct.Q,J.j,At.N,ft.t,Jt.J,Ht.m,Wt.b,b.x,nt.d,Et.F,rt.N,ut.s,vt.S,J.j,Tt.M,lt.o,H.F,dt.j,pt.q,ct.x,st.i,wt.h,x.A]}),e})()}}]);