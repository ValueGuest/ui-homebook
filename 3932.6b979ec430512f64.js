"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3932],{23932:(z,p,a)=>{a.r(p),a.d(p,{I18nReviewModule:()=>j});var m=a(36895),u=a(24006),_=a(34793),c=a(60434),d=a(89383),e=a(94650);let f=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({}),o})();var x=a(49671),C=a(60815),v=a(92340),h=a(80529);let w=(()=>{class o{constructor(){}transform(n,l){return console.log(`filter called with ${JSON.stringify(l)}`),l.filter(t=>!!t).length?n.filter(t=>!l[0]||t[0]?.indexOf(l[0])>-1).filter(t=>!l[1]||t[1]?.indexOf(l[1])>-1).filter(t=>!l[2]||t[2]?.indexOf(l[2])>-1).filter(t=>!l[3]||t[3]?.indexOf(l[3])>-1):n}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275pipe=e.\u0275\u0275definePipe({name:"filter",type:o,pure:!0}),o})();const I=function(o){return{language:1,loc:o}},y=function(o){return{language:2,loc:o}},M=function(o){return{language:3,loc:o}};function V(o,r){if(1&o&&(e.\u0275\u0275elementStart(0,"ion-row")(1,"ion-col"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ion-col"),e.\u0275\u0275elementContainer(4,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-col"),e.\u0275\u0275elementContainer(6,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"ion-col"),e.\u0275\u0275elementContainer(8,10),e.\u0275\u0275elementEnd()()),2&o){const n=r.$implicit,l=e.\u0275\u0275nextContext(2),t=e.\u0275\u0275reference(3),i=e.\u0275\u0275reference(5);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n[0]),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",!n[1]||n[0]===l.locKey&&1===l.language?i:t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(7,I,n)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",!n[2]||n[0]===l.locKey&&2===l.language?i:t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(9,y,n)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",!n[3]||n[0]===l.locKey&&3===l.language?i:t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,M,n))}}function T(o,r){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-grid")(1,"ion-row")(2,"ion-col"),e.\u0275\u0275text(3,"Key"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-col"),e.\u0275\u0275text(5,"Italian"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-col"),e.\u0275\u0275text(7,"English"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ion-col"),e.\u0275\u0275text(9,"French"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"form",3),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.filter())}),e.\u0275\u0275elementStart(11,"ion-row")(12,"ion-col")(13,"ion-input",4),e.\u0275\u0275listener("ngModelChange",function(t){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.filters[0]=t)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"ion-col")(15,"ion-input",5),e.\u0275\u0275listener("ngModelChange",function(t){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.filters[1]=t)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"ion-col")(17,"ion-input",6),e.\u0275\u0275listener("ngModelChange",function(t){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.filters[2]=t)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"ion-col")(19,"ion-input",7),e.\u0275\u0275listener("ngModelChange",function(t){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.filters[3]=t)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(20,"button",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(21,V,9,13,"ion-row",9),e.\u0275\u0275pipe(22,"filter"),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(13),e.\u0275\u0275property("ngModel",n.filters[0]),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.filters[1]),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.filters[2]),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.filters[3]),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind2(22,5,n.localization,n.filters))}}function R(o,r){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",11),e.\u0275\u0275listener("click",function(){const t=e.\u0275\u0275restoreView(n),i=t.loc,g=t.language,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.edit(i[0],g))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&o){const n=r.language,l=r.loc;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(l[n])}}function S(o,r){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ion-icon",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const t=e.\u0275\u0275nextContext(),i=t.loc,g=t.language,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.edit(i[0],g))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}}function O(o,r){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-input",16),e.\u0275\u0275listener("ionBlur",function(){e.\u0275\u0275restoreView(n);const t=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(t.save())})("ngModelChange",function(t){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(i.locValue=t)}),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngModel",n.locValue)}}function E(o,r){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-textarea",17),e.\u0275\u0275listener("ionBlur",function(){e.\u0275\u0275restoreView(n);const t=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(t.save())})("ngModelChange",function(t){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(i.locValue=t)}),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngModel",n.locValue)}}function F(o,r){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",3),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const t=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(t.save())}),e.\u0275\u0275template(1,O,1,1,"ion-input",14),e.\u0275\u0275template(2,E,1,1,"ion-textarea",15),e.\u0275\u0275element(3,"button",8),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext(),l=n.loc,t=n.language;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==l[t]?null:l[t].length)<=40),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==l[t]?null:l[t].length)>40)}}function K(o,r){if(1&o&&(e.\u0275\u0275template(0,S,2,0,"ng-container",0),e.\u0275\u0275template(1,F,4,2,"form",12)),2&o){const n=r.language,l=r.loc,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",l[0]!==t.locKey||n!==t.language),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l[0]===t.locKey&&n===t.language)}}let P=(()=>{class o{constructor(n,l,t){this.http=n,this.vgService=l,this.cdr=t,this.localization=[],this.locKey=void 0,this.locValue=void 0,this.language=0,this.languages=["it","en","fr"],this.languageToIndex={it:1,en:2,fr:3},this.filters=["","","",""]}ngOnInit(){this.getLanguage("en"),this.getLanguage("fr"),this.getLanguage("it")}filter(){console.log("filter"),this.filters=[...this.filters]}edit(n,l){this.locKey=n,this.language=l,this.locValue=this.localization.find(t=>t[0]===this.locKey)[this.language]}save(){var n=this;return(0,x.Z)(function*(){if(n.locKey&&n.language&&n.locValue){const l=n.localization.find(t=>t[0]===n.locKey)[n.language];if(n.locValue!==l){const t=n.localization.findIndex(i=>i[0]===n.locKey);try{yield n.vgService.saveI18n(n.locKey,n.locValue,n.languages[n.language-1]),n.localization[t][n.language]=n.locValue}catch(i){console.log(i)}}n.locKey=void 0,n.language=0,n.locValue=void 0}})()}getLanguage(n){this.http.get(v.N.baseUrl+"/getI18n/"+n).toPromise().then(l=>{for(const[t,i]of Object.entries(l)){let g=this.localization.find(s=>s[0]===t);g||(g=[t,void 0,void 0,void 0],this.localization.push(g)),g[this.languageToIndex[n]]=i}this.localization.sort((t,i)=>t[0].localeCompare(i[0]))})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(h.eN),e.\u0275\u0275directiveInject(C.hZ),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-i18n-review"]],decls:6,vars:1,consts:[[4,"ngIf"],["display",""],["editTemplate",""],[3,"ngSubmit"],["name","filter-key","placeholder","Filter by key and enter",3,"ngModel","ngModelChange"],["name","filter-italian","placeholder","Filter italian value and enter",3,"ngModel","ngModelChange"],["name","filter-english","placeholder","Filter english value and enter",3,"ngModel","ngModelChange"],["name","filter-french","placeholder","Filter french value and enter",3,"ngModel","ngModelChange"],["type","submit"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"loc-value",3,"click"],[3,"ngSubmit",4,"ngIf"],["name","create-outline",3,"click"],["name","localisation-value","autofocus","","type","text","input-mode","text","mode","md","fill","solid",3,"ngModel","ionBlur","ngModelChange",4,"ngIf"],["name","localisation-value","autofocus","","input-mode","text","mode","md","fill","outline","rows","3",3,"ngModel","ionBlur","ngModelChange",4,"ngIf"],["name","localisation-value","autofocus","","type","text","input-mode","text","mode","md","fill","solid",3,"ngModel","ionBlur","ngModelChange"],["name","localisation-value","autofocus","","input-mode","text","mode","md","fill","outline","rows","3",3,"ngModel","ionBlur","ngModelChange"]],template:function(n,l){1&n&&(e.\u0275\u0275elementStart(0,"ion-content"),e.\u0275\u0275template(1,T,23,8,"ion-grid",0),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,R,2,1,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,K,2,2,"ng-template",null,2,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.localization))},dependencies:[c.wI,c.W2,c.jY,c.gu,c.pK,c.Nd,c.g2,c.j9,m.NgForOf,m.NgIf,m.NgTemplateOutlet,u._Y,u.JJ,u.JL,u.On,u.F,w],styles:["ion-row[_ngcontent-%COMP%]{border-top:1px solid lightgray}button[type=submit][_ngcontent-%COMP%]{display:none}ion-col[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;* {flex-grow: 1;}}.loc-value[_ngcontent-%COMP%]{padding:10px 0 10px 10px}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:1px solid lightgray}"]}),o})(),j=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.Pc,m.CommonModule,u.u5,f,d.aw,_.Bz.forChild([{path:"",component:P}])]}),o})()}}]);