"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1388],{1406:(lt,j,i)=>{i.d(j,{y:()=>Ot});var C=i(49671),P=i(28555),T=i(24040),v=i(35817),b=i(897),w=i(76457),U=i(28986),W=i(92340),t=i(94650),L=i(34793),D=i(60434),B=i(33619),F=i(89383),S=i(50303),K=i(99604),k=i(36895);function st(a,h){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),t.\u0275\u0275element(5,"app-login-email",null,8),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd())}function Y(a,h){1&a&&t.\u0275\u0275elementContainer(0)}function pt(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div",4)(1,"ion-content",9),t.\u0275\u0275template(2,Y,1,0,"ng-container",10),t.\u0275\u0275elementEnd()()),2&a){t.\u0275\u0275nextContext();const s=t.\u0275\u0275reference(6);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",s)}}function Z(a,h){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"app-base",11),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&a){t.\u0275\u0275nextContext();const s=t.\u0275\u0275reference(4);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(2,3,"empty-center.concierge.step.title")),t.\u0275\u0275propertyInterpolate("subtitle",t.\u0275\u0275pipeBind1(3,5,"empty-center.concierge.step.subtitle")),t.\u0275\u0275property("templateRef",s)}}function X(a,h){1&a&&(t.\u0275\u0275elementStart(0,"div",24),t.\u0275\u0275element(1,"ion-icon",25),t.\u0275\u0275elementEnd())}function J(a,h){1&a&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275element(1,"ion-icon",27),t.\u0275\u0275elementEnd())}function V(a,h){1&a&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275element(1,"ion-icon",29),t.\u0275\u0275elementEnd())}function M(a,h){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275listener("click",function(){const z=t.\u0275\u0275restoreView(s).$implicit,A=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(A.goToStep(z.action))}),t.\u0275\u0275elementStart(1,"div",17),t.\u0275\u0275template(2,X,2,0,"div",18),t.\u0275\u0275template(3,J,2,0,"div",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",20)(5,"div",21),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",22),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(11,V,2,0,"div",23),t.\u0275\u0275elementEnd()}if(2&a){const s=h.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",s.done),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.done),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,5,s.title)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,7,s.subtitle)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!s.done)}}function c(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275template(1,M,12,9,"div",15),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",s.listStepsConcierge)}}function p(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275elementContainerStart(1),t.\u0275\u0275template(2,c,2,1,"div",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",s.property&&s.user)}}function g(a,h){1&a&&(t.\u0275\u0275elementStart(0,"div",38),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"page-properties-list.page.subtitle.noProperty")))}function _(a,h){1&a&&(t.\u0275\u0275elementStart(0,"div",38),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"empty-center.list-reservation.title")))}function I(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div",36),t.\u0275\u0275template(1,g,3,3,"div",37),t.\u0275\u0275template(2,_,3,3,"div",37),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=s.listProperties&&s.listProperties.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==s.listProperties?null:s.listProperties.length)}}function R(a,h){1&a&&(t.\u0275\u0275elementStart(0,"div",36)(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"empty-center.reservation-menu.title")))}function f(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div",31)(1,"div",32),t.\u0275\u0275element(2,"ion-icon",33),t.\u0275\u0275template(3,I,3,2,"div",34),t.\u0275\u0275template(4,R,4,3,"div",34),t.\u0275\u0275element(5,"img",35),t.\u0275\u0275elementEnd()()),2&a){const s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!s.isReservationSelected),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.isReservationSelected)}}function u(a,h){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"img",35),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"empty-center.property-menu.chooseForWsb.title")))}function H(a,h){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"img",35),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"empty-center.property-menu.chooseForHb.title")))}function e(a,h){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"img",35),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"empty-center.property-menu.chooseForConcierge.title")))}function q(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,u,5,3,"ng-container",0),t.\u0275\u0275template(2,H,5,3,"ng-container",0),t.\u0275\u0275template(3,e,5,3,"ng-container",0),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","wsb"===s.product),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","homebook"===s.product),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","concierge"===s.product)}}function tt(a,h){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"b"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6,"'"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(7,"img",35),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"empty-center.property-menu.title")," '"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(s.propertyName)}}function et(a,h){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"br"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",40)(7,"ion-button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const O=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(O.enableProduct("concierge"))}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",42)(11,"a",43),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,4,"page-dashboard.tab.concierge.createYourconcierge.title"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,6,"page-dashboard.tab.concierge.createYourconcierge.subtitle")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,8,"empty-center.property-menu.createconcierge.button")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,10,"page-dashboard.tab.concierge.discovermore.link"),""))}function nt(a,h){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,tt,8,4,"ng-container",0),t.\u0275\u0275template(2,et,14,12,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.isConciergeCreated),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.isConciergeCreated)}}const G=function(a){return{propertyName:a}};function dt(a,h){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"img",35),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind2(2,1,"empty-center.websitebuilder.title",t.\u0275\u0275pureFunction1(4,G,s.propertyName)),t.\u0275\u0275sanitizeHtml)}}function mt(a,h){1&a&&(t.\u0275\u0275elementStart(0,"a",46),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"page-dashboard.tab.websitebuilder.discovermore.link"),""))}function ut(a,h){1&a&&(t.\u0275\u0275elementStart(0,"a",47),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"page-dashboard.tab.websitebuilder.discovermore.link"),""))}function gt(a,h){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"br"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",40)(7,"ion-button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const O=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(O.enableProduct("wsb"))}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",42),t.\u0275\u0275template(11,mt,3,3,"a",44),t.\u0275\u0275template(12,ut,3,3,"a",45),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&a){const s=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,5,"page-dashboard.tab.websitebuilder.createYourWebsite.title"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,7,"page-dashboard.tab.websitebuilder.createYourWebsite.subtitle")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,9,"empty-center.property-menu.createwsb.button")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","it"===s.translate.currentLang),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","it"!==s.translate.currentLang)}}function ht(a,h){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,dt,4,6,"ng-container",0),t.\u0275\u0275template(2,gt,13,11,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.isWsbCreated),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.isWsbCreated)}}function _t(a,h){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",48),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,1,"empty-center.property-menu.createhomebook.selectmenu"),t.\u0275\u0275sanitizeHtml))}function ft(a,h){1&a&&(t.\u0275\u0275elementStart(0,"a",51),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"empty-center.property-menu.createhomebook.discovermore.link"),""))}function Ct(a,h){1&a&&(t.\u0275\u0275elementStart(0,"a",52),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"empty-center.property-menu.createhomebook.discovermore.link"),""))}function vt(a,h){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"div",40)(4,"ion-button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const O=t.\u0275\u0275nextContext(6);return t.\u0275\u0275resetView(O.enableProduct("homebook"))}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",42),t.\u0275\u0275template(8,ft,3,3,"a",49),t.\u0275\u0275template(9,Ct,3,3,"a",50),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&a){const s=t.\u0275\u0275nextContext(6);t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,4,"empty-center.property-menu.createhomebook.title"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,6,"empty-center.property-menu.createhomebook.button")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","it"===s.translate.currentLang),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","it"!==s.translate.currentLang)}}function xt(a,h){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"div",40)(4,"ion-button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const O=t.\u0275\u0275nextContext(6);return t.\u0275\u0275resetView(O.copyHomebook())}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",53),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",42)(11,"a",54),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const O=t.\u0275\u0275nextContext(6);return t.\u0275\u0275resetView(O.enableProduct("homebook"))}),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,4,"empty-center.property-menu.createhomebook.title"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,6,"empty-center.property-menu.copyhomebook.button")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,8,"page-reservation-list.or")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,10,"empty-center.property-menu.createfrom0homebook.button"),""))}function yt(a,h){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,vt,10,8,"ng-container",0),t.\u0275\u0275template(2,xt,14,12,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.hasOtherHomebook),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.hasOtherHomebook)}}function Pt(a,h){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,_t,3,3,"ng-container",0),t.\u0275\u0275template(2,yt,3,2,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.isHomebookCreated),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.isHomebookCreated)}}function bt(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div",36),t.\u0275\u0275template(1,nt,3,2,"ng-container",0),t.\u0275\u0275template(2,ht,3,2,"ng-container",0),t.\u0275\u0275template(3,Pt,3,2,"ng-container",0),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","concierge"===s.product),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","wsb"===s.product),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","homebook"===s.product)}}function Mt(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div",31)(1,"div",32),t.\u0275\u0275element(2,"ion-icon",33),t.\u0275\u0275template(3,q,4,3,"div",0),t.\u0275\u0275template(4,bt,4,3,"div",34),t.\u0275\u0275elementEnd()()),2&a){const s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!s.isPropertySelected),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.gotoSection&&s.isPropertySelected)}}function It(a,h){if(1&a&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275template(1,f,6,2,"div",30),t.\u0275\u0275template(2,Mt,5,2,"div",30),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","list-reservations"===s.section),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","list-properties"===s.section)}}let Ot=(()=>{class a{constructor(s,l,O,z,A,N,Et,Tt,St,wt){this.route=s,this.store=l,this.homebookService=O,this.valueguestService=z,this.modalCtrl=A,this.scRes=N,this.router=Et,this.dataProvider=Tt,this.utils=St,this.translate=wt,this.isReservationSelected=!1,this.isPropertySelected=!1,this.allStepDone=!1,this.subscriptions=[],this.specificAction=null,this.environment=W.N}ngOnInit(){this.product=this.route.snapshot.data.product;const s=this.utils.getMainParent(this.route.snapshot);s&&(this.section=s.data.listType),this.subscriptions.push(this.route.queryParams.subscribe(l=>{this.gotoSection=l?l.from:null}),this.route.fragment.subscribe(l=>{this.fragment=l}),this.store.pipe((0,P.Ys)(w.Dp)).subscribe(l=>{this.isPropertySelected=void 0!==l,l&&(this.property=l,this.listStepsConcierge=[{done:this.property.bookingToolConnections&&this.property.bookingToolConnections.iCal&&this.property.bookingToolConnections.iCal[0],title:"empty-center.concierge.step.has_ical",subtitle:"empty-center.concierge.step.has_ical.subtitle",action:"has_ical"},{done:this.property.allogiatiweb_credentials&&this.property.allogiatiweb_credentials.alreadyFilled,title:"empty-center.concierge.step.has_aw",subtitle:"empty-center.concierge.step.has_aw.subtitle",action:"has_aw"},{done:this.property.istat&&this.property.istat.region,title:"empty-center.concierge.step.has_istat",subtitle:"empty-center.concierge.step.has_istat.subtitle",action:"has_istat"},{done:this.property.configSSCI,title:"empty-center.concierge.step.has_ssci",subtitle:"empty-center.concierge.step.has_ssci.subtitle",action:"has_ssci"}],this.allStepDone=!!(this.property.bookingToolConnections&&this.property.bookingToolConnections.iCal&&this.property.bookingToolConnections.iCal[0]&&this.property.allogiatiweb_credentials&&this.property.allogiatiweb_credentials.alreadyFilled&&this.property.istat&&this.property.istat.region&&null!=!!this.property.configSSCI),this.isPropertySelected&&(this.propertyName=l.name))}),this.store.pipe((0,P.Ys)(w.Sv)).subscribe(l=>{this.isWsbCreated=l?.isWsbCreated,this.isHomebookCreated=l?.isHomebookCreated,this.isConciergeCreated=l?.isConciergeCreated}),this.store.pipe((0,P.Ys)(w.a4)).subscribe(l=>{this.listProperties=l,this.checkHasOtherHomebook()}),this.store.pipe((0,P.Ys)(w.r7)).subscribe(l=>{this.isReservationSelected=null!==l}),this.store.pipe((0,P.Ys)(w.dy)).subscribe(l=>{l&&(this.user=l)}))}enableProduct(s){switch(s){case"concierge":case"wsb":case"homebook":this.goToCreateProduct(s,this.property.fbId)}}goToCreateProduct(s,l){this.valueguestService.enableProduct(l,s).then(O=>{this.dataProvider.storeSpecificData({launchInitProduct:!0}),this.router.navigate([this.scRes.getStartURL()+"/list-properties/"+s+"/"+l])})}copyHomebook(){this.openPopup(v.P,null,{isPopup:!0,listProperties:this.listHb,fromPropertyId:this.property.fbId,fromGbId:this.property.guestbook_id,showChoice:!1,context:this,action:this.confimCopyHomebook})}confimCopyHomebook(s,l){this.homebookService.copyHomebook(l,s.guestbook.gbId).then(O=>{this.scRes.navigateTomobileOrDesktopURL("/list-properties/homebook/"+O.property.fbId+"/editHomebookSettings")})}ngOnDestroy(){this.subscriptions.forEach(s=>{s.unsubscribe()})}checkAirbnbIcal(){if(this.property.bookingToolConnections&&this.property.bookingToolConnections.iCal)for(const s of this.property.bookingToolConnections.iCal)if(s.url.search("airbnb")>-1)return s.url;return null}openPopup(s,l,O){var z=this;return(0,C.Z)(function*(){z.modalCtrl.create({component:s,componentProps:O,cssClass:["vg-modal","auto-height",l]}).then(A=>{A.onDidDismiss().then(N=>{N?.data?.selectedProperty&&z.confimCopyHomebook(N.data.selectedProperty,N.data.fromGbId)}),A.present()})})()}openPopupConfirmHomebook(){this.openPopup(T.D,null,{iconName:"vg-fireworks",title:this.translate.instant("homebookbuilder.popup.success.title"),subtitle:this.translate.instant("homebookbuilder.popup.success.subtitle").replace("{{propertyName}}",this.property.name),subsubtitle:this.translate.instant("homebookbuilder.popup.success.subsubtitle"),buttonText:this.translate.instant("homebookbuilder.popup.success.continueButton"),data:{},context:this,action:this.closeSuccessPopup})}closeSuccessPopup(){this.modalCtrl.dismiss()}checkHasOtherHomebook(){this.hasOtherHomebook=!1;const s=[];if(this.listProperties){for(const l of this.listProperties)l.guestbook&&(this.hasOtherHomebook=this.hasOtherHomebook||l.guestbook.isHomebookCreated,l.guestbook.isHomebookCreated&&s.push(l));this.listHb=s}}goToStep(s){switch(s){case"has_aw":this.scRes.navigateTomobileOrDesktopURL("/list-properties/concierge/"+this.property.fbId+"/syncAlloggiati");break;case"has_istat":this.scRes.navigateTomobileOrDesktopURL("/list-properties/concierge/"+this.property.fbId+"/istatSettings");break;case"has_ical":this.scRes.navigateTomobileOrDesktopURL("/list-properties/concierge/"+this.property.fbId+"/editCalendars");break;case"has_ssci":this.scRes.navigateTomobileOrDesktopURL("/list-properties/concierge/"+this.property.fbId+"/selfcheckin")}}}return a.\u0275fac=function(s){return new(s||a)(t.\u0275\u0275directiveInject(L.gz),t.\u0275\u0275directiveInject(P.yh),t.\u0275\u0275directiveInject(b.sR),t.\u0275\u0275directiveInject(b.hZ),t.\u0275\u0275directiveInject(D.IN),t.\u0275\u0275directiveInject(b.BU),t.\u0275\u0275directiveInject(L.F0),t.\u0275\u0275directiveInject(U.F),t.\u0275\u0275directiveInject(B.D),t.\u0275\u0275directiveInject(F.sK))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["app-empty-component"]],decls:7,vars:3,consts:[[4,"ngIf"],["class","fullContainer",4,"ngIf"],["childTemplate",""],["emptyTemplate",""],[1,"fullContainer"],[1,"insideTemplateContainer","withBorder"],[1,"compContainer",2,"border-radius","5px"],[1,"noSlider"],["loginEmail",""],["appScrollbarTheme","",1,"mainSection"],[4,"ngTemplateOutlet"],["specificClass","centeredContainer",3,"title","subtitle","templateRef"],[1,"insideTemplateContainer"],["class","listStepsContainer",4,"ngIf"],[1,"listStepsContainer"],["class","stepContainer",3,"click",4,"ngFor","ngForOf"],[1,"stepContainer",3,"click"],[1,"stepIcon"],["class","stepDone",4,"ngIf"],["class","stepMiss",4,"ngIf"],[1,"stepTextContainer"],[1,"stepText"],[1,"stepSubText"],["class","stepChevron",4,"ngIf"],[1,"stepDone"],["name","vg-confirm-outline",1,"finished"],[1,"stepMiss"],["name","vg-error-outline"],[1,"stepChevron"],["name","chevron-forward-outline"],["class","actionContainerEmpty",4,"ngIf"],[1,"actionContainerEmpty"],[1,"centeredInfo"],["name","vg-idea"],["class","topText",4,"ngIf"],["src","./assets/imgs/arrow-long.png",1,"arrow-long"],[1,"topText"],["class","actionTitle",4,"ngIf"],[1,"actionTitle"],[1,"actionTitle",3,"innerHTML"],[1,"submit","buttonCentered"],["expand","full","type","submit","color","primary",1,"button-round",3,"click"],[1,"subaction"],["href","https://valueguest.com/Concierge","target","_blank",1,"link"],["href","https://valueguest.com/websitebuilder","target","_blank","class","link",4,"ngIf"],["href","https://valueguest.com/en/websitebuilder-en","target","_blank","class","link",4,"ngIf"],["href","https://valueguest.com/websitebuilder","target","_blank",1,"link"],["href","https://valueguest.com/en/websitebuilder-en","target","_blank",1,"link"],[1,"actionTitle","bigText",3,"innerHTML"],["href","https://Valueguest.com/homebook","target","_blank","class","link",4,"ngIf"],["href","https://Valueguest.com/en/homebook-en","target","_blank","class","link",4,"ngIf"],["href","https://Valueguest.com/homebook","target","_blank",1,"link"],["href","https://Valueguest.com/en/homebook-en","target","_blank",1,"link"],[1,"between-buttons",2,"margin-bottom","8px"],[1,"link",3,"click"]],template:function(s,l){1&s&&(t.\u0275\u0275template(0,st,7,0,"ng-container",0),t.\u0275\u0275template(1,pt,3,1,"div",1),t.\u0275\u0275template(2,Z,4,7,"ng-container",0),t.\u0275\u0275template(3,p,3,1,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(5,It,3,2,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)),2&s&&(t.\u0275\u0275property("ngIf","login-email"===l.section),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","login-email"!==l.section&&!("list-properties"===l.section&&!l.gotoSection&&!0===l.isPropertySelected&&"concierge"===l.product&&!1===l.allStepDone&&!0===l.isConciergeCreated)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","list-properties"===l.section&&!l.gotoSection&&!0===l.isPropertySelected&&"concierge"===l.product&&!1===l.allStepDone&&!0===l.isConciergeCreated))},dependencies:[S.U,K.H,k.NgForOf,k.NgIf,k.NgTemplateOutlet,D.YG,D.W2,D.gu,F.X$],styles:[".fullContainer[_ngcontent-%COMP%]{display:flex;height:100%}.fullContainer[_ngcontent-%COMP%]   .mainSection[_ngcontent-%COMP%]{--background:none;flex:1}.fullContainer[_ngcontent-%COMP%]   .previewSection[_ngcontent-%COMP%]{transition:all .5s ease-in-out;z-index:1;position:relative;width:0px;top:0;background:white;height:100%}.fullContainer[_ngcontent-%COMP%]   .previewSection[_ngcontent-%COMP%]   app-preview-iphone[_ngcontent-%COMP%]{visibility:hidden}.fullContainer[_ngcontent-%COMP%]   .previewSection.showPreview[_ngcontent-%COMP%]{width:500px;box-shadow:-1px 0 6px #525252}.fullContainer[_ngcontent-%COMP%]   .previewSection.showPreview[_ngcontent-%COMP%]   app-preview-iphone[_ngcontent-%COMP%]{visibility:visible}.fullContainer[_ngcontent-%COMP%]   .previewSection[_ngcontent-%COMP%]   .buttonSlider[_ngcontent-%COMP%]{background:#273951;border-radius:5px 0 0 5px;color:#fff;font-size:22px;display:flex;justify-content:center;flex-direction:column;text-align:center;padding-left:15px;position:absolute;left:-48px;top:185px;width:48px;height:62px;z-index:2;cursor:pointer}.insideTemplateContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;height:100%}.insideTemplateContainer.withBorder[_ngcontent-%COMP%]{height:unset;margin:auto;padding:110px 200px;background:white}.insideTemplateContainer.withBorder[_ngcontent-%COMP%]   .compContainer[_ngcontent-%COMP%]{border-radius:5px;box-shadow:0 2px 10px #00000029;width:453px}.insideTemplateContainer[_ngcontent-%COMP%]   .actionTitle[_ngcontent-%COMP%]{line-height:27px;font-style:normal;font-weight:600;font-size:20px;margin:0 15px}.insideTemplateContainer[_ngcontent-%COMP%]   .subaction[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.insideTemplateContainer[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:10px;font-size:18px}.insideTemplateContainer[_ngcontent-%COMP%]   .trial-user-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:20px 0;text-align:center}.insideTemplateContainer[_ngcontent-%COMP%]   .trial-user-details[_ngcontent-%COMP%]{font-size:16px;text-align:center}.insideTemplateContainer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin:auto;width:100px;height:100px;border-radius:50%;background:url(/assets/imgs/favicon.png);border:1px solid white;background-size:contain}iframe[_ngcontent-%COMP%]{border:0;height:100%;width:100%}.actionContainerEmpty[_ngcontent-%COMP%]{height:100%}.actionContainerEmpty[_ngcontent-%COMP%]   .titleTop[_ngcontent-%COMP%]{margin:5px 0 10px;font-weight:500;font-size:20px;line-height:15px;color:var(--text-color-primary)}.actionContainerEmpty[_ngcontent-%COMP%]   .subtitleTop[_ngcontent-%COMP%]{font-size:14px;line-height:18px;color:var(--text-color-primary)}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center;align-self:center;font-style:normal;font-weight:400;font-size:16px;line-height:22px;color:var(--text-color-primary);text-align:center;align-items:center;flex-direction:column}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:25px}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   .arrow-long[_ngcontent-%COMP%]{width:230px;align-self:self-end;position:absolute;left:100px;top:60%}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   .topText[_ngcontent-%COMP%]{margin-top:5px}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   .topText.borderBottom[_ngcontent-%COMP%]{padding-bottom:15px;margin-bottom:15px;border-bottom:1px solid #5F6D83}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;margin-top:5px}.submit[_ngcontent-%COMP%]{margin-top:20px}.bigText[_ngcontent-%COMP%]{text-align:left!important;font-weight:400!important;font-size:14px!important}.bigText[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:7px!important}.stepContainer[_ngcontent-%COMP%]{display:flex;margin-bottom:25px;align-items:center;max-width:500px;cursor:pointer}.stepContainer[_ngcontent-%COMP%]   .stepTextContainer[_ngcontent-%COMP%]{flex:1;margin-left:15px}.stepContainer[_ngcontent-%COMP%]   .stepTextContainer[_ngcontent-%COMP%]   .stepText[_ngcontent-%COMP%]{font-weight:600;font-size:16px;text-align:left}.stepContainer[_ngcontent-%COMP%]   .stepTextContainer[_ngcontent-%COMP%]   .stepSubText[_ngcontent-%COMP%]{font-size:12px;text-align:left}.stepContainer[_ngcontent-%COMP%]   .stepChevron[_ngcontent-%COMP%]{align-items:center;font-size:30px;display:flex}.stepContainer[_ngcontent-%COMP%]   .stepIcon[_ngcontent-%COMP%]{cursor:pointer}.stepContainer[_ngcontent-%COMP%]   .stepIcon[_ngcontent-%COMP%]   .stepDone[_ngcontent-%COMP%], .stepContainer[_ngcontent-%COMP%]   .stepIcon[_ngcontent-%COMP%]   .stepMiss[_ngcontent-%COMP%]{display:flex}.stepContainer[_ngcontent-%COMP%]   .stepIcon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px;padding:4px;margin-bottom:0}"]}),a})()},35346:(lt,j,i)=>{i.d(j,{T:()=>F});var C=i(36895),P=i(24006),T=i(60434),v=i(89383),b=i(24592),w=i(89044),U=i(56205),W=i(41226),t=i(46530),L=i(6997),D=i(10399),B=i(94650);let F=(()=>{class S{}return S.\u0275fac=function(k){return new(k||S)},S.\u0275mod=B.\u0275\u0275defineNgModule({type:S}),S.\u0275inj=B.\u0275\u0275defineInjector({imports:[v.aw,t.u,D.G,L.u,U.P,b.V,w.Y,C.CommonModule,W.N,P.u5,T.Pc]}),S})()},71388:(lt,j,i)=>{i.r(j),i.d(j,{MainComponentModule:()=>be});var C=i(36895),P=i(24006),T=i(34793),v=i(60434),b=i(89383),w=i(41228),U=i(10399),W=i(78137),t=i(89427),L=i(16775),D=i(78273),B=i(28395),F=i(56822),S=i(88886),K=i(4931),k=i(77513),st=i(73143),Y=i(56205),pt=i(69998),Z=i(91898),X=i(7065),J=i(66934),V=i(49671),M=i(28555),c=i(54073),p=i(24040),g=i(13592),_=i(35817),I=i(26618),R=i(89291),f=i(897),u=i(76457),H=i(28986),e=i(94650),q=i(11481),tt=i(33619),et=i(28029),nt=i(98071),G=i(17192);const dt=function(o){return{options:o}};function mt(o,d){if(1&o&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3)(2,"div",4),e.\u0275\u0275element(3,"ion-icon",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",6),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",7),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",8)(9,"ul",9),e.\u0275\u0275elementContainer(10,10),e.\u0275\u0275elementEnd()()()),2&o){const n=e.\u0275\u0275nextContext(),r=e.\u0275\u0275reference(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2(" ",n.user.firstname," ",n.user.lastname," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.user.email," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(5,dt,n.listOptions))}}function ut(o,d){if(1&o&&e.\u0275\u0275element(0,"ion-icon",20),2&o){const n=e.\u0275\u0275nextContext(2).$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275classMapInterpolate2("",n.icon.replace(".svg","")," ",n.status,""),e.\u0275\u0275propertyInterpolate2("src","",r.pathIcons,"",n.icon,"")}}function gt(o,d){if(1&o&&e.\u0275\u0275element(0,"img",20),2&o){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275classMapInterpolate2("",n.icon.replace(".png","")," ",n.status,""),e.\u0275\u0275propertyInterpolate1("src","./assets/icon/",n.icon,"",e.\u0275\u0275sanitizeUrl)}}function ht(o,d){if(1&o&&e.\u0275\u0275element(0,"ion-icon",21),2&o){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275classMapInterpolate2("",n.icon," ",n.status,""),e.\u0275\u0275propertyInterpolate("name",n.icon)}}function _t(o,d){if(1&o&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275template(1,ut,1,6,"ion-icon",18),e.\u0275\u0275template(2,gt,1,5,"img",18),e.\u0275\u0275template(3,ht,1,5,"ion-icon",19),e.\u0275\u0275elementEnd()),2&o){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.icon.search("\\.svg")>-1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.icon.search("\\.png")>-1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",-1===n.icon.search("\\."))}}function ft(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",12)(1,"div",13),e.\u0275\u0275listener("click",function(){const x=e.\u0275\u0275restoreView(n).$implicit,y=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(y.actionMenu(x))}),e.\u0275\u0275template(2,_t,4,3,"div",14),e.\u0275\u0275elementStart(3,"div",15)(4,"span",16),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()()()}if(2&o){const n=d.$implicit;e.\u0275\u0275property("ngClass",n.disabled?"disabled":""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.icon),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,n.text))}}function Ct(o,d){1&o&&e.\u0275\u0275template(0,ft,7,5,"li",11),2&o&&e.\u0275\u0275property("ngForOf",d.options)}let vt=(()=>{class o{constructor(n,r,m,x,y,E,it,rt,at){this.authService=n,this.store=r,this.router=m,this.activatedRoute=x,this.modalCtrl=y,this.translate=E,this.toastController=it,this.alertCtrl=rt,this.scRes=at,this.errors=[],this.pathIcons="./assets/icon/svg/",this.isPopup=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.store.pipe((0,M.Ys)(u.dy)).subscribe(n=>{this.user=n,this.listOptions=this.getListOptions()}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}getListOptions(){return[{text:"flow-start-menu.menu.startFromHere",icon:"flag-outline"}]}actionMenu(n){if(n.disabled)this.toastController.create({message:this.translate.instant("toast.comingsoon"),duration:2e3}).then(r=>{r.present()});else switch(n.action){case"deleteProperty":this.presentConfirmDeleteProperty();break;case"logout":this.logout();break;default:this.scRes.doesDisplayInPopup(n)?this.openPopup(n.component,null,{isPopup:!0}):(this.store.dispatch(new u.u2.SelectMenu(n.action)),this.router.navigate(["./"+n.action],{relativeTo:this.activatedRoute}))}}openPopup(n,r,m){var x=this;return(0,V.Z)(function*(){x.modalCtrl.create({component:n,componentProps:m,cssClass:["vg-modal","auto-height",r]}).then(y=>{y.onDidDismiss().then(E=>{}),y.present()})})()}presentConfirmDeleteProperty(){this.alertCtrl.create({header:this.translate.instant("page-property.deletePopup.title"),message:this.translate.instant("page-property.deletePopup.message"),buttons:[{text:this.translate.instant("page-property.deletePopup.cancel"),role:"cancel"},{text:this.translate.instant("page-property.deletePopup.remove"),handler:()=>{}}]}).then(n=>n.present())}logout(){this.errors=[],this.authService.logout().then(()=>{this.router.navigateByUrl("")}).catch(n=>{this.errors.push(n)})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(f.e8),e.\u0275\u0275directiveInject(M.yh),e.\u0275\u0275directiveInject(T.F0),e.\u0275\u0275directiveInject(T.gz),e.\u0275\u0275directiveInject(v.IN),e.\u0275\u0275directiveInject(b.sK),e.\u0275\u0275directiveInject(v.yF),e.\u0275\u0275directiveInject(v.Br),e.\u0275\u0275directiveInject(f.BU))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-flow-start-menu"]],decls:3,vars:1,consts:[["class","fullContainer",4,"ngIf"],["menuList",""],[1,"fullContainer"],[1,"topContainer"],[1,"avatar"],["name","vg-login-2"],[1,"name"],[1,"email"],[1,"dropDownMenu"],[1,"actions-list"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"action",3,"click"],["class","action-icon",4,"ngIf"],[1,"action-titles"],[1,"action-title"],[1,"action-icon"],[3,"class","src",4,"ngIf"],[3,"class","name",4,"ngIf"],[3,"src"],[3,"name"]],template:function(n,r){1&n&&(e.\u0275\u0275template(0,mt,11,7,"div",0),e.\u0275\u0275template(1,Ct,1,1,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&n&&e.\u0275\u0275property("ngIf",r.user)},dependencies:[C.NgClass,C.NgForOf,C.NgIf,C.NgTemplateOutlet,v.gu,b.X$],styles:[".fullContainer[_ngcontent-%COMP%]{flex:1;height:-moz-fit-content;height:fit-content;display:block;border-radius:3px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]{margin-top:15px;text-align:center;color:var(--text-color-primary)}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-bottom:10px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:65px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:18px;line-height:20px;margin-bottom:5px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;margin-bottom:5px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;margin-bottom:10px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .badgeContainer[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:15px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .badgeContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] + ion-icon[_ngcontent-%COMP%]{margin-left:10px}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]{transition:max-height .4s ease-in-out;max-height:500px}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu.collapsed[_ngcontent-%COMP%]{max-height:0px!important}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style:none;margin:0;padding:20px 10px 0}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list.subAction[_ngcontent-%COMP%]{padding:0 20px}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:1px solid #9299A3}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .action-title[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:16px}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;font-size:20px;margin-left:15px;color:var(--text-color-primary)}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]   .subActionArrow[_ngcontent-%COMP%]{color:var(--text-color-primary)}"]}),o})();var xt=i(98224),yt=i(44737),Pt=i(35523);let bt=(()=>{class o{constructor(n,r,m,x,y){this.authService=n,this.store=r,this.translate=m,this.scRes=x,this.viewCtrl=y,this.errors=[],this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.store.pipe((0,M.Ys)(u.dy)).subscribe(n=>{n&&(this.listContractId=n.listContractId)}),this.store.pipe((0,M.Ys)(u.q9)).subscribe(n=>{const r=[];if(n)for(const m of n)r.push({label:m.name,value:m.id});this.listRadio=r}))}goTo(n){switch(n){case"sendNewContract":this.openPopup(Pt.t,null,{title:"paperfree.create-template.chooseTemplate.popup.title",listValue:this.listRadio,context:this,confirmButtonText:this.translate.instant("paperfree.create-template.popup.button.confirm"),errorPrefix:"paperfree.create-template.popup.error",action:this.createContract});break;case"templateDatabase":this.scRes.navigateTomobileOrDesktopURL("/paperfree/template-database");break;case"listContracts":this.scRes.navigateTomobileOrDesktopURL("/paperfree/list-contract")}}createContract(n){n.context.contractService.buildEmptyContract(n.context.listContractId,n.data).then(r=>{n.context.viewCtrl.dismiss(),n.context.scRes.navigateTomobileOrDesktopURL("/paperfree/send-contract/"+r.contextInfo.newContractId)})}openPopup(n,r,m){var x=this;return(0,V.Z)(function*(){x.viewCtrl.create({component:n,componentProps:m,cssClass:["vg-modal","auto-height",r]}).then(y=>{y.onDidDismiss().then(E=>{}),y.present()})})()}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}ionViewDidEnter(){}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(f.e8),e.\u0275\u0275directiveInject(M.yh),e.\u0275\u0275directiveInject(b.sK),e.\u0275\u0275directiveInject(f.BU),e.\u0275\u0275directiveInject(v.IN))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-paperfree-menu"]],decls:11,vars:9,consts:[[1,"fullContainer"],[1,"menu"],[1,"item",3,"click"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275listener("click",function(){return r.goTo("sendNewContract")}),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",2),e.\u0275\u0275listener("click",function(){return r.goTo("templateDatabase")}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",2),e.\u0275\u0275listener("click",function(){return r.goTo("listContracts")}),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"paperfree.menu.item.sendNewContract")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"paperfree.menu.item.templateDatabase")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,7,"paperfree.menu.item.listContracts")))},dependencies:[b.X$],styles:[".menu[_ngcontent-%COMP%]{margin-top:20px;padding:15px}.menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:15px;font-size:16px;cursor:pointer}.menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#9f36580a}"]}),o})();var Mt=i(69975);function It(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-account-request"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function Ot(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.back())}),e.\u0275\u0275element(1,"ion-icon",12),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"page-property-menu.backToPropertyList")))}function a(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"app-list-properties",14,15),e.\u0275\u0275elementEnd())}function h(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"app-property-menu",14),e.\u0275\u0275elementEnd())}function s(o,d){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ot,5,3,"div",8),e.\u0275\u0275elementStart(2,"div",6),e.\u0275\u0275template(3,a,3,0,"div",9),e.\u0275\u0275template(4,h,2,0,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedProperty),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.selectedProperty),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedProperty)}}function l(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",17),e.\u0275\u0275element(3,"app-paperfree-menu"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function O(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.backReservation())}),e.\u0275\u0275element(1,"ion-icon",12),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"page-property-menu.backToReservationList")))}function z(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"app-reservation-list",null,18),e.\u0275\u0275elementEnd())}function A(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"app-reservation-menu"),e.\u0275\u0275elementEnd())}function N(o,d){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,O,5,3,"div",8),e.\u0275\u0275elementStart(2,"div",6),e.\u0275\u0275template(3,z,3,0,"div",9),e.\u0275\u0275template(4,A,2,0,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedReservation),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.selectedReservation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedReservation)}}function Et(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-list-invii",null,19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function Tt(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-dashboard-menu"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function St(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-view-profile"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function wt(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-flow-start-menu"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function zt(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-fab",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.clickAddButton())}),e.\u0275\u0275elementStart(1,"ion-fab-button"),e.\u0275\u0275element(2,"ion-icon",21),e.\u0275\u0275elementEnd()()}}const At=function(o){return{flowStart:o}},Nt=function(o){return{grayBackground:o}};let Q=(()=>{class o{constructor(n,r,m,x,y,E,it,rt,at,Ht,Bt){this.router=n,this.homebookService=r,this.subscriptionService=m,this.route=x,this.modalCtrl=y,this.store=E,this.dataProvider=it,this.sanitizer=rt,this.scRes=at,this.translate=Ht,this.utils=Bt,this.selectedRes=!1,this.selectedProperty=!1,this.selectedReservation=!1,this.stepAction="",this.subscriptions=[]}shouldDisplayIstatPopup(){return!1}ngAfterViewInit(){this.shouldDisplayIstatPopup()&&this.openPopup(g.M,null),this.route.snapshot.queryParams&&"true"===this.route.snapshot.queryParams.initiate&&"true"!==this.route.snapshot.queryParams.showcase&&this.presentPasswordPopup()}ngOnInit(){this.product=this.route.snapshot.data.product;const n=this.utils.getMainParent(this.route.snapshot);n&&(this.menuType=n.data.listType),"list-reservations"===this.menuType&&this.handleListReservationsDisplay(),"list-properties"===this.menuType&&this.handleListPropertiesDisplay(),"view-profile"===this.menuType&&this.handleViewProfileDisplay(),"list-schedine"===this.menuType&&this.handleListSchedineDisplay(),"login-email"===this.menuType&&this.handleLoginEmailDisplay(),"paperfree-menu"===this.menuType&&this.handleContractsDisplay(),this.subscriptions.push(this.store.pipe((0,M.Ys)(u.Dy)).subscribe(r=>{this.isResEmpty=0===r.length}),this.store.pipe((0,M.Ys)(u.dy)).subscribe(r=>{this.user=r}),this.store.pipe((0,M.Ys)(u.a4)).subscribe(r=>{this.listProperties=r,this.checkHasOtherHomebook(r),this.hasIcal=this.hasIcalFn(r),this.isNoProp=0===r.length}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}hasIcalFn(n){if(n&&n.length>0)for(const r of n)if(r.bookingToolConnections&&r.bookingToolConnections.iCal&&r.bookingToolConnections.iCal.length>0)return!0;return!1}goToData(n){this.router.navigate(["desktop-view/dashboard/"+n+"/data/report"])}clickAddButton(){"list-reservations"===this.menuType?this.listRes.addReservation():"list-properties"===this.menuType&&"homebook"===this.product&&this.hasOtherHomebook?this.hasEnoughInPlan()?this.copyHomebook():this.openPopup(p.D,null,{iconName:"vg-crown",title:this.translate.instant("missing-billing-popup.title"),subtitle:this.translate.instant("missing-billing-popup.subtitle"),buttonText:this.translate.instant("missing-billing-popup.button.goToPage"),data:{},context:this,action:this.goToSubscribePage}):"list-properties"===this.menuType&&(this.hasEnoughInPlan()?this.listProp.addProperty():this.openPopup(p.D,null,{iconName:"vg-crown",title:this.translate.instant("missing-billing-popup.title"),subtitle:this.translate.instant("missing-billing-popup.subtitle"),buttonText:this.translate.instant("missing-billing-popup.button.goToPage"),data:{},context:this,action:this.goToSubscribePage}))}goToSubscribePage(){this.router.navigate([this.scRes.getStartURL()+"/view-profile/billing"])}hasEnoughInPlan(){return this.subscriptionService.canAddOneProperty(this.user,this.product)}confirmPlanPopup(){this.modal&&this.modal.dismiss()}handleListSchedineDisplay(){}handleLoginEmailDisplay(){this.subscriptions.push(this.store.pipe((0,M.Ys)(u.r7)).subscribe(n=>{this.selectedContract=!!n}))}handleListReservationsDisplay(){this.subscriptions.push(this.store.pipe((0,M.Ys)(u.r7)).subscribe(n=>{this.selectedReservation=!!n}))}handleContractsDisplay(){}handleListPropertiesDisplay(){this.route.snapshot.params.id||this.store.dispatch(new u.eX.SelectProperty(null)),this.subscriptions.push(this.store.pipe((0,M.Ys)(u.Dp)).subscribe(r=>{this.property=r,this.selectedProperty=!!r}),this.store.pipe((0,M.Ys)(u.su)).subscribe(r=>{r.previewData&&"wsb"===r.previewData.product&&(this.showPreviewWsb=!0)}))}back(){this.store.dispatch(new u.WO.UpdateGuestbook(null)),this.store.dispatch(new u.eX.SelectProperty(null)),this.router.navigate(["desktop-view/list-properties/"+this.product]),this.store.dispatch(new u.u2.UpdateGenericData({previewData:null}))}backReservation(){this.store.dispatch(new u.eX.SelectReservation(null,null)),this.router.navigate(["desktop-view/list-reservations"])}handleViewProfileDisplay(){}openPopup(n,r,m){var x=this;return(0,V.Z)(function*(){x.modalCtrl.create({component:n,componentProps:m,cssClass:["vg-modal","auto-height",r]}).then(y=>{y.onDidDismiss().then(E=>{E?.data?.hasSkippedCopy&&x.listProp.addProperty(),E?.data?.selectedProperty&&x.confimCopyHomebook(E.data.selectedProperty)}),x.modal=y,y.present()})})()}checkHasOtherHomebook(n){this.hasOtherHomebook=!1;const r=[];if(n)for(const m of n)m&&m.guestbook&&(this.hasOtherHomebook=this.hasOtherHomebook||m.guestbook.isHomebookCreated,m.guestbook.isHomebookCreated&&r.push(m));this.listHb=r}copyHomebook(){this.openPopup(_.P,null,{isPopup:!0,listProperties:this.listHb,showChoice:!0,context:this,action:this.confimCopyHomebook})}confimCopyHomebook(n){this.homebookService.copyHomebook(null,n.guestbook.gbId).then(r=>{this.scRes.navigateTomobileOrDesktopURL("/list-properties/homebook/"+r.property.fbId+"/editHomebookSettings"),this.openPopupConfirmHomebook(r.property.name)})}openPopupConfirmHomebook(n){this.openPopup(p.D,null,{iconName:"vg-fireworks",title:this.translate.instant("homebookbuilder.popup.success.title"),subtitle:this.translate.instant("homebookbuilder.popup.success.subtitle").replace("{{propertyName}}",n),subsubtitle:this.translate.instant("homebookbuilder.popup.success.subsubtitle"),buttonText:this.translate.instant("homebookbuilder.popup.success.continueButton"),data:{},context:this,action:this.closeSuccessPopup})}closeSuccessPopup(){this.modalCtrl.dismiss()}presentPasswordPopup(){this.modalCtrl.create({component:c.g,componentProps:{iconName:"vg-confirm",title:this.translate.instant("upgrade-plan.success.title"),subtitle:this.translate.instant("upgrade-plan.success.subtitle"),buttonText:this.translate.instant("upgrade-plan.success.continue"),context:this,action:this.closeSuccessPopup},cssClass:["vg-modal","auto-height"]}).then(n=>{n.onDidDismiss().then(r=>{}),this.modal=n,n.present()})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(T.F0),e.\u0275\u0275directiveInject(f.sR),e.\u0275\u0275directiveInject(f.FF),e.\u0275\u0275directiveInject(T.gz),e.\u0275\u0275directiveInject(v.IN),e.\u0275\u0275directiveInject(M.yh),e.\u0275\u0275directiveInject(H.F),e.\u0275\u0275directiveInject(q.DomSanitizer),e.\u0275\u0275directiveInject(f.BU),e.\u0275\u0275directiveInject(b.sK),e.\u0275\u0275directiveInject(tt.D))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-main"]],viewQuery:function(n,r){if(1&n&&(e.\u0275\u0275viewQuery(R.E,5),e.\u0275\u0275viewQuery(I.b,5)),2&n){let m;e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.listRes=m.first),e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.listProp=m.first)}},decls:15,vars:19,consts:[[3,"ngClass"],[1,"leftMenu",3,"ngClass"],["appScrollbarTheme",""],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",3,"click",4,"ngIf"],[1,"mainContainer"],[1,"insideContentMenu"],[1,"noSlider"],["class","backContainer",3,"click",4,"ngIf"],["class","listPropCont",4,"ngIf"],["class","menuPropCont",4,"ngIf"],[1,"backContainer",3,"click"],["name","vg-arrow-back"],[1,"listPropCont"],["needHeader","true"],["listProp",""],[1,"menuPropCont"],[1,""],["listRes",""],["listSchedine",""],["vertical","bottom","horizontal","end","slot","fixed",3,"click"],["name","add"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"ion-content",2),e.\u0275\u0275template(3,It,4,0,"ng-container",3),e.\u0275\u0275template(4,s,5,3,"ng-container",3),e.\u0275\u0275template(5,l,4,0,"ng-container",3),e.\u0275\u0275template(6,N,5,3,"ng-container",3),e.\u0275\u0275template(7,Et,5,0,"ng-container",3),e.\u0275\u0275template(8,Tt,4,0,"ng-container",3),e.\u0275\u0275template(9,St,4,0,"ng-container",3),e.\u0275\u0275template(10,wt,4,0,"ng-container",3),e.\u0275\u0275template(11,zt,3,0,"ion-fab",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"ion-content",2)(13,"div",5),e.\u0275\u0275element(14,"router-outlet"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275classMapInterpolate2("fullContainer ","paperfree-menu"===r.menuType?"paperfree":""," ","view-profile"===r.menuType?"view-profile":"",""),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,At,"flow-start"===r.menuType||"login-email"===r.menuType)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,Nt,!r.selectedRes&&!r.selectedProperty)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","account-request"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","list-properties"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","paperfree-menu"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","list-reservations"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","list-schedine"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","data-dashboard"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","view-profile"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","flow-start"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","list-reservations"===r.menuType&&!r.isResEmpty&&!r.selectedReservation||"list-properties"===r.menuType&&!r.isNoProp&&!r.route.snapshot.params.id))},dependencies:[C.NgClass,C.NgIf,I.b,et.G,v.W2,v.IJ,v.W4,v.gu,nt.k,G.X,R.E,vt,xt.u,yt.m,bt,D.a,Mt.g,T.lC,b.X$],styles:[".fullContainer[_ngcontent-%COMP%]{background:white;display:flex;height:100%}.titleAndTemplateContainer.loginContainers[_ngcontent-%COMP%]{align-items:center;justify-content:center}.templateContainer[_ngcontent-%COMP%]{max-width:400px!important}.leftMenu[_ngcontent-%COMP%]{padding:20px 0 10px;background-color:#fff;width:33%;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));z-index:2;height:100%}@media (min-width: 1500px){.leftMenu[_ngcontent-%COMP%]{width:25%}}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:none}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .backContainer[_ngcontent-%COMP%]{cursor:pointer;margin-left:20px;margin-top:10px;padding:0;text-align:left;color:var(--text-color-primary);width:100%;position:relative}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .backContainer.showBackButton[_ngcontent-%COMP%]{display:block}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .backContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;top:2px}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .backContainer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;vertical-align:baseline;line-height:45px;margin-left:4px}ion-fab[_ngcontent-%COMP%]{margin:10px}.mainContainer[_ngcontent-%COMP%]{height:100%}.paperfree[_ngcontent-%COMP%]   .leftMenu[_ngcontent-%COMP%]{width:250px}.view-profile[_ngcontent-%COMP%]   .leftMenu[_ngcontent-%COMP%]{width:350px}.flowStart[_ngcontent-%COMP%]   .leftMenu[_ngcontent-%COMP%]{width:0px}"]}),o})();var Ut=i(23394),ct=i(87196),ot=i(78425),Wt=i(57909),Kt=i(68639),Dt=i(4100),kt=i(89044);let Yt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[C.CommonModule,Y.P,P.u5,v.Pc,L.I,kt.Y,Dt.G,P.UX,b.aw]}),o})();var Gt=i(51944),Lt=i(36033),Qt=i(78320),Xt=i(33021),$t=i(46480);let Zt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[C.CommonModule,Y.P,P.u5,v.Pc,kt.Y,Dt.G,P.UX,$t.x,b.aw]}),o})();var Jt=i(91054),qt=i(92488),te=i(30049),ee=i(80529),ne=i(35122),oe=i(99604),ie=i(60751);const re=["pdfViewerPreview"],ae=["pdfViewer"];function se(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"paperfree.list-contract.noContract")," "))}function pe(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"app-expand-item",10),e.\u0275\u0275listener("actionClicked",function(m){e.\u0275\u0275restoreView(n);const x=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(x.onAction(m))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&o){const n=d.$implicit,r=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("title",n.id)("subtitle",r.getStatus(n))("subtitleAlwaysOn",!0)("actions",r.getListOption(n))("data",n)}}function ce(o,d){if(1&o&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275elementContainerStart(1),e.\u0275\u0275elementStart(2,"div",8),e.\u0275\u0275template(3,pe,2,5,"ng-container",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementEnd()),2&o){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.listContract)}}function le(o,d){if(1&o&&(e.\u0275\u0275template(0,se,3,3,"div",6),e.\u0275\u0275template(1,ce,5,1,"div",6)),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",!n.listContract||0===n.listContract.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.listContract&&n.listContract.length>0)}}const de=function(o){return{showPreview:o}};let me=(()=>{class o{constructor(n,r,m,x,y,E,it,rt,at,Ht,Bt,Me,Ie,Oe){this.authService=n,this.scRes=r,this.contractService=m,this.activateroute=x,this.store=y,this.viewCtrl=E,this.datePipe=it,this.router=rt,this.http=at,this.scres=Ht,this.translate=Bt,this.formBuilder=Me,this.alertCtrl=Ie,this.location=Oe,this.isPopup=!1,this.errors=[],this.success=!1,this.subscriptions=[],this.step=1}getListOption(n){const r=[];return n.sent||(r.push({title:"send-contract.listContracts.action.modify",icon:"vg-edit",actionId:"modify",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.delete",icon:"vg-delete",actionId:"delete",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.preview",icon:"vg-eye",actionId:"view_preview",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.viewGuestLink",icon:"vg-pen",actionId:"view_link",isAllowed:!0})),n.sent&&n.signed&&(r.push({title:"send-contract.listContracts.action.viewFinalContract",icon:"vg-eye",actionId:"view_final",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.download",icon:"download-outline",actionId:"download",isAllowed:!0})),n.sent&&!n.signed&&(r.push({title:"send-contract.listContracts.action.modify",icon:"vg-edit",actionId:"modify",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.preview",icon:"vg-eye",actionId:"view_preview",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.sendReminder",icon:"vg-email",actionId:"sendReminder",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.viewGuestLink",icon:"vg-pen",actionId:"view_link",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.delete",icon:"vg-delete",actionId:"delete",isAllowed:!0})),r}onAction(n){switch(n.actionId){case"delete":this.contractService.deleteContract(this.user.listContractId,n.data.id,null);break;case"view_preview":this.showPdf("preview",n.data.id);break;case"view_final":this.showPdf("final",n.data.id);break;case"view_link":case"sendReminder":break;case"download":this.contractService.downloadContract(n.data.id,"final");break;case"modify":this.editContract(n.data)}}showPdf(n,r){this.showPreview=!0,this.contractService.getContractPdf(r,n,"host_preview").then(m=>{this.pdfViewerPreview.pdfSrc=m,this.pdfViewerPreview.refresh()})}ngAfterViewInit(){}previous(){this.location.back()}ngOnInit(){this.subscriptions.push(this.store.pipe((0,M.Ys)(u.Dl)).subscribe(n=>{this.listContract=n}),this.store.pipe((0,M.Ys)(u.dy)).subscribe(n=>{this.user=n}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}createNewContract(){this.scRes.navigateTomobileOrDesktopURL("/paperfree/send-contract/new")}editContract(n){this.scRes.navigateTomobileOrDesktopURL("/paperfree/send-contract/"+n.id)}getFormatDate(n){return this.datePipe.transform(n,"dd/MM/yyyy")}getStatus(n){switch(n.status){case"sent":return"Contract Sent the "+this.getFormatDate(n.sentInfo.dateSent)+" to :"+n.sentInfo.sentTo;case"guest_open":return"Guest opened it the "+this.getFormatDate(n.readInfo.dateRead);case"signed":return"Guest SIGNED it the "+this.getFormatDate(n.signedInfo.dateSigned);case"creation":return"Status: Not Sent"}}closePdfPreview(){this.showPreview=!1}goToCreateTemplate(){}openPopup(n,r,m){var x=this;return(0,V.Z)(function*(){x.viewCtrl.create({component:n,componentProps:m,cssClass:["vg-modal","auto-height",r]}).then(y=>{y.onDidDismiss().then(E=>{E?.data?.success&&x.presentSuccess(E.data.emailSent)}),y.present()})})()}closeModal(n){this.modalSuccess.dismiss()}presentSuccess(n){this.viewCtrl.create({component:p.D,componentProps:{iconName:"vg-confirm",title:this.translate.instant("manage-template.success.title"),subtitle:this.translate.instant("manage-template.success.subtitle").replace("{{email}}",n),subsubtitle:this.translate.instant("manage-template.success.subsubtitle"),buttonText:this.translate.instant("manage-template.success.continue"),context:this,action:this.closeModal},cssClass:["vg-modal","auto-height"]}).then(r=>{r.onDidDismiss().then(m=>{}),this.modalSuccess=r,r.present()})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(f.e8),e.\u0275\u0275directiveInject(f.BU),e.\u0275\u0275directiveInject(f.Rp),e.\u0275\u0275directiveInject(T.gz),e.\u0275\u0275directiveInject(M.yh),e.\u0275\u0275directiveInject(v.IN),e.\u0275\u0275directiveInject(C.DatePipe),e.\u0275\u0275directiveInject(T.F0),e.\u0275\u0275directiveInject(ee.eN),e.\u0275\u0275directiveInject(f.BU),e.\u0275\u0275directiveInject(b.sK),e.\u0275\u0275directiveInject(P.QS),e.\u0275\u0275directiveInject(v.Br),e.\u0275\u0275directiveInject(C.Location))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-list-contract"]],viewQuery:function(n,r){if(1&n&&(e.\u0275\u0275viewQuery(re,5),e.\u0275\u0275viewQuery(ae,5)),2&n){let m;e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.pdfViewerPreview=m.first),e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.pdfViewer=m.first)}},decls:10,vars:12,consts:[[1,"pdfView",3,"ngClass"],[1,"close-icon"],["name","vg-close",3,"click"],["pdfViewerPreview",""],[3,"title","subtitle","templateRef","isPopup","errors"],["childTemplate",""],["class","insideTemplateContainer",4,"ngIf"],[1,"insideTemplateContainer"],[1,"listContract"],[4,"ngFor","ngForOf"],["iconName","vg-...","iconCSS","icon-without-border",3,"title","subtitle","subtitleAlwaysOn","actions","data","actionClicked"]],template:function(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"ion-icon",2),e.\u0275\u0275listener("click",function(){return r.closePdfPreview()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(3,"ng2-pdfjs-viewer",null,3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"app-base",4),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275template(8,le,2,2,"ng-template",null,5,e.\u0275\u0275templateRefExtractor)),2&n){const m=e.\u0275\u0275reference(9);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,de,r.showPreview)),e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind1(6,6,"list-contract.title")),e.\u0275\u0275propertyInterpolate("subtitle",e.\u0275\u0275pipeBind1(7,8,"list-contract.subtitle")),e.\u0275\u0275property("templateRef",m)("isPopup",r.isPopup)("errors",r.errors)}},dependencies:[C.NgClass,C.NgForOf,C.NgIf,v.gu,ne.e,oe.H,ie.M,b.X$],styles:[".pdfView[_ngcontent-%COMP%]{display:none;background:white;padding:40px;position:fixed;width:100%;height:100%;left:0;z-index:222}.pdfView.showPreview[_ngcontent-%COMP%]{display:block}.pdfView[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:18px;align-items:center;display:flex;justify-content:flex-end;top:15px;right:15px;position:absolute}.listContract[_ngcontent-%COMP%]   .contractItem[_ngcontent-%COMP%]{border:1px solid black}.containerChoice[_ngcontent-%COMP%]{margin-bottom:30px;border-radius:10px;padding:5px;display:flex}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]{position:relative}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{border-left:3px solid #eef1f4;height:106%;width:1px;margin-left:16px;position:relative;top:-5px}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .bar.finished[_ngcontent-%COMP%]{border-left:3px solid var(--ion-color-secondary)}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .titleChoice[_ngcontent-%COMP%]{position:absolute;top:9px;left:38px;width:500px}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .titleChoice[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:inline;padding:0 10px}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:21px;border:3px solid #eef1f4;background:#eef1f4;color:#505d71;border-radius:50%;padding:4px}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   ion-icon.finished[_ngcontent-%COMP%]{color:var(--ion-color-secondary);border:3px solid var(--ion-color-secondary);background:white}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   ion-icon.current[_ngcontent-%COMP%]{border:3px solid var(--ion-color-secondary);background:var(--ion-color-secondary);color:#fff}.containerChoice[_ngcontent-%COMP%]   .selectionContainer[_ngcontent-%COMP%]{flex:1;margin-top:36px}.editContainer[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:0;cursor:pointer;color:var(--ion-color-primary)}.stepConfirmed[_ngcontent-%COMP%]   .editContainer[_ngcontent-%COMP%]{display:block}.templateItem[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 2px 10px #00000029;border-radius:6px;margin-bottom:12px;overflow:hidden;cursor:pointer;padding:20px}.stepConfirmed[_ngcontent-%COMP%]   .templateItem[_ngcontent-%COMP%]{display:none}.stepConfirmed[_ngcontent-%COMP%]   .selectedTemplate[_ngcontent-%COMP%]{display:block}.selectedTemplate[_ngcontent-%COMP%]{border:1px solid blue}.recapGuest[_ngcontent-%COMP%]{display:none;background:#FFFFFF;box-shadow:0 2px 10px #00000029;border-radius:6px;margin-bottom:12px;overflow:hidden;cursor:pointer;padding:20px}.stepConfirmed[_ngcontent-%COMP%]   .guest-form[_ngcontent-%COMP%]{display:none}.stepConfirmed[_ngcontent-%COMP%]   .recapGuest[_ngcontent-%COMP%]{display:block}.stepConfirmed[_ngcontent-%COMP%]   .step2Choice[_ngcontent-%COMP%]{display:none}.containerDob[_ngcontent-%COMP%]{display:flex;width:100%}.containerDob[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{flex:1}.containerDob[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{border-right:0px!important}.containerDob[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%]{border-left:0px!important}.containerDob[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{border-right:0px!important;border-left:0px!important}.stepConfirmed[_ngcontent-%COMP%]   .previewToCheck[_ngcontent-%COMP%]{display:none}.stepConfirmed[_ngcontent-%COMP%]   .previewConfirmed[_ngcontent-%COMP%]{display:block}.previewContainer[_ngcontent-%COMP%]{height:600px}.previewConfirmed[_ngcontent-%COMP%]{display:none;background:#FFFFFF;box-shadow:0 2px 10px #00000029;border-radius:6px;margin-bottom:12px;overflow:hidden;cursor:pointer;padding:20px}"]}),o})();var ue=i(41226);let ge=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[C.CommonModule,Y.P,kt.Y,P.u5,v.Pc,Dt.G,P.UX,b.aw]}),o})();var Ft=i(57420),he=i(38793),_e=i(53458),fe=i(70065),jt=i(1406),Ce=i(35346),ve=i(89748),xe=i(48589),ye=i(37305);const Rt=[];for(const o of Z.U)if(o.component){const d={path:o.action,component:o.component,resolve:null,data:{action:o.action}};if(o.resolve&&(d.resolve={myDate:o.resolve}),Rt.push(d),o.subOptions)for(const n of o.subOptions)n.component&&Rt.push({path:n.action,component:n.component,data:{action:n.action}})}const Vt=[];for(const o of fe.B)o.component&&Vt.push({path:o.action,component:o.component,data:{tab:o.tab,action:o.action}});const $=[];for(const o of X.W)if(o.component){const d={path:o.action,component:o.component,resolve:null,data:{action:o.action}};if(o.resolve&&(d.resolve={myDate:o.resolve}),$.push(d),o.subOptions)for(const n of o.subOptions)n.component&&$.push({path:n.action,component:n.component,data:{action:n.action}})}$.push({path:"send-contract/:contractId",data:{action:"send-contract"},children:[{path:"",resolve:{myData:ot.V},component:Ft.c}]}),$.push({path:"create-contract/:contractId",data:{action:"create-contract"},children:[{path:"",resolve:{myData:ot.V},component:te._}]}),$.push({path:"",component:jt.y});const Pe=[{path:"template-database",component:Q,data:{listType:"template-database",product:"paperfree",tab:"paperfree"},children:[{path:"",component:Jt.k},{path:"edit-template/:templateId",resolve:{myData:ot.V},component:Qt.B,data:{action:"edit-template"}}]},{path:"send-contract",redirectTo:"send-contract/new",pathMatch:"full"},{path:"send-contract/:contractId",component:Q,data:{action:"send-contract"},children:[{path:"",resolve:{myData:ot.V},component:Ft.c}]},{path:"list-contract",component:Q,data:{action:"list-contract"},children:[{path:"",component:me}]},{path:"start",component:Q,data:{listType:"flow-start",action:"flow-start"},children:[{path:"",component:Gt.v}]},{path:"",component:Q,resolve:{myData:ct.N},children:[{path:"",component:jt.y},{path:"edit-reservation",component:K.g}].concat(Rt).concat(Vt)},{path:":id",component:Q,resolve:{myData:ct.N},children:[{path:"",loadChildren:()=>Promise.all([i.e(1768),i.e(1055),i.e(5301)]).then(i.bind(i,15301)).then(o=>o.EmptyCenterComponentModule)}]},{path:":propertyId/:id",component:Q,resolve:{myData:ct.N},children:[{path:"",loadChildren:()=>Promise.all([i.e(1768),i.e(1055),i.e(5301)]).then(i.bind(i,15301)).then(o=>o.EmptyCenterComponentModule)}].concat($)}];let be=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({providers:[ct.N,ot.V],imports:[b.aw,Y.P,C.CommonModule,B.h,P.u5,F.I,v.Pc,Wt.t,ue.N,Kt.F,Ce.T,Yt,k.w,L.I,W.b,Ut.x,Lt.Q,st.e,Xt.P,_e.t,qt.N,ge,U.G,w.d,pt.S,Zt,D.Y,ye.Q,Lt.Q,xe.R,S.M,ve.J,he.M,t.v,T.Bz.forChild(Pe),J.b]}),o})()},33021:(lt,j,i)=>{i.d(j,{P:()=>M});var C=i(36895),P=i(24006),T=i(60434),v=i(89383),b=i(56205),w=i(4100),U=i(46480),W=i(89044),t=i(94650),L=["highlightElement"],D=Object.freeze(["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"]),B="text-highlight-tag-id-";function F(c,p){return p.indices.start<c&&c<p.indices.end}function k(c){return c.replace(/</g,"&lt;").replace(/>/g,"&gt;")}(function(){function c(p,g){this.renderer=p,this.cdr=g,this.tagCssClass="",this.tags=[],this.tagClick=new t.EventEmitter,this.tagMouseEnter=new t.EventEmitter,this.tagMouseLeave=new t.EventEmitter,this.highlightElementContainerStyle={},this.textareaEventListeners=[],this.isDestroyed=!1}c.prototype.refresh=function(){var p=this,g=getComputedStyle(this.textInputElement);D.forEach(function(_){p.highlightElementContainerStyle[_]=g[_]})},c.prototype.ngOnChanges=function(p){p.textInputElement&&this.textInputElementChanged(),(p.tags||p.tagCssClass||p.textInputValue)&&this.addTags()},c.prototype.ngOnDestroy=function(){this.isDestroyed=!0,this.textareaEventListeners.forEach(function(p){return p()})},c.prototype.onWindowResize=function(){this.refresh()},c.prototype.textInputElementChanged=function(){var p=this,g=this.textInputElement.tagName.toLowerCase();if("textarea"!==g)throw new Error("The angular-text-input-highlight component must be passed a textarea to the `textInputElement` input. Instead received a "+g);setTimeout(function(){if(!p.isDestroyed){if(p.refresh(),p.textareaEventListeners.forEach(function(f){return f()}),p.textareaEventListeners=[p.renderer.listen(p.textInputElement,"input",function(){p.addTags()}),p.renderer.listen(p.textInputElement,"scroll",function(){p.highlightElement.nativeElement.scrollTop=p.textInputElement.scrollTop,p.highlightTagElements=p.highlightTagElements.map(function(f){return f.clientRect=f.element.getBoundingClientRect(),f})}),p.renderer.listen(p.textInputElement,"mouseup",function(){p.refresh()})],p.tagClick.observers.length>0){var _=p.renderer.listen(p.textInputElement,"click",function(f){p.handleTextareaMouseEvent(f,"click")});p.textareaEventListeners.push(_)}if(p.tagMouseEnter.observers.length>0){var I=p.renderer.listen(p.textInputElement,"mousemove",function(f){p.handleTextareaMouseEvent(f,"mousemove")}),R=p.renderer.listen(p.textInputElement,"mouseleave",function(f){p.mouseHoveredTag&&(p.tagMouseLeave.emit(p.mouseHoveredTag),p.mouseHoveredTag=void 0)});p.textareaEventListeners.push(I),p.textareaEventListeners.push(R)}p.addTags()}})},c.prototype.addTags=function(){var p=this,g=typeof this.textInputValue<"u"?this.textInputValue:this.textInputElement.value,_=[],I=[];this.tags.slice().sort(function(u,H){return u.indices.start-H.indices.start}).forEach(function(u){if(u.indices.start>u.indices.end)throw new Error("Highlight tag with indices ["+u.indices.start+", "+u.indices.end+"] cannot start after it ends.");_.forEach(function(G){if(function S(c,p){return F(p.indices.start,c)||F(p.indices.end,c)}(G,u))throw new Error("Highlight tag with indices ["+u.indices.start+", "+u.indices.end+"] overlaps with tag ["+G.indices.start+", "+G.indices.end+"]")});var H=u.indices.end-u.indices.start,e=g.slice(u.indices.start,u.indices.end);if(e.length===H){var tt=g.slice(_.length>0?_[_.length-1].indices.end:0,u.indices.start);I.push(k(tt));var et=u.cssClass||p.tagCssClass,nt=B+p.tags.indexOf(u);I.push('<span class="text-highlight-tag '+nt+" "+et+'">'+k(e)+"</span>"),_.push(u)}});var f=g.slice(_.length>0?_[_.length-1].indices.end:0);I.push(k(f)),I.push("&nbsp;"),this.highlightedText=I.join(""),this.cdr.detectChanges(),this.highlightTagElements=Array.from(this.highlightElement.nativeElement.getElementsByTagName("span")).map(function(u){return{element:u,clientRect:u.getBoundingClientRect()}})},c.prototype.handleTextareaMouseEvent=function(p,g){var _=this.highlightTagElements.findIndex(function(e){return function K(c,p,g){return c.left<p&&p<c.right&&c.top<g&&g<c.bottom}(e.clientRect,p.clientX,p.clientY)});if(_>-1){var I=this.highlightTagElements[_].element,R=Array.from(I.classList).find(function(e){return e.startsWith(B)});if(R){var f=R.replace(B,""),H={tag:this.tags[+f],target:I,event:p};"click"===g?this.tagClick.emit(H):this.mouseHoveredTag||(this.mouseHoveredTag=H,this.tagMouseEnter.emit(H))}}else"mousemove"===g&&this.mouseHoveredTag&&(this.mouseHoveredTag.event=p,this.tagMouseLeave.emit(this.mouseHoveredTag),this.mouseHoveredTag=void 0)},c.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ChangeDetectorRef}]},c.propDecorators={tagCssClass:[{type:t.Input}],tags:[{type:t.Input}],textInputElement:[{type:t.Input}],textInputValue:[{type:t.Input}],tagClick:[{type:t.Output}],tagMouseEnter:[{type:t.Output}],tagMouseLeave:[{type:t.Output}],highlightElement:[{type:t.ViewChild,args:["highlightElement"]}],onWindowResize:[{type:t.HostListener,args:["window:resize"]}]},c.\u0275fac=function(g){return new(g||c)(t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["mwl-text-input-highlight"]],viewQuery:function(g,_){var I;1&g&&t.\u0275\u0275viewQuery(L,5),2&g&&t.\u0275\u0275queryRefresh(I=t.\u0275\u0275loadQuery())&&(_.highlightElement=I.first)},hostBindings:function(g,_){1&g&&t.\u0275\u0275listener("resize",function(){return _.onWindowResize()},!1,t.\u0275\u0275resolveWindow)},inputs:{tagCssClass:"tagCssClass",tags:"tags",textInputElement:"textInputElement",textInputValue:"textInputValue"},outputs:{tagClick:"tagClick",tagMouseEnter:"tagMouseEnter",tagMouseLeave:"tagMouseLeave"},features:[t.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[1,"text-highlight-element",3,"ngStyle","innerHtml"],["highlightElement",""]],template:function(g,_){1&g&&t.\u0275\u0275element(0,"div",0,1),2&g&&t.\u0275\u0275property("ngStyle",_.highlightElementContainerStyle)("innerHtml",_.highlightedText,t.\u0275\u0275sanitizeHtml)},dependencies:[C.NgStyle],encapsulation:2})})(),function(){function c(){}c.ctorParameters=function(){return[]},c.\u0275fac=function(g){return new(g||c)},c.\u0275dir=t.\u0275\u0275defineDirective({type:c,selectors:[["","mwlTextInputHighlightContainer",""]],hostVars:2,hostBindings:function(g,_){2&g&&t.\u0275\u0275classProp("text-input-highlight-container",!0)}})}(),function(){function c(){}c.ctorParameters=function(){return[]},c.\u0275fac=function(g){return new(g||c)},c.\u0275dir=t.\u0275\u0275defineDirective({type:c,selectors:[["textarea","mwlTextInputElement",""]],hostVars:2,hostBindings:function(g,_){2&g&&t.\u0275\u0275classProp("text-input-element",!0)}})}();var Z=function(){function c(){}return c.ctorParameters=function(){return[]},c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=t.\u0275\u0275defineInjector({imports:[C.CommonModule]}),c}(),X=i(51908),J=i(35087),V=i(78273);let M=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=t.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:X.f8,useValue:"tinymce/tinymce.min.js"}],imports:[C.CommonModule,b.P,V.Y,P.u5,T.Pc,W.Y,X.Z_,U.x,J.r,w.G,Z,P.UX,v.aw]}),c})()}}]);