"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3656],{3656:(le,x,t)=>{t.r(x),t.d(x,{DesktopViewPageModule:()=>ne});var g=t(36895),M=t(24006),s=t(34793),r=t(60434),m=t(89383),O=t(48589),y=t(2477),P=t(78425),I=t(56205),S=t(93047),V=t(46480),T=t(89427),D=t(36033),L=t(78808),C=t(49671),h=t(28555),E=t(7766),b=t(13123),c=t(60815),f=t(76457),B=t(92198),R=t(92340),w=t(68287),e=t(94650),z=t(88107);function A(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",4)(10,"button",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.goToReferral())}),e.\u0275\u0275element(11,"ion-icon",6),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"button",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeBanner())}),e.\u0275\u0275element(15,"ion-icon",8),e.\u0275\u0275elementEnd()()()()}2&o&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,3,"referral_banner.TITLE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,5,"referral_banner.SUBTITLE")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,7,"referral_banner.START_EARNING")," "))}let H=(()=>{class o{constructor(n,i,a,u,p,d){this.store=n,this.valueGuestService=i,this.modalController=a,this.translate=u,this.scRes=p,this.router=d,this.isBannerVisible=!0,this.referralCount=0,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.store.pipe((0,h.Ys)(f.dy)).subscribe(n=>{n&&(this.user=n,n.preferences&&(this.isBannerVisible=1!=n.preferences.hideReferral))}))}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}closeBanner(){this.valueGuestService.editProfile(null,null,null,null,null,null,null,{hideReferral:!0}),this.isBannerVisible=!1}goToReferral(){this.valueGuestService.editProfile(null,null,null,null,null,null,null,{hideReferral:!0}),this.isBannerVisible=!1,this.router.navigate([this.scRes.getStartURL()+"/view-profile/referral"])}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(h.yh),e.\u0275\u0275directiveInject(c.hZ),e.\u0275\u0275directiveInject(r.IN),e.\u0275\u0275directiveInject(m.sK),e.\u0275\u0275directiveInject(c.BU),e.\u0275\u0275directiveInject(s.F0))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-referral-banner"]],decls:1,vars:1,consts:[["class","referral-global-banner",4,"ngIf"],[1,"referral-global-banner"],[1,"referral-banner-content"],[1,"banner-text"],[1,"banner-actions"],[1,"referral-action-button",3,"click"],["name","share-social-outline"],[1,"close-banner",3,"click"],["name","close-outline"]],template:function(n,i){1&n&&e.\u0275\u0275template(0,A,16,9,"div",0),2&n&&e.\u0275\u0275property("ngIf",i.isBannerVisible)},dependencies:[g.NgIf,r.gu,m.X$],styles:[".referral-global-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6e8efb 0%,#a777e3 100%);color:#fff;padding:0;z-index:999;box-shadow:0 -4px 20px #0000001a;transform:translateY(0);transition:transform .3s ease-in-out;animation:_ngcontent-%COMP%_slideUp .5s ease-in-out}.referral-banner-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:12px 20px}.banner-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:600}.banner-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;opacity:.9;font-weight:400}.banner-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.referral-action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.2);color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background .2s ease}.referral-action-button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.3)}.referral-action-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.close-banner[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease}.close-banner[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2)}.close-banner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}@media (max-width: 768px){.referral-banner-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:16px 20px}.banner-text[_ngcontent-%COMP%]{margin-bottom:12px}.banner-actions[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]}),o})();function N(o,l){1&o&&e.\u0275\u0275element(0,"app-referral-banner")}const j=function(o,l){return{"background-color":o,color:l}};function F(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"div",14),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",15),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",16)(6,"ion-icon",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeErrorSection())}),e.\u0275\u0275elementEnd()()()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction2(4,j,n.generalWarning.backcolor?n.generalWarning.backcolor:"#444444",n.generalWarning.textcolor?n.generalWarning.textcolor:"white")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.generalWarning.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.generalWarning.text)}}function W(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18)(1,"div",19),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",20),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",16)(8,"ion-icon",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeReferalSection())}),e.\u0275\u0275elementEnd()()()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"referral.banner.title")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(6,5,"referral.banner.subtitle")," : ",null==n.user.referrals?null:n.user.referrals.code,"")}}function U(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.logAnalytics("calendar"))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"desktop-view.menu.calendar"),""))}function G(o,l){1&o&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"desktop-view.menu.dashboard")," "))}function Y(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",32),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",33),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.logAnalytics("list"))}),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,U,3,3,"div",34),e.\u0275\u0275template(8,G,3,3,"div",35),e.\u0275\u0275elementContainerEnd()}if(2&o){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink","/desktop-view/list-properties/concierge/"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"desktop-view.menu.listProperties")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,"desktop-view.menu.reservations")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.user.permissions||n.user.permissions.showConcierge),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.user.permissions||n.user.permissions.showConcierge)}}const v=function(o){return{active:o}};function Z(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",38)(1,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.switchProduct("concierge"))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.switchProduct("wsb"))}),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.switchProduct("homebook"))}),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()()}if(2&o){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(12,v,"concierge"===n.selectedProduct)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,6,"desktop-view.menu.concierge")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(14,v,"wsb"===n.selectedProduct)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,8,"desktop-view.menu.websitebuilder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(16,v,"homebook"===n.selectedProduct)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,10,"desktop-view.menu.homebook")," ")}}function Q(o,l){1&o&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275element(1,"vg-news",41),e.\u0275\u0275elementEnd())}function K(o,l){1&o&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275element(1,"ion-icon",43),e.\u0275\u0275elementEnd())}function X(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",44)(1,"div",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.selectLangPopup())}),e.\u0275\u0275elementEnd()()}if(2&o){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275classMapInterpolate1("flag-icon flag-icon-",n.lang,"")}}function $(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",21)(1,"div",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.goToHome())}),e.\u0275\u0275element(2,"img",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",24),e.\u0275\u0275template(4,Y,9,9,"ng-container",0),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",25),e.\u0275\u0275template(6,Z,10,18,"div",26),e.\u0275\u0275elementStart(7,"div",27)(8,"a",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openContactPopup())}),e.\u0275\u0275element(9,"ion-icon",28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(10,Q,2,0,"div",29),e.\u0275\u0275template(11,K,2,0,"div",30),e.\u0275\u0275template(12,X,2,3,"div",31),e.\u0275\u0275elementEnd()()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.user&&n.isNotNewUser&&"concierge"===n.selectedProduct),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.user),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.user),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.user),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.user)}}function J(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"div",46)(1,"div",47)(2,"div",48),e.\u0275\u0275element(3,"span",49),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",50)(8,"ion-button",51),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(4,4,"upgrade-plan.activateYourAccount.text"),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,6,1e3*(null==n.user.plan||null==n.user.plan.package?null:n.user.plan.package.trial_end))," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink","/desktop-view/view-profile/billing"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,8,"upgrade-plan.activateYourAccount.button")," ")}}function k(o,l){1&o&&(e.\u0275\u0275element(0,"div",53),e.\u0275\u0275pipe(1,"translate")),2&o&&e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(1,1,"upgrade-plan.accountNotActivatedOrDelete.text"),e.\u0275\u0275sanitizeHtml)}function q(o,l){1&o&&(e.\u0275\u0275element(0,"div",53),e.\u0275\u0275pipe(1,"translate")),2&o&&e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(1,1,"upgrade-plan.accountNotActivated.text"),e.\u0275\u0275sanitizeHtml)}function _(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"div",46)(1,"div",47),e.\u0275\u0275template(2,k,2,3,"div",52),e.\u0275\u0275template(3,q,2,3,"div",52),e.\u0275\u0275elementStart(4,"div",50)(5,"ion-button",51),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()()()()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!n.user.plan.package_unlimited),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.user.plan.package_unlimited),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink","/desktop-view/view-profile/billing"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,4,"upgrade-plan.accountNotActivated.button")," ")}}function ee(o,l){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",46)(1,"div",54),e.\u0275\u0275element(2,"div",53),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementStart(4,"div",50)(5,"ion-button",55),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.showHideFlow())}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()()()()}2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(3,2,"showcase.downpopup.text"),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,4,"showcase.downpopup.button")," "))}const te=[{path:"",component:(()=>{class o{constructor(n,i,a,u,p,d,oe,ie,ae){this.route=n,this.authService=i,this.subscriptionService=a,this.activatedRoute=u,this.scRes=p,this.valueGuestService=d,this.modalCtrl=oe,this.translate=ie,this.store=ae,this.subscriptions=[],this.showSubscribeBanner=!1,this.showSubscribePopup=!1,this.listNewNews=[],this.showErrorSection=!1,this.showReferalSection=!1,this.hideHeader=!1,this.indexLang=0,this.isFlowDisplayed=!1,this.isShowCase=!1,this.selectedProduct="concierge",this.environment=R.N,this.vgVersion=window.vgVersion}ngOnInit(){var n=this;return(0,C.Z)(function*(){n.activatedRoute.snapshot.queryParams&&n.activatedRoute.snapshot.queryParams.product&&(n.showcaseProduct=n.activatedRoute.snapshot.queryParams.product),n.store.select(f.P7).pipe().subscribe(i=>{i&&(n.isSubscriptionEnabled=i.enabled)}),n.listLang=["en","it","fr"],n.lang=n.translate.currentLang?n.translate.currentLang:n.listLang[0],n.subscriptions.push(n.route.events.pipe((0,B.h)(i=>i instanceof s.m2)).subscribe(i=>{n.hideHeader=i.url.search("step2")>-1,n.selectedProduct=i.url.search("concierge")>-1||i.url.search("list-reservations")>-1||i.url.search("calendar-view")>-1||i.url.search("dashboard")>-1?"concierge":i.url.search("wsb")>-1?"wsb":i.url.search("homebook")>-1?"homebook":null}),n.store.pipe((0,h.Ys)(f.dy)).subscribe(i=>{if(i){if(i.preferences&&(n.showReferalSection=1!=i.preferences.hideReferral),n.isNotNewUser=!0,n.user=i,n.showSubscribeBanner=!!i.isAnonymous,n.listNews=i.news,n.listNews)for(const a of n.listNews)"error"===a.id?(n.generalWarning=a,n.showErrorSection=!0):a.isNew&&n.listNewNews.push(a)}else n.user=null,n.showSubscribeBanner=!1}),n.store.pipe((0,h.Ys)(f.Dp)).subscribe(i=>{n.selectedPropertyId=i?i.fbId:null}))})()}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}closeErrorSection(){this.showErrorSection=!1}closeReferalSection(){this.valueGuestService.editProfile(null,null,null,null,null,null,null,{hideReferral:!0}),this.showReferalSection=!1}goToHome(){this.user?this.scRes.navigateToFirstPage(this.user):window.location.href="https://app.valueguest.com"}hasLessThan1MonthInTrial(n){var i=new Date,a=new Date;return a.setMonth(i.getMonth()-1),new Date(n)<=a}logAnalytics(n){this.valueGuestService.logUIAnalytics("open_view",n)}productChange(n){this.scRes.navigateTomobileOrDesktopURL("/list-properties/"+n.detail.value)}selectLangPopup(){this.modalCtrl.create({component:b.C,cssClass:"guestbook-language-modal",componentProps:{listLang:this.listLang,selected:this.lang}}).then(n=>{n.onDidDismiss().then(i=>{i.data&&(this.translate.use(i.data),this.lang=i.data)}),n.present()})}openContactPopup(){this.modalCtrl.create({component:w.k,componentProps:{prefilledText:"",context:this},cssClass:["vg-modal","auto-height"]}).then(n=>{n.onDidDismiss().then(i=>{}),n.present()})}changeLang(n){this.translate.use(n);var i=["it","fr","en","labeldebug"];this.indexLang=this.indexLang+1,this.indexLang>i.length-1&&(this.indexLang=0),this.translate.use(i[this.indexLang])}onCallAngularService(){this.translate.use("labeldebugFR")}onCallAngularService2(){this.translate.use("labeldebugEN")}onCallAngularService3(){this.translate.use("labeldebugIT")}openPopup(n,i,a){var u=this;return(0,C.Z)(function*(){u.modalCtrl.create({component:n,componentProps:a,cssClass:["vg-modal","auto-height",i]}).then(p=>{p.onDidDismiss().then(d=>{}),p.present()})})()}showHideFlow(){this.isFlowDisplayed=!this.isFlowDisplayed,this.openPopupLogin()}showGuestFlow(){}switchProduct(n){this.selectedProduct=n,this.scRes.navigateTomobileOrDesktopURL("/list-properties/"+n+(this.selectedPropertyId?"/"+this.selectedPropertyId:""))}openPopupLogin(){this.modalCtrl.create({component:E.M,componentProps:{product:this.showcaseProduct},cssClass:["vg-modal","auto-height"]}).then(n=>{n.onDidDismiss().then(i=>{this.isFlowDisplayed=!this.isFlowDisplayed}),n.present()})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(s.F0),e.\u0275\u0275directiveInject(c.e8),e.\u0275\u0275directiveInject(c.FF),e.\u0275\u0275directiveInject(s.gz),e.\u0275\u0275directiveInject(c.BU),e.\u0275\u0275directiveInject(c.hZ),e.\u0275\u0275directiveInject(r.IN),e.\u0275\u0275directiveInject(m.sK),e.\u0275\u0275directiveInject(h.yh))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-desktop-view"]],hostBindings:function(n,i){1&n&&e.\u0275\u0275listener("CallChangeLangFR",function(){return i.onCallAngularService()},!1,e.\u0275\u0275resolveWindow)("CallChangeLangEN",function(){return i.onCallAngularService2()},!1,e.\u0275\u0275resolveWindow)("CallChangeLangIT",function(){return i.onCallAngularService3()},!1,e.\u0275\u0275resolveWindow)},decls:26,vars:20,consts:[[4,"ngIf"],["class","errorSection",3,"style",4,"ngIf"],["class","referalSection",4,"ngIf"],["class","app-header","style","position:relative;",4,"ngIf"],["scroll-x","true"],["mytestid",""],["class","bottomPopup ",4,"ngIf"],[1,"left"],[1,"right"],["href","https://valueguest.com/privacy/","target","_blank"],["href","https://valueguest.com/termini-e-condizioni/","target","_blank"],["href","https://valueguest.com/gdpr/","target","_blank"],[3,"click"],[1,"errorSection"],[1,"titleError"],[1,"textError"],[1,"closeIcon"],["name","vg-close",3,"click"],[1,"referalSection"],[1,"titleSection"],[1,"textSection"],[1,"app-header",2,"position","relative"],[1,"logo",3,"click"],["src","./assets/imgs/logo-long-white.png","alt","Valueguest"],[1,"menuTop"],[1,"menuRight"],["class","tri-state-toggle",4,"ngIf"],[1,"menuItem","profile",2,"margin-left","30px"],["name","vg-help"],["class","menuItem profile",4,"ngIf"],["class","menuItem profile","routerLink","/desktop-view/view-profile","routerLinkActive","active","style","margin-right:30px;",4,"ngIf"],["class","menuItem profile","style","margin-right:30px;",4,"ngIf"],["routerLinkActive","active",1,"menuItem",3,"routerLink"],["routerLink","/desktop-view/list-reservations","routerLinkActive","active",1,"menuItem",3,"click"],["class","menuItem","style","position:relative","routerLink","/desktop-view/calendar-view","routerLinkActive","active",3,"click",4,"ngIf"],["class","menuItem","routerLink","/desktop-view/dashboard/","routerLinkActive","active",4,"ngIf"],["routerLink","/desktop-view/calendar-view","routerLinkActive","active",1,"menuItem",2,"position","relative",3,"click"],["routerLink","/desktop-view/dashboard/","routerLinkActive","active",1,"menuItem"],[1,"tri-state-toggle"],[1,"tri-state-toggle-button",3,"ngClass","click"],[1,"menuItem","profile"],[2,"flex","1","display","flex","align-items","center","justify-content","center"],["routerLink","/desktop-view/view-profile","routerLinkActive","active",1,"menuItem","profile",2,"margin-right","30px"],["name","vg-login-old"],[1,"menuItem","profile",2,"margin-right","30px"],[1,"selectLang",3,"click"],[1,"bottomPopup"],[1,"insidePopup"],[1,"text"],[3,"innerHTML"],[1,"button"],["type","submit","expand","full","color","primary","routerLinkActive","active",1,"button-round","signup-button",3,"routerLink"],["class","text",3,"innerHTML",4,"ngIf"],[1,"text",3,"innerHTML"],[1,"insidePopup","shorter"],["type","submit","expand","full","color","primary",1,"button-round","signup-button",3,"click"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,N,1,0,"app-referral-banner",0),e.\u0275\u0275template(1,F,7,7,"div",1),e.\u0275\u0275template(2,W,9,7,"div",2),e.\u0275\u0275template(3,$,13,5,"div",3),e.\u0275\u0275elementStart(4,"ion-content",4,5),e.\u0275\u0275element(6,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,J,11,10,"div",6),e.\u0275\u0275template(8,_,8,6,"div",6),e.\u0275\u0275template(9,ee,8,6,"div",6),e.\u0275\u0275elementStart(10,"ion-footer")(11,"div",7),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",8)(15,"a",9),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"a",10),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"a",11),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"a",12),e.\u0275\u0275listener("click",function(){return i.changeLang("debug")}),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275property("ngIf",i.user&&!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.generalWarning&&i.showErrorSection),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showReferalSection&&i.user),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.hideHeader),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.user&&i.isSubscriptionEnabled&&i.subscriptionService.isPlanOnTrial(null==i.user.plan?null:i.user.plan.package)&&i.hasLessThan1MonthInTrial(1e3*(null==i.user.plan||null==i.user.plan.package?null:i.user.plan.package.trial_end))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.user&&i.isSubscriptionEnabled&&i.user.plan&&!i.subscriptionService.isSubscriptionActive(i.user)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showSubscribeBanner),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,12,"desktop-view.footer.vgnote")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,14,"desktop-view.footer.privacy")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,16,"desktop-view.footer.tec")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,18,"desktop-view.footer.gdpr")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.vgVersion))},dependencies:[g.NgClass,g.NgIf,z.Q,r.YG,r.W2,r.fr,r.gu,r.YI,s.lC,s.rH,s.Od,H,m.X$,g.DatePipe],styles:[".errorSection[_ngcontent-%COMP%]{position:relative;padding:25px}.errorSection[_ngcontent-%COMP%]   .titleError[_ngcontent-%COMP%]{margin-bottom:7px;font-size:16px}.errorSection[_ngcontent-%COMP%]   .textError[_ngcontent-%COMP%]{font-size:14px}.errorSection[_ngcontent-%COMP%]   .closeIcon[_ngcontent-%COMP%]{position:absolute;right:15px;top:15px}.trialSection[_ngcontent-%COMP%]{position:relative;display:flex;padding:15px;background-color:#273951;color:#fff}.trialSection[_ngcontent-%COMP%]   .textTrial[_ngcontent-%COMP%]{flex:1;margin:7px 15px;font-size:16px}.trialSection[_ngcontent-%COMP%]   .textTrial[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f87f7f;cursor:pointer}.referalSection[_ngcontent-%COMP%]{display:none;position:relative;padding:25px}.referalSection[_ngcontent-%COMP%]   .titleSection[_ngcontent-%COMP%]{margin-bottom:7px;font-size:16px}.referalSection[_ngcontent-%COMP%]   .textSection[_ngcontent-%COMP%]{font-size:14px}.referalSection[_ngcontent-%COMP%]   .closeIcon[_ngcontent-%COMP%]{position:absolute;right:15px;top:15px}.app-header[_ngcontent-%COMP%]{font-family:Montserrat;display:flex;height:70px;width:90%;margin:auto}.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer;height:50px;position:relative;top:-1px}@media (min-width: 1580px){.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute}}.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.app-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;display:inherit}.app-header[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:15px 0 24px;border-top-left-radius:5px;border-top-right-radius:5px;cursor:pointer;white-space:pre}.app-header[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:inline-block;width:24px;border-radius:9px;line-height:unset}.app-header[_ngcontent-%COMP%]   .menuTop[_ngcontent-%COMP%]{align-self:center;margin:8px auto auto;text-align:center;display:flex;font-size:16px}.app-header[_ngcontent-%COMP%]   .menuTop[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-bottom:4px solid var(--ion-color-primary);color:var(--ion-color-primary)}.app-header[_ngcontent-%COMP%]   .menuTop[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:focus{outline:none}.app-header[_ngcontent-%COMP%]   .menuTop[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%] + .menuItem[_ngcontent-%COMP%]{margin-left:30px}.app-header[_ngcontent-%COMP%]   .menuRight[_ngcontent-%COMP%]{display:flex;align-self:center;margin-top:5px;font-size:25px}@media (min-width: 1580px){.app-header[_ngcontent-%COMP%]   .menuRight[_ngcontent-%COMP%]{position:absolute;right:0}}.app-header[_ngcontent-%COMP%]   .menuRight[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%] + .menuItem[_ngcontent-%COMP%]{margin-left:15px}.app-header[_ngcontent-%COMP%]   .menuRight[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:focus{outline:none}.app-header[_ngcontent-%COMP%]   .menuRight[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{width:53px;padding:0!important}.app-header[_ngcontent-%COMP%]   .menuRight[_ngcontent-%COMP%]   .profile.active[_ngcontent-%COMP%]{background:#273951;border-radius:11px}.app-header[_ngcontent-%COMP%]   .menuRight[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]{padding:2px 18px 11px}ion-footer[_ngcontent-%COMP%]{background:#5F6D83;height:28px;color:#fff;text-align:left;align-items:center;padding-left:15px;font-size:12px;display:flex}ion-footer[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1;font-weight:500}ion-footer[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;color:#fff;text-decoration:none;margin-right:15px}.bottomPopup[_ngcontent-%COMP%]{z-index:2222;background:linear-gradient(166.73deg,#020D1D 25.2%,#3D5474 99.99%,#582536 100%);max-height:160px;padding:10px 0;width:100%;bottom:0;animation:.7s ease-in-out 20s forwards delayedHigh}.bottomPopup.showFlow[_ngcontent-%COMP%]{visibility:hidden;opacity:0}@media (min-width: 890px){.bottomPopup[_ngcontent-%COMP%]{height:54px}}.bottomPopup[_ngcontent-%COMP%]   .insidePopup[_ngcontent-%COMP%]{align-items:center;height:100%;width:90%;display:flex;flex-direction:column;justify-content:center;margin:auto}@media (min-width: 890px){.bottomPopup[_ngcontent-%COMP%]   .insidePopup[_ngcontent-%COMP%]{flex-direction:row}.bottomPopup[_ngcontent-%COMP%]   .insidePopup.shorter[_ngcontent-%COMP%]{width:70%}}.bottomPopup[_ngcontent-%COMP%]   .insidePopup[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;line-height:19px;text-align:center;color:#fff}@media (min-width: 890px){.bottomPopup[_ngcontent-%COMP%]   .insidePopup[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:left;font-size:1.5em;line-height:26px;flex:2}}.bottomPopup[_ngcontent-%COMP%]   .insidePopup[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;border:2px solid white}.tri-state-toggle[_ngcontent-%COMP%]{background:#E0E0E0;box-shadow:inset 0 2px 8px #a5aaae40;border-radius:20px;display:inline-block;overflow:hidden;display:inline-flex;flex-direction:row;transition:all .5s ease;height:30px}.tri-state-toggle-button[_ngcontent-%COMP%]{border-radius:0;height:30px;display:flex;align-items:center;justify-content:center;width:115px;background-color:transparent;border:0px solid transparent;margin:0;color:#424242;cursor:pointer;transition:all .5s ease}.tri-state-toggle-button[_ngcontent-%COMP%]:first-child{border-radius:20px 0 0 20px}.tri-state-toggle-button[_ngcontent-%COMP%]:last-child{border-radius:0 20px 20px 0}.tri-state-toggle-button.active[_ngcontent-%COMP%]{background-color:#273951;color:#fff;border:1px solid white!important;box-shadow:0 8px 16px #0000001a;font-weight:500;transition:all .5s ease-in}.tri-state-toggle-button[_ngcontent-%COMP%]:focus{outline:none}.newLogo[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;bottom:7px;font-size:13px;color:#b2c1eb}.footer[_ngcontent-%COMP%]{padding:16px 40px;background-color:#fff;border-top:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;font-size:12px;color:var(--text-secondary)}.footer-links[_ngcontent-%COMP%]{display:flex;gap:16px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}@media (max-width: 768px){.footer[_ngcontent-%COMP%]{flex-direction:column;gap:10px;text-align:center;padding:16px 20px}.footer-links[_ngcontent-%COMP%]{justify-content:center}}"]}),o})(),children:[{path:"step2",data:{listType:"step2"},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(7705),t.e(519),t.e(1194),t.e(8027)]).then(t.bind(t,68027)).then(o=>o.Step2PageModule)},{path:"flow-start",data:{listType:"flow-start",isMainParent:!0},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"list-properties/concierge",data:{listType:"list-properties",isMainParent:!0,product:"concierge"},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"list-properties/wsb",data:{listType:"list-properties",isMainParent:!0,product:"wsb"},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"list-properties/homebook",data:{listType:"list-properties",isMainParent:!0,product:"homebook"},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"list-schedine",data:{listType:"list-schedine",isMainParent:!0},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"dashboard",data:{listType:"data-dashboard",isMainParent:!0},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"paperfree",data:{listType:"paperfree-menu",isMainParent:!0,product:"paperfree",tab:"paperfree"},resolve:{myData:P.V},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"list-reservations/:display",data:{listType:"list-reservations",isMainParent:!0,product:"concierge"},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"list-reservations",redirectTo:"list-reservations/resMenu",pathMatch:"full"},{path:"view-profile",data:{listType:"view-profile",isMainParent:!0},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"login-email",data:{listType:"login-email",isMainParent:!0},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"registration",data:{listType:"login-email",register:!0,isMainParent:!0},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"calendar-view",data:{listType:"calendar-view",isMainParent:!0},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(4550),t.e(3299),t.e(3807)]).then(t.bind(t,33807)).then(o=>o.CalendarViewComponentModule)},{path:"account-request",data:{listType:"account-request",isMainParent:!0},loadChildren:()=>Promise.all([t.e(3394),t.e(2082),t.e(9606),t.e(8203),t.e(4965),t.e(7377),t.e(5368),t.e(5912),t.e(3299),t.e(8064)]).then(t.bind(t,28064)).then(o=>o.MainComponentModule)},{path:"list-properties",redirectTo:"list-properties/concierge",pathMatch:"full"},{path:"",redirectTo:"list-properties/concierge",pathMatch:"full"}]}];let ne=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({providers:[S.Q,P.V],imports:[m.aw,I.P,g.CommonModule,L.u,M.u5,r.Pc,V.x,T.v,D.Q,O.R,y.L,s.Bz.forChild(te),s.Bz]}),o})()}}]);