"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1194],{9223:(x,f,p)=>{p.d(f,{z:()=>C});var l=p(48750),g=p(94650);let C=(()=>{class c{transform(_,r=!1,u=!0){return(0,l.k)(_,r,u)}}return c.\u0275fac=function(_){return new(_||c)},c.\u0275pipe=g.\u0275\u0275definePipe({name:"homebookUrl",type:c,pure:!0}),c})()},81194:(x,f,p)=>{p.d(f,{x:()=>Q});var l=p(24006),g=p(28555),C=p(92198),c=p(72986),d=p(897),_=p(28986),r=p(76457),u=p(92340),t=p(94650),M=p(34793),h=p(60434),O=p(36895),w=p(99604),v=p(39955),S=p(9223),y=p(89383);const k=function(n){return{goAbsolute:n}};function I(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-icon",5),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.back())}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(1,k,!e.isPopupAlwaysOn))}}function T(n,a){if(1&n&&(t.\u0275\u0275element(0,"app-base",6),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate")),2&n){const e=t.\u0275\u0275nextContext(),o=t.\u0275\u0275reference(3);t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(1,10,e.getTitle())),t.\u0275\u0275propertyInterpolate("subtitle",t.\u0275\u0275pipeBind1(2,12,e.getSubTitle())),t.\u0275\u0275propertyInterpolate("totalStep",e.getTotalStepNumber()),t.\u0275\u0275property("templateRef",o)("isPopup",!0)("step",e.getStepNumber())("linkIcon",e.getLinkIcon())("iconName",e.getIconName())("errors",e.errors)("alwaysOn",e.isPopupAlwaysOn)}}function E(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"vg-input",19),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"ion-input",20),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(1,4,"page-websitebuilder.landing.form.email.label")),t.\u0275\u0275property("submitted",e.submitted)("formCont",e.form.get("email"))("errorPrefix","page-create-guestbook.form.email.error")}}function B(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"vg-input",21),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"ion-input",22),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(4);t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(1,4,"page-dashboard.modals.airbnbUrl.form.text.label")),t.\u0275\u0275property("submitted",e.submitted)("formCont",e.form.get("airbnbUrl"))("errorPrefix","page-websitebuilder.landing.form.airbnbUrl.error")}}function U(n,a){1&n&&(t.\u0275\u0275elementStart(0,"div",23)(1,"div",24)(2,"span",25)(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"a",26),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"span"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"a",27),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd()()()()),2&n&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,4,"registration.websitebuilder.acceptTermConditions.label")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,6,"registration.acceptTermConditions.link")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,8,"registration.acceptTermConditions.privacy.label")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,10,"registration.acceptTermConditions.privacy.link")," "))}function L(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"form",15),t.\u0275\u0275template(1,E,3,6,"vg-input",16),t.\u0275\u0275template(2,B,3,6,"vg-input",17),t.\u0275\u0275template(3,U,15,12,"div",18),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("formGroup",e.form),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",2===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===e.step)}}function A(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",13),t.\u0275\u0275template(1,L,4,4,"form",14),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.form)}}function R(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"form",15)(1,"vg-input",28),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"ion-input",29),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"vg-input",30),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275element(6,"ion-input",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",32),t.\u0275\u0275element(8,"img",33),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275pipe(11,"homebookUrl"),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("formGroup",e.form),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,13,"page-"+e.product+"builder.flow.step2.form.websitename.label")),t.\u0275\u0275property("submitted",e.submitted)("formCont",e.form.get("name"))("errorPrefix","page-"+e.product+"builder.flow.step2.form.websitename.error"),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(5,15,"page-"+e.product+"builder.flow.step2.form.url.label")),t.\u0275\u0275propertyInterpolate("inputId",e.inputId),t.\u0275\u0275property("submitted",e.submitted)("formCont",e.form.get("url"))("errorPrefix","page-"+e.product+"builder.flow.step2.form.url.error"),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("id",e.inputId),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(10,17,"page-"+e.product+"builder.flow.step2.yourSite")," ",t.\u0275\u0275pipeBind2(11,19,e.form.controls.url.value,"homebook"===e.product)," ")}}function D(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",13),t.\u0275\u0275template(1,R,12,22,"form",14),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.form)}}function W(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",40),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(i.hideShowPwd())}),t.\u0275\u0275element(1,"ion-icon",41),t.\u0275\u0275elementEnd()}}function V(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",40),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(i.hideShowPwd())}),t.\u0275\u0275element(1,"ion-icon",42),t.\u0275\u0275elementEnd()}}function z(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"form",15)(1,"vg-input",19),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"ion-input",34),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",35)(5,"vg-input",36),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275element(7,"ion-input",37),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",38),t.\u0275\u0275template(9,W,2,0,"button",39),t.\u0275\u0275template(10,V,2,0,"button",39),t.\u0275\u0275elementEnd()()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("formGroup",e.form),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,12,"page-websitebuilder.flow.step3.form.email.label")),t.\u0275\u0275property("submitted",e.submitted)("formCont",e.form.get("email"))("errorPrefix","page-websitebuilder.flow.step3.form.url.error"),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(6,14,"page-websitebuilder.flow.step3.form.password.label")),t.\u0275\u0275property("submitted",e.submitted)("formCont",e.form.get("password"))("errorPrefix","page-websitebuilder.flow.step3.form.password.error"),t.\u0275\u0275advance(2),t.\u0275\u0275property("type",e.inputPasswordType),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","password"===e.inputPasswordType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","text"===e.inputPasswordType)}}function N(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",13),t.\u0275\u0275template(1,z,11,16,"form",14),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.form)}}function G(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.submitStep1())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"page-websitebuilder.flow.step1.form.button.continue")))}function j(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.submitStep2())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"page-websitebuilder.flow.step1.form.button.continue")))}function K(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.submitStep3())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275attribute("disabled",e.placeUrl?null:""),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,"page-websitebuilder.flow.step1.form.button.continue"))}}function F(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.submitStep3())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"page-"+e.product+"builder.flow.step2.form.button.continue"))}}function H(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-button",43),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.submitStep4())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"page-websitebuilder.flow.step3.form.button.continue")))}function J(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",44),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.submitStep2(!0))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"page-dashboard.modals.airbnbUrl.form.jumpstep")))}function Y(n,a){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",45),t.\u0275\u0275element(1,"span",46),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"a",47),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.emailLogin())}),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()}2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,2,"page-websitebuilder.landing.login.prefix"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,4,"page-websitebuilder.landing.login.link"),""))}function $(n,a){if(1&n&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275template(1,A,2,1,"div",8),t.\u0275\u0275template(2,D,2,1,"div",8),t.\u0275\u0275template(3,N,2,1,"div",8),t.\u0275\u0275elementStart(4,"div",9),t.\u0275\u0275template(5,G,3,3,"ion-button",10),t.\u0275\u0275template(6,j,3,3,"ion-button",10),t.\u0275\u0275template(7,K,3,4,"ion-button",10),t.\u0275\u0275template(8,F,3,3,"ion-button",10),t.\u0275\u0275template(9,H,3,3,"ion-button",10),t.\u0275\u0275template(10,J,3,3,"a",11),t.\u0275\u0275template(11,Y,6,6,"div",12),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",2===e.step||1===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",3===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",4===e.step),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",1===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",2===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",6===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",3===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",4===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",2===e.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1===e.step)}}function Z(n,a){if(1&n&&t.\u0275\u0275element(0,"span",48)(1,"br")(2,"span",48),2&n){const e=a.attrs;t.\u0275\u0275property("innerHTML",e.data.structured_formatting.main_text,t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(2),t.\u0275\u0275property("innerHTML",e.data.structured_formatting.secondary_text,t.\u0275\u0275sanitizeHtml)}}function q(n,a){1&n&&t.\u0275\u0275element(0,"span",48),2&n&&t.\u0275\u0275property("innerHTML",a.attrs.data.structured_formatting.main_text,t.\u0275\u0275sanitizeHtml)}let Q=(()=>{class n{constructor(e,o,i,s,m,P,X,tt,et,nt,ot,it){this.authService=e,this.autocompleteService=o,this.valueGuestService=i,this.activatedRoute=s,this.gmapsService=m,this.formBuilder=P,this.viewCtrl=X,this.dataProvider=tt,this.ga=et,this.router=nt,this.store=ot,this.screenResolutionService=it,this.inputPasswordType="password",this.guestbookBaseUrl=u.N.urlGuestbook,this.step=1,this.numberSteps=4,this.subscriptions=[],this.submitted=!1,this.token="",this.skipStep1=!1,this.skipStep2=!1,this.skipLastStep=!1,this.errors=[],this.isFlowDisplayed=!1,this.formValues={},this.user=void 0,this.isPopupAlwaysOn=!0,this.activatedRoute.snapshot.queryParams&&this.activatedRoute.snapshot.queryParams.partner&&(this.fromPartner=this.activatedRoute.snapshot.queryParams.partner),this.inputId="input"+(1e4*Math.random()).toFixed(0),this.subscriptions.push(this.store.pipe((0,g.Ys)(r.Dp),(0,C.h)(b=>!!b)).subscribe(b=>{this.property=b,this.propertyId=b.fbId}))}getInfoInAddress(e,o,i){for(const s of o)if(s.types.indexOf(e)>-1)return i?s[i]:s.long_name;return""}hasBackStep(){if(null===this.step)return!1;switch(this.step){case 1:return!1;case 2:return!this.skipStep1;case 3:return!this.skipStep2;default:return!0}}getStepNumber(){return this.skipStep2?this.skipLastStep?null:this.step-2:this.skipStep1?this.step-1:this.step}getTotalStepNumber(){return this.skipStep2?this.skipLastStep?1:this.skipLastStep?2:3:this.skipStep1?this.skipLastStep?3:4:this.skipLastStep?4:5}getIconName(){return null}getLinkIcon(){return 2===this.step?"https://valueguest.com/aiuto/#URL":null}getTitle(){switch(this.step){case 1:return"wsb"===this.product?"page-websitebuilder.landing.title":"page-homebookbuilder.flow.step1.popup.title";case 2:return"wsb"===this.product?"page-dashboard.modals.airbnbUrl.title.withoutLink":"page-dashboard.modals.airbnbUrl.homebook.title.withoutLink";case 3:return"wsb"===this.product?"page-websitebuilder.flow.step2.popup.title":"page-homebookbuilder.flow.step2.popup.title";case 4:case 5:return"wsb"===this.product?"page-websitebuilder.flow.step3.popup.title":"page-homebookbuilder.flow.step3.popup.title"}}getSubTitle(){switch(this.step){case 1:return"wsb"===this.product?"":" ";case 2:return"";case 3:return"wsb"===this.product?"page-websitebuilder.flow.step2.popup.subtitle":"page-homebookbuilder.flow.step2.popup.subtitle";case 4:case 5:return"wsb"===this.product?"page-websitebuilder.flow.step3.popup.subtitle":"page-homebookbuilder.flow.step3.popup.subtitle"}}updateToken(){this.token=Math.random().toFixed(10).replace(".",""),this.autocompleteService.setConfig(null,this.token)}showHideFlow(){this.viewCtrl.getTop().then(e=>e&&this.viewCtrl.dismiss())}ngOnInit(){this.updateToken(),this.guestbookForm$=this.store.pipe((0,g.Ys)(r.Be)),this.subscriptions.push(this.store.pipe((0,g.Ys)(r.dy)).pipe((0,c.q)(1)).subscribe(e=>{this.user=e,this.skipLastStep=null!==e,this.subscriptions.push(this.activatedRoute.queryParams.pipe((0,c.q)(1)).subscribe(o=>{o.airbnbURL?this.skipStep2=!0:o.email&&(this.skipStep1=!0),this.guestbookForm$.pipe((0,c.q)(1)).subscribe(i=>{this.currentStep?3===(this.step=this.currentStep,this.currentStep)&&this.createStep3():this.createStep1And2(o)})}))}))}emailLogin(){this.viewCtrl.getTop().then(e=>e&&this.viewCtrl.dismiss()),this.screenResolutionService.navigateTomobileOrDesktopURL()}itemSelected(e){this.updateToken(),this.placeId=e.place_id,this.placeUrl=this.gmapsService.getGmapsUrlFromPlaceId(this.placeId),this.valueGuestService.getPlaceDetails(e.place_id,this.token,!1,navigator.language.split("-")[0]).then(o=>{const i=this.getInfoInAddress("street_number",o.address_components),s=this.getInfoInAddress("route",o.address_components);this.form.get("street").setValue(i+" "+s),this.form.controls.street.enable(),this.form.get("zip").setValue(this.getInfoInAddress("postal_code",o.address_components)),this.form.controls.zip.enable(),this.form.get("city").setValue(this.getInfoInAddress("locality",o.address_components)),this.form.controls.city.enable(),this.form.get("state").setValue(this.getInfoInAddress("administrative_area_level_2",o.address_components,"short_name")),this.form.controls.state.enable(),this.form.get("country").setValue(this.getInfoInAddress("country",o.address_components)),this.form.controls.country.enable()})}createStep1And2(e){this.store.dispatch(new r.u2.RemoveLoading),this.store.dispatch(new r.WO.ClearGuestbook),e.airbnbURL?(this.step=null,this.store.dispatch(new r.WO.UpdateCreationForm({email:e.email,propertyId:e.pid,airbnbUrl:decodeURIComponent(e.airbnbURL)})),this.getPreviewAndGoStep3()):e.email?(this.store.dispatch(new r.WO.UpdateCreationForm({email:e.email})),this.createStep1(!0)):this.createStep1()}createStep1(e){this.step=1,this.currentStepEmitter.emit(this.step),this.store.dispatch(new r.WO.UpdateCreationForm({step:1})),this.store.select(r.Be).pipe((0,c.q)(1)).subscribe(o=>{let i=o&&o.email?o.email:null;null===i&&u.N.email?i=u.N.email+Math.random().toFixed(10).replace(".",""):null===i&&(i=""),this.form=this.formBuilder.group({email:[i,[l.kI.required,l.kI.email]]}),this.subscriptions.push(this.store.pipe((0,g.Ys)(r.dy),(0,C.h)(s=>!!s)).subscribe(s=>{s&&(this.form.controls.email.setValue(s.email),this.form.controls.email.disable())})),e&&this.submitStep1()})}submitStep1(){const e=this.form.get("email").value;(this.form.valid||!this.form.invalid)&&(this.store.dispatch(new r.WO.UpdateCreationForm({email:e})),this.valueGuestService.checkUserExists(e).then(()=>{this.errors=[],this.store.dispatch(new r.u2.RemoveLoading),this.createStep2()}).catch(o=>{this.ga.eventEmitter("general","WBSBuilder - Landing",o.message,"Submit Error"),this.store.dispatch(new r.u2.RemoveLoading),this.errors.push(o)}))}createStep2(){this.step=2,this.currentStepEmitter.emit(this.step),this.store.dispatch(new r.WO.UpdateCreationForm({step:2})),this.store.select(r.Be).pipe((0,c.q)(1)).subscribe(e=>{this.form=this.formBuilder.group({airbnbUrl:[e&&e.airbnbUrl?e.airbnbUrl:"",[]]})})}submitStep2(e){this.submitted=!0,this.errors=[],e?(this.store.dispatch(new r.WO.UpdateCreationForm({airbnbUrl:null})),this.createStep3()):this.form.valid&&!e&&(this.store.dispatch(new r.WO.UpdateCreationForm({airbnbUrl:this.form.get("airbnbUrl").value})),this.getPreviewAndGoStep3())}getPreviewAndGoStep3(){this.store.dispatch(new r.WO.UpdateCreationForm({step:3})),this.store.select(r.Be).pipe((0,c.q)(1)).subscribe(e=>{"wsb"===this.product?(this.store.dispatch(new r.u2.DisplayLoading("page-websitebuilder.landing.loader.title")),this.valueGuestService.getWebsitePreview(e.email,e.airbnbUrl).then(()=>{this.store.dispatch(new r.u2.RemoveLoading),e.airbnbUrl?(this.currentStepEmitter.emit(3),this.viewCtrl.getTop().then(o=>o&&this.viewCtrl.dismiss())):this.createStep3()}).catch(o=>{"errors.valueguest.2010"===o.id&&(this.step=1,this.currentStepEmitter.emit(this.step)),this.ga.eventEmitter("general","WBSBuilder - Landing",o.message,"Submit Error"),this.store.dispatch(new r.u2.RemoveLoading),this.errors.push(o),this.createStep2()})):e.email&&e.airbnbUrl?(this.store.dispatch(new r.u2.DisplayLoading("page-websitebuilder.landing.homebook.loader.title")),this.valueGuestService.getHomebookPreview(e.email,e.airbnbUrl).then(o=>{this.store.dispatch(new r.u2.RemoveLoading),this.createStep3()}).catch(o=>{this.ga.eventEmitter("general","WBSBuilder - Landing",o.message,"Submit Error"),this.store.dispatch(new r.u2.RemoveLoading),this.errors.push(o),this.createStep2()})):this.createStep3()})}createStep3(){this.submitted=!1,this.errors.length=0,this.step=3,this.currentStepEmitter.emit(this.step),this.store.select(r.Be).pipe((0,c.q)(1)).subscribe(e=>{this.form=this.formBuilder.group({name:[e&&e.name?e.name:"",[l.kI.required]],url:["",[l.kI.required,l.kI.pattern("^[0-9a-zA-Z\\-~_]*$")]]}),this.form.get("url").setValue(this.convertNameIntoURL(this.form.get("name").value)),this.form.get("name").valueChanges.subscribe(o=>{this.editableName&&this.editableName.emit(o),this.form.get("url").setValue(this.convertNameIntoURL(o))}),e.airbnbUrl&&(this.isPopupAlwaysOn=!1,this.makePopupClosable.emit(!0))})}convertNameIntoURL(e){return this.removeAccents(e.toLowerCase().replace(/[^a-zA-Z0-9\xe1\xe0\xe3\xe2\xe4\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf3\xf2\xf5\xf4\xf6\xfa\xf9\xfb\xfc\xe7]/gi,"")).normalize()}removeAccents(e){const o="\xe1\xe0\xe3\xe2\xe4\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf3\xf2\xf5\xf4\xf6\xfa\xf9\xfb\xfc\xe7";let s="";for(let m=0;m<e.length;m++)o.search(e.substr(m,1))>=0?s+="aaaaaeeeeiiiiooooouuuuc".substr(o.search(e.substr(m,1)),1):s+=e.substr(m,1);return s}submitStep3(){this.submitted=!0,this.form.valid?(this.ga.eventEmitter("general","WBSBuilder - Step 4",this.form.get("url").value,"Submit"),this.formValues.name=this.form.get("name").value,this.formValues.myPageUrlName=this.form.get("url").value,this.store.dispatch(new r.WO.UpdateCreationForm({name:this.form.get("name").value,myPageUrlName:this.form.get("url").value,product:this.product})),this.valueGuestService.checkURLAvailability(this.form.get("url").value).then(e=>{this.errors=[],this.user?this.finalSubmitknown():this.createStep4()}).catch(e=>{this.errors.push(e),this.ga.eventEmitter("general","WBSBuilder - Step 4",this.form.get("url").value,"Name Already exists")})):this.ga.eventEmitter("general","WBSBuilder - Step 4",this.form.get("url").value,"UI Submit Error")}createStep4(){this.store.dispatch(new r.WO.UpdateCreationForm({step:4})),this.form=this.formBuilder.group({email:[u.N.email,[l.kI.required,l.kI.email]],password:[u.N.password,[l.kI.required]]}),this.step=4,this.currentStepEmitter.emit(this.step),this.submitted=!1,this.guestbookForm$.pipe((0,c.q)(1)).subscribe(e=>{this.form.get("email").setValue(e.email)}),this.isPopupAlwaysOn=!0,this.makePopupClosable.emit(!1)}submitStep4(){const e=this.form.get("email").value,o=this.form.get("password").value;this.store.dispatch(new r.WO.UpdateCreationForm({email:e,password:o,partner:this.fromPartner})),this.finalSubmitUnknown(e,o)}finalSubmitUnknown(e,o){this.errors.length=0,this.store.select(r.Be).pipe((0,c.q)(1)).subscribe(i=>{this.store.dispatch(new r.u2.DisplayLoading),this.valueGuestService.createGuestbookAccount(i).then(s=>{this.authService.login(e,o).then(()=>{this.viewCtrl.getTop().then(P=>P&&this.viewCtrl.dismiss());const m={websiteJustCreated:!1,homebookJustCreated:!1};"wsb"===this.product&&(m.websiteJustCreated=!0),"homebook"===this.product&&(m.homebookJustCreated=!0),this.dataProvider.storeSpecificData(m),this.store.dispatch(new r.u2.RemoveLoading),this.router.navigate([this.screenResolutionService.getStartURL()+"/list-properties"+("wsb"===this.product?"/wsb/":"/homebook/")+s.contextInfo.propertyId])})}).catch(s=>{this.store.dispatch(new r.u2.RemoveLoading),this.errors.push(s)})})}finalSubmitknown(){this.errors.length=0,this.store.select(r.Be).pipe((0,c.q)(1)).subscribe(e=>{this.store.dispatch(new r.u2.DisplayLoading),this.valueGuestService.createGuestbookAccount(e).then(o=>{this.viewCtrl.getTop().then(s=>s&&this.viewCtrl.dismiss()),this.store.dispatch(new r.u2.RemoveLoading);const i={websiteJustCreated:!1,homebookJustCreated:!1};"wsb"===this.product&&(i.websiteJustCreated=!0),"homebook"===this.product&&(i.homebookJustCreated=!0),this.dataProvider.storeSpecificData(i),this.router.navigate([this.screenResolutionService.getStartURL()+"/list-properties"+("wsb"===this.product?"/wsb/":"/homebook/")+o.contextInfo.propertyId])}).catch(o=>{this.store.dispatch(new r.u2.RemoveLoading),this.errors.push(o)})})}hideShowPwd(){this.inputPasswordType="password"===this.inputPasswordType?"text":"password"}back(){switch(this.errors=[],this.step){case 2:this.createStep1();break;case 3:this.isPopupAlwaysOn=!0,this.makePopupClosable.emit(!1),this.store.dispatch(new r.WO.UpdateWSB(null)),this.createStep2();break;case 4:this.createStep3()}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(d.e8),t.\u0275\u0275directiveInject(d.rc),t.\u0275\u0275directiveInject(d.hZ),t.\u0275\u0275directiveInject(M.gz),t.\u0275\u0275directiveInject(d.C_),t.\u0275\u0275directiveInject(l.QS),t.\u0275\u0275directiveInject(h.IN),t.\u0275\u0275directiveInject(_.F),t.\u0275\u0275directiveInject(d.$r),t.\u0275\u0275directiveInject(M.F0),t.\u0275\u0275directiveInject(g.yh),t.\u0275\u0275directiveInject(d.BU))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-step2-modal"]],decls:8,vars:2,consts:[["class","backButton","name","arrow-back-outline",3,"ngClass","click",4,"ngIf"],[3,"title","subtitle","templateRef","isPopup","step","totalStep","linkIcon","iconName","errors","alwaysOn",4,"ngIf"],["childTemplate",""],["placeResults",""],["placeSelected",""],["name","arrow-back-outline",1,"backButton",3,"ngClass","click"],[3,"title","subtitle","templateRef","isPopup","step","totalStep","linkIcon","iconName","errors","alwaysOn"],[1,"insideTemplateContainer"],["class","card",4,"ngIf"],[1,"submit"],["type","submit","expand","full","color","primary","class","button-round signup-button",3,"click",4,"ngIf"],["class","subaction",3,"click",4,"ngIf"],["class","subaction login",4,"ngIf"],[1,"card"],["class","form-container",3,"formGroup",4,"ngIf"],[1,"form-container",3,"formGroup"],["icon","vg-email","isMandatory","true",3,"submitted","formCont","label","errorPrefix",4,"ngIf"],["class","urlInput","icon","home-outline","isMandatory","true",3,"submitted","formCont","label","errorPrefix",4,"ngIf"],["class","terms-and-conditions",4,"ngIf"],["icon","vg-email","isMandatory","true",3,"submitted","formCont","label","errorPrefix"],["type","email","formControlName","email","spellcheck","false"],["icon","home-outline","isMandatory","true",1,"urlInput",3,"submitted","formCont","label","errorPrefix"],["type","text","formControlName","airbnbUrl",1,"input"],[1,"terms-and-conditions"],[1,"checkox-container"],[1,"checkbox-label"],["href","https://valueguest.com/termini-e-condizioni/","target","_blank"],["href","https://valueguest.com/privacy/","target","_blank"],["icon","vg-home","isMandatory","true",3,"submitted","formCont","label","errorPrefix"],["type","text","formControlName","name"],["icon","vg-wsb","isMandatory","true",3,"submitted","formCont","label","errorPrefix","inputId"],["type","text","formControlName","url",3,"id"],[1,"exampleSite"],["src","./assets/icon/help_icon.png"],["type","text","formControlName","email"],[2,"position","relative"],["icon","vg-password","isMandatory","true",3,"submitted","formCont","label","errorPrefix"],["formControlName","password",3,"type"],[1,"hide-show-pwd"],["type","button",3,"click",4,"ngIf"],["type","button",3,"click"],["name","vg-eye-hide"],["name","vg-eye"],["type","submit","expand","full","color","primary",1,"button-round","signup-button",3,"click"],[1,"subaction",3,"click"],[1,"subaction","login"],[1,"login-prefix",3,"innerHTML"],[1,"login-link",3,"click"],[3,"innerHTML"]],template:function(e,o){1&e&&(t.\u0275\u0275template(0,I,1,3,"ion-icon",0),t.\u0275\u0275template(1,T,3,14,"app-base",1),t.\u0275\u0275template(2,$,12,10,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,Z,3,2,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(6,q,1,1,"ng-template",null,4,t.\u0275\u0275templateRefExtractor)),2&e&&(t.\u0275\u0275property("ngIf",o.hasBackStep()&&null!==o.step),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!!o.step))},dependencies:[O.NgClass,O.NgIf,l._Y,l.JJ,l.JL,h.YG,h.gu,h.pK,h.j9,w.H,l.sg,l.u,v.m,S.z,y.X$],styles:['#guestSignature[_ngcontent-%COMP%]{visibility:hidden}.tox[_ngcontent-%COMP%]   .tox-tbtn[_ngcontent-%COMP%], .tox[_ngcontent-%COMP%]   .tox-mbtn[_ngcontent-%COMP%]{color:#5f6d83!important}.tox[_ngcontent-%COMP%]   .tox-tbtn--select[aria-label="Font sizes"][_ngcontent-%COMP%]{width:69px}.tox[_ngcontent-%COMP%]   .tox-tbtn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#5f6d83!important}.tox-tinymce[_ngcontent-%COMP%]{border:none!important}.tox-editor-header[_ngcontent-%COMP%]{margin-bottom:20px!important}@media (max-width: 1270px){.tox-edit-container[_ngcontent-%COMP%]{border:1px solid black!important;border-radius:8px!important}}.tox-edit-area[_ngcontent-%COMP%]{margin:15px!important;position:relative}iframe[_ngcontent-%COMP%]{scrollbar-3dlight-color:#000000;scrollbar-arrow-color:#ffffff;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#ffffff;scrollbar-shadow-color:#ffffff;scrollbar-track-color:#000000}.tox-menubar[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px}.tox-toolbar__primary[_ngcontent-%COMP%], .tox-toolbar-overlord[_ngcontent-%COMP%]{border:none!important;background:white!important;border-bottom-left-radius:8px;border-bottom-right-radius:8px}.tox-sidebar-wrap[_ngcontent-%COMP%]{background:white!important;border-radius:8px}editor.withBorder[_ngcontent-%COMP%]   .tox-tinymce[_ngcontent-%COMP%]{border:1px solid #ccc!important}@media (min-width: 1270px){.sscibackground[_ngcontent-%COMP%]{--background: url(/assets/imgs/background.jpg)}}.footerButtons[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700}.footerButtons[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{flex:1}.submit[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:8px}.submit[_ngcontent-%COMP%]   .cancelButton[_ngcontent-%COMP%]{cursor:pointer;color:#9aa2ae;height:40px;margin:25px;padding:10px;font-weight:600;font-size:14px}.submit[_ngcontent-%COMP%]   .secondLink[_ngcontent-%COMP%]{cursor:pointer;align-self:center;margin-right:15px;font-weight:400}.submit[_ngcontent-%COMP%]   ion-button.fromLeftMenu[_ngcontent-%COMP%]{min-width:250px}.submit.buttonCentered[_ngcontent-%COMP%]{display:block}.submit.buttonCentered[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:90%;margin:auto}@media (min-width: 890px){.submit.buttonCentered[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:70%}}@media (min-width: 1100px){.submit.buttonCentered[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:60%;min-width:236px;max-width:90%}}@media (min-width: 1300px){.submit.buttonCentered[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:50%;min-width:236px;max-width:90%}}.submit.buttonCentered[_ngcontent-%COMP%]   ion-button.fromLeftMenu[_ngcontent-%COMP%]{min-width:230px}.submit.ssci[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-bottom:10px;min-width:200px;max-width:50%;align-self:flex-end;--ion-color-base:linear-gradient(119.39deg, #9F3658 25.2%, #582536 100%)!important}.submit.ssci[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;align-self:center;justify-self:unset;height:100%;margin-top:18px;margin-right:20px;display:flex}@media (max-width: 1270px){.submit.ssci[_ngcontent-%COMP%]{flex-direction:column!important}.submit.ssci[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{align-self:center!important}.submit.ssci[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:0!important}}.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:8px}.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:unset;margin:auto}@media (min-width: 890px){.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:unset}}@media (min-width: 1100px){.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:unset;min-width:unset;max-width:unset}}@media (min-width: 1300px){.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:unset;min-width:unset;max-width:unset}}.showPreview[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   ion-button.fromLeftMenu[_ngcontent-%COMP%]{min-width:250px}.leftMenu[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:auto;min-width:250px}.submit-button[_ngcontent-%COMP%]{padding:25px}.submit-button[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]{height:4.6rem;text-transform:none;font-size:16px}ion-button[_ngcontent-%COMP%]{--box-shadow: none;color:var(--ion-color-primary-contrast);font-family:var(--ion-font-family);font-size:14px;font-weight:500;text-transform:unset;border-radius:20px;height:40px;margin:25px 0;min-width:150px}ion-button.ion-color-primary[_ngcontent-%COMP%]{--ion-color-primary-tint:linear-gradient(170deg, #7c2b45 25.2%, #3f1a27 100%);--ion-color-base: var(--ion-color-primary);--ion-color-base-rgb: linear-gradient(169.71deg, var(--ion-color-base) 25.2%, #582536 100%)!important;--ion-color-contrast: linear-gradient(169.71deg, var(--ion-color-base) 25.2%, #582536 100%)!important;--ion-color-contrast-rgb: linear-gradient(169.71deg, var(--ion-color-base) 25.2%, #582536 100%)!important;--ion-color-shade: linear-gradient(169.71deg, var(--ion-color-base) 25.2%, #582536 100%)!important;--ion-color-tint: linear-gradient(170deg, #7c2b45 25.2%, #3f1a27 100%)}@media (min-width: 890px){ion-button[_ngcontent-%COMP%]{font-size:14px}}ion-button.button-outline[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.calendarDate[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#fff}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:var(--text-color-primary);min-width:unset}ion-toolbar[_ngcontent-%COMP%]   ion-button.button-round[_ngcontent-%COMP%]{color:var(--ion-color-primary-contrast)}ion-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:unset;margin:unset}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;top:0;height:100%}@keyframes _ngcontent-%COMP%_delayedShow{to{opacity:1;visibility:visible}}ion-modal.small-new-modal[_ngcontent-%COMP%]{--border-radius: 16px;--width: 90%;--max-width: 400px;--height: auto;--backdrop-opacity: .6}ion-modal.import-image-popup[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{--width:100%}ion-modal.import-image-popup[_ngcontent-%COMP%]   .containerTitles[_ngcontent-%COMP%]{margin-bottom:0}@media (min-width: 1100px){ion-modal.import-image-popup[_ngcontent-%COMP%]{--width: 700px}}ion-modal.auto-height[_ngcontent-%COMP%]{--height: auto;--max-width: 540px}ion-modal.auto-height.bottom[_ngcontent-%COMP%]{align-items:flex-end}@media (min-width: 1100px){ion-modal.auto-height[_ngcontent-%COMP%]{--max-width: 95%}}ion-modal.auto-height[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{box-shadow:4px 0 24px #00000080;margin:0 10px;--background: white}ion-modal.auto-height[_ngcontent-%COMP%]   .ion-page[_ngcontent-%COMP%]{position:relative;display:block;contain:content}ion-modal.auto-height[_ngcontent-%COMP%]   .ion-page[_ngcontent-%COMP%]   .inner-content[_ngcontent-%COMP%]{max-height:80vh;overflow:auto;padding:15px}ion-modal.full-height[_ngcontent-%COMP%]{--height: 100%!important}ion-modal.full-height[_ngcontent-%COMP%]   .ion-page[_ngcontent-%COMP%]{height:100%}@media (min-width: 1100px){.vg-modal.auto-height.full-width[_ngcontent-%COMP%]{--width: 80%}}.close-icon[_ngcontent-%COMP%]{display:none}.vg-modal[_ngcontent-%COMP%]{background:rgba(39,57,81,.9098039216);--backdrop-opacity: 0!important;font-family:Montserrat;--max-height:90%;--overflow:auto;--border-radius: 5px}.vg-modal[_ngcontent-%COMP%]   .sc-ion-modal-md[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.vg-modal[_ngcontent-%COMP%]   .sc-ion-modal-md[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000004d;border-radius:0}.vg-modal[_ngcontent-%COMP%]   .sc-ion-modal-md[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background:#273951;box-shadow:inset 0 0 6px #00000080}.vg-modal[_ngcontent-%COMP%]   .sc-ion-modal-md[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:window-inactive{background:#6b727c}.vg-modal.darkModal[_ngcontent-%COMP%]   ion-backdrop[_ngcontent-%COMP%]{--backdrop-opacity: .7}.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]{background-color:#f7f6f7;color:var(--text-color-primary);position:relative}.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:20px;display:flex;flex-direction:column}.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--ion-font-family);font-size:20px;font-weight:400;margin:0 0 20px}@media (min-width: 890px){.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px}}.vg-modal[_ngcontent-%COMP%]   .popupContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:12px;margin:0 0 25px;padding:0;text-align:center}.vg-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{--border-width:0px;color:#fff}.vg-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]:before{content:none}.vg-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--border-bottom-width:0px}.vg-modal[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:10px}.add-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);cursor:pointer;font-size:16px;font-weight:var(--ion-bold)}.add-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:-1px}.add-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;vertical-align:sub}.compContainer.isPopup[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{padding:20px;margin:0;background:white;height:100%}@media (min-width: 1270px){.compContainer.isPopup[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{padding:40px}}.compContainer[_ngcontent-%COMP%]{height:100%;flex:1;background:white}.compContainer.noPadding[_ngcontent-%COMP%]{background:var(--vg-background-grey)}.compContainer.centeredContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{justify-content:center}.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .additionalTemplateContainer[_ngcontent-%COMP%]{margin-top:30px!important}@media (min-width: 1270px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{background:#F7F7F7;min-height:100%;padding:40px 0}}.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px}@media (min-width: 1270px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{max-width:90%;background:white;margin:0 auto;border-radius:5px}}@media (min-width: 1270px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{padding:40px}}.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column;flex:1}@media (min-width: 1270px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:500px;margin:auto}}@media (min-width: 1500px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:600px;margin:auto}}@media (min-width: 1700px){.compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:800px;margin:auto}}.compContainer.choiceApartment[_ngcontent-%COMP%]{min-height:461px}.compContainer.isPopup[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{width:100%;padding:0;max-width:100%;margin:0}.compContainer.isPopup[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.isPopup[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.isPopup[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:unset!important;margin:unset!important}@media (min-width: 1270px){.compContainer.noPadding[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{padding:20px}}.compContainer.noPadding[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%]{width:unset!important}.compContainer.emptyContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{flex:1}.compContainer.largerContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column;flex:1}@media (min-width: 1270px){.compContainer.largerContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:700px!important}}@media (min-width: 1500px){.compContainer.largerContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:800px!important}}@media (min-width: 1700px){.compContainer.largerContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .compContainer.largerContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{width:800px!important}}.fullWidth[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{width:90%!important}.fullWidth[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .fullWidth[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .fullWidth[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important}@media (min-width: 1270px){.flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{width:unset!important}.flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .flow-start[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:800px!important;width:800px!important}}.paperfree[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{width:90%}.paperfree[_ngcontent-%COMP%]   .insideTemplateContainer[_ngcontent-%COMP%], .paperfree[_ngcontent-%COMP%]   vg-titles[_ngcontent-%COMP%], .paperfree[_ngcontent-%COMP%]   vg-errors[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important;display:flex;flex-direction:column;flex:1}.containerTitles[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;color:#273951;font-weight:600;margin:0 0 10px}.containerTitles[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#273951;margin-left:7px}.containerTitles[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:600}.containerTitles[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.containerTitles[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:var(--ion-font-family);font-size:15px;color:#5f6d83;font-weight:400;margin:0 0 20px}.removeMargin[_ngcontent-%COMP%]   .containerTitles[_ngcontent-%COMP%]{margin-bottom:0!important}.popoverPax[_ngcontent-%COMP%]{--width:300px}.close-icon[_ngcontent-%COMP%]{margin:-8px -8px 0 0;font-size:18px;align-items:center;display:flex;justify-content:flex-end;top:0;right:0}@media (min-width: 1270px){.close-icon[_ngcontent-%COMP%]{margin:-15px -15px 0 0}}.close-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{cursor:pointer}.item-has-focus.label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-focus[_ngcontent-%COMP%]   .label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-placeholder.label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-placeholder[_ngcontent-%COMP%]   .label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-value.label-floating.sc-ion-label-md-h[_ngcontent-%COMP%], .item-has-value[_ngcontent-%COMP%]   .label-floating.sc-ion-label-md-h[_ngcontent-%COMP%]{transform:translateY(42%) scale(.9)}.optionalText[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:16px;color:#979797}.item-actions-popover[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{--width: auto !important;transform:translate(calc(-100% + 25px))!important;transform-origin:right top!important}.homebook-content-popover[_ngcontent-%COMP%]{--max-width: 330px !important;--width: 330px !important}.homebook-content-popover[_ngcontent-%COMP%]   .popover-content.sc-ion-popover-ios[_ngcontent-%COMP%]{border-radius:5px}.drawer[_ngcontent-%COMP%]   .compContainer[_ngcontent-%COMP%]   .templateContainer[_ngcontent-%COMP%]{padding:0!important}.drawer[_ngcontent-%COMP%]   .compContainer[_ngcontent-%COMP%]   .titleAndTemplateContainer[_ngcontent-%COMP%]{background-color:#fff!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#d6dee1;border-radius:20px;border:6px solid transparent;background-clip:content-box}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a8bbbf}.backButton[_ngcontent-%COMP%]{font-size:18px;position:relative;left:20px;top:14px;cursor:pointer}.backButton.goAbsolute[_ngcontent-%COMP%]{position:absolute;top:10px}@keyframes _ngcontent-%COMP%_delayedHigh{to{opacity:0!important;visibility:hidden!important}}.terms-and-conditions[_ngcontent-%COMP%]{color:#a59d9d;text-align:center;margin:0;display:flex;flex-direction:column;font-size:12px}.terms-and-conditions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:var(--ion-bold-more);text-decoration:none}.login[_ngcontent-%COMP%]{text-align:center;color:var(--text-color-primary);margin-top:20px;font-size:12px}.login[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:var(--ion-bold-more);cursor:pointer;padding:10px 0}.helpIcon[_ngcontent-%COMP%]{position:absolute;right:10px;top:-3px;z-index:2;height:20px;width:20px}.submit[_ngcontent-%COMP%]{display:block}@media (min-width: 1270px){.submit[_ngcontent-%COMP%]{display:flex}}.subaction[_ngcontent-%COMP%]{display:block;text-align:center;cursor:pointer;font-size:14px;color:#9aa2ae;height:40px;margin:25px 15px 0 0;font-weight:600;align-self:center}@media (min-width: 1270px){.subaction[_ngcontent-%COMP%]{display:inline;text-align:left}}.card[_ngcontent-%COMP%]{position:relative;margin-top:15px}.mapContainer[_ngcontent-%COMP%]{position:relative}.mapContainer[_ngcontent-%COMP%]   vg-auto-complete[_ngcontent-%COMP%]{z-index:2;position:absolute;top:9px}.mapContainer[_ngcontent-%COMP%]   vg-auto-complete[_ngcontent-%COMP%]   .searchbar-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:10px}.steps[_ngcontent-%COMP%]{display:flex;flex-direction:row;color:#b2b3b6;font-size:20px;font-family:Montserrat}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{margin:0 20px 10px 0}.steps[_ngcontent-%COMP%]   .step-active[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:700}.steps[_ngcontent-%COMP%]   .step-done[_ngcontent-%COMP%]{color:var(--text-color-primary);font-weight:700}.property-contact[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}.autocomplete[_ngcontent-%COMP%]{width:94%;margin-left:3%}.gmaps[_ngcontent-%COMP%]{border:none;height:250px;width:100%}.no-gmaps[_ngcontent-%COMP%]{position:relative;height:250px;width:100%}.exampleSite[_ngcontent-%COMP%]{font-family:var(--ion-font-family);font-style:normal;font-weight:400;font-size:12px;color:#273951;margin-bottom:15px}.exampleSite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px;vertical-align:middle}.exampleSite[_ngcontent-%COMP%]   .linkSite[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.exampleSite[_ngcontent-%COMP%]   .linkSite[_ngcontent-%COMP%]   .nameInLink[_ngcontent-%COMP%]{font-weight:var(--ion-bold-more)}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.website-url[_ngcontent-%COMP%]{margin:-10px 0 20px}.form-inputs[_ngcontent-%COMP%]{margin:0 -10px}.no-gmaps[_ngcontent-%COMP%]{position:relative;height:250px;margin:0 -15px;width:calc(100% + 30px)}@media (min-width: 576px){.no-gmaps[_ngcontent-%COMP%]{margin:20px -35px;width:calc(100% + 70px)}}.no-gmaps[_ngcontent-%COMP%]   .no-gmaps-img[_ngcontent-%COMP%]{filter:blur(3px);height:250px;width:100%}']}),n})()}}]);