"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3807],{33807:(Le,w,r)=>{r.r(w),r.d(w,{CalendarViewComponentModule:()=>De});var u=r(36895),h=r(24006),v=r(60434),b=r(34793),P=r(89383),S=r(89044),z=r(73584),I=r(56205),B=r(6997),R=r(4100),N=r(87542),$=r(2787),A=r(58284),U=r(69775),D=r(49671),g=r(28555),W=r(24040),_=r(897),p=r(76457),Y=r(36053),m=r(15439),V=r(4931),Q=r(61625),e=r(94650);const X=["mytestid"],G=["calendar"];function H(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.month)}}const Z=function(n){return{today:n}};function K(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",23),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,Z,t.isToday)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.number),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.text)}}function J(n,a){if(1&n&&e.\u0275\u0275element(0,"img",31),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate("src",t.property.guestbook.thumbnail_url,e.\u0275\u0275sanitizeUrl)}}function q(n,a){1&n&&(e.\u0275\u0275elementStart(0,"picture"),e.\u0275\u0275element(1,"source",32)(2,"source",33)(3,"img",34),e.\u0275\u0275elementEnd())}function ee(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275element(1,"ion-icon",43),e.\u0275\u0275elementEnd())}function te(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275element(1,"ion-icon",44),e.\u0275\u0275elementEnd())}function ne(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275element(1,"ion-icon",45),e.\u0275\u0275elementEnd())}function oe(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275template(1,ee,2,0,"div",41),e.\u0275\u0275template(2,te,2,0,"div",41),e.\u0275\u0275template(3,ne,2,0,"div",41),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Airbnb"===t.res.detail.originalComingFrom),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Booking.com"===t.res.detail.originalComingFrom),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","VRBO"===t.res.detail.originalComingFrom)}}function ie(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.selectRes(i.res))}),e.\u0275\u0275template(1,oe,4,3,"div",38),e.\u0275\u0275elementStart(2,"div",39),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngStyle",o.getReservationStyle(t.res)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Airbnb"===t.res.detail.originalComingFrom||"Booking.com"===t.res.detail.originalComingFrom||"VRBO"===t.res.detail.originalComingFrom),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",t.res.detail.guest?t.res.detail.guest.first_name+" "+t.res.detail.guest.last_name:"No Name","",t.res.listPax?", "+t.res.listPax.length+" guests":"","")}}const re=function(n,a,t,o,i,s){return{weekend:n,today:a,todayLess4days:t,selected:o,"selection-start":i,"selection-end":s}};function ae(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",35),e.\u0275\u0275listener("mousedown",function(){const s=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext().$implicit,d=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(d.startSelection(s,c.property))})("mouseover",function(){const s=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext().$implicit,d=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(d.updateSelection(s,c.property))})("mouseup",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(i.endSelection())}),e.\u0275\u0275template(1,ie,4,4,"div",36),e.\u0275\u0275elementEnd()}if(2&n){const t=a.$implicit,o=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction6(2,re,i.isWeekend(t.day),t.isToday,t.isTodayLess4days,i.isSelected(t,o.property),i.isSelectionStart(t,o.property),i.isSelectionEnd(t,o.property))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.res)}}function se(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",24)(1,"div",3)(2,"div",25),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.selectProp(s.property.fbId))}),e.\u0275\u0275elementStart(3,"div",26),e.\u0275\u0275template(4,J,1,1,"img",27),e.\u0275\u0275template(5,q,4,0,"picture",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",29),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,ae,2,9,"div",30),e.\u0275\u0275elementEnd()()}if(2&n){const t=a.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null==t.property.guestbook?null:t.property.guestbook.thumbnail_url),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=t.property.guestbook&&t.property.guestbook.thumbnail_url)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.property.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.listDays)}}const T=function(n){return{display:n}};function le(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"div",11,12)(3,"div",13)(4,"div",14),e.\u0275\u0275element(5,"div",15),e.\u0275\u0275template(6,H,2,1,"div",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",13)(8,"div",14)(9,"div",17)(10,"div",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.addReservation())}),e.\u0275\u0275element(11,"ion-icon",19),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,K,4,5,"div",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,se,9,4,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",7)(17,"div",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.back())}),e.\u0275\u0275element(18,"ion-icon",9),e.\u0275\u0275elementStart(19,"span"),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(22,"router-outlet"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",t.listDaysWithReservationPerProperty[0].listDays),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\xa0 ",e.\u0275\u0275pipeBind1(13,6,"calendar.button.newRes"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.listDaysWithReservationPerProperty[0].listDays),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.listDaysWithReservationPerProperty),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,T,!!t.selectedRes||!!t.selectedProperty)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,8,"calendar-view.drawer.back"))}}let O=(()=>{class n{constructor(t,o,i,s,c,d,l,Ve,Te,Ee,Fe,ke,je){this.authService=t,this.activateroute=o,this.valueguestService=i,this.subscriptionService=s,this.router=c,this.store=d,this.scRes=l,this.viewCtrl=Ve,this.formBuilder=Te,this.toastCtrl=Ee,this.translate=Fe,this.alertCtrl=ke,this.location=je,this.selectionStart=null,this.selectionEnd=null,this.isSelecting=!1,this.isPopup=!1,this.alloggiati=!0,this.submitted=!1,this.errors=[],this.hasConsent=!0,this.success=!1,this.allogiatiwebSent=!1,this.subscriptions=[],this.days=[]}ngAfterViewInit(){setTimeout(()=>{const t=this.calendarElement.nativeElement.querySelector(".todayLess4days");t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})},100)}previous(){this.location.back()}ngOnInit(){this.subscriptions.push((0,Y.aj)([this.store.pipe((0,g.Ys)(p.Dy)),this.store.pipe((0,g.Ys)(p.a4))]).subscribe(([t,o])=>{this.listProperties=o,this.listReservations=t,o&&this.generateDays()}),this.store.pipe((0,g.Ys)(p.r7)).subscribe(t=>{this.selectedRes=t}),this.store.pipe((0,g.Ys)(p.Dp)).subscribe(t=>{this.selectedProperty=t}),this.store.pipe((0,g.Ys)(p.dy)).subscribe(t=>{t&&(this.user=t)}))}sortListProperties(t){return[...t].sort((o,i)=>o.name&&i.name?o.name.toLowerCase()>i.name.toLowerCase()?1:-1:0)}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}generateDays(){var t=[];for(const c of this.listProperties){var o=[];if(this.listReservations&&this.listReservations.length>0){this.startDate=m(this.listReservations[0].detail.check_in).isAfter(m())?m():m(this.listReservations[0].detail.check_in);let d=m(this.listReservations[this.listReservations.length-1].detail.check_out).add(1,"month").endOf("month"),l=this.startDate.clone();for(var i="";l.isBefore(d)||l.isSame(d,"day");){var s=this.getReservationOnDay(l,c.fbId);i=l.format("MMMM")==i?"":this.capitalizeFirstLetter(l.locale(this.translate.currentLang).format("MMMM")),o.push({isToday:l.isSame(new Date,"day"),isTodayLess4days:l.isSame(m().subtract(4,"days"),"day"),day:l.clone(),number:l.date(),text:l.format("ddd"),month:i,year:l.format("yyyy"),res:s}),i=l.format("MMMM"),l.add(1,"days")}}else{this.startDate=m();let d=m().add(1,"month").endOf("month"),l=this.startDate.clone();for(;l.isBefore(d)||l.isSame(d,"day");)s=this.getReservationOnDay(l,c.fbId),i=l.format("MMMM")==i?"":this.capitalizeFirstLetter(l.locale(this.translate.currentLang).format("MMMM")),o.push({isToday:l.isSame(new Date,"day"),day:l.clone(),number:l.date(),text:l.format("ddd"),month:i,year:l.format("yyyy"),res:null}),i=l.format("MMMM"),l.add(1,"days")}t.push({property:c,listDays:o})}this.listDaysWithReservationPerProperty=t}getReservationOnDay(t,o){return this.listReservations.find(i=>i.fbPropertyId===o&&t.isSame(i.detail.check_in,"day"))}isWeekend(t){return 0===t.day()||6===t.day()}getReservationStyle(t){return t?{width:100*m(t.detail.check_out).diff(m(t.detail.check_in),"days")-20+"px"}:{}}selectRes(t){this.router.navigate([this.scRes.getStartURL()+"/calendar-view/"+t.fbPropertyId+"/"+t.detail.resId],{relativeTo:this.activateroute})}selectProp(t){this.router.navigate([this.scRes.getStartURL()+"/calendar-view/property/"+t],{relativeTo:this.activateroute})}closeDrawer(){this.location.back()}back(){this.location.back()}addReservation(){this.scRes.getStartURL(),this.openPopup(V.g,null,{isPopup:!0,isNew:!0,context:this})}hasEnoughInPlan(){return this.subscriptionService.canAddOneProperty(this.user,"concierge")}addProperty(){this.hasEnoughInPlan()?this.openPopup(Q.C,null,{context:this,product:"concierge",action:this.confirmAddProperties}):this.openPopup(W.D,null,{iconName:"vg-crown",title:this.translate.instant("missing-billing-popup.title"),subtitle:this.translate.instant("missing-billing-popup.subtitle"),buttonText:this.translate.instant("missing-billing-popup.button.goToPage"),data:{},context:this,action:this.goToSubscribePage})}confirmAddProperties(t){}goToSubscribePage(){this.router.navigate([this.scRes.getStartURL()+"/view-profile/billing"])}openPopup(t,o,i){var s=this;return(0,D.Z)(function*(){s.viewCtrl.create({component:t,componentProps:i,cssClass:["vg-modal","auto-height",o]}).then(c=>{c.onDidDismiss().then(d=>{d?.data?.success&&s.router.navigate([s.scRes.getStartURL()+"/calendar-view/"+d.data.data.propertyId+"/"+d.data.data.resId],{relativeTo:s.activateroute})}),c.present()})})()}startSelection(t,o){t.res||(this.isSelecting=!0,this.selectionStart=t,this.selectionEnd=t,this.selectedPropertyForAddReservation=o)}updateSelection(t,o){!this.isSelecting||o!==this.selectedPropertyForAddReservation||t.res||(this.selectionEnd=t)}endSelection(){this.isSelecting&&(this.isSelecting=!1,this.openNewReservationPopup(this.selectionStart,this.selectionEnd,this.selectedPropertyForAddReservation))}isSelectionStart(t,o){if(!this.selectionStart||!this.selectionEnd||o!==this.selectedPropertyForAddReservation)return!1;const i=new Date(this.selectionStart.day).getTime(),s=new Date(this.selectionEnd.day).getTime();return new Date(t.day).getTime()===Math.min(i,s)}isSelectionEnd(t,o){if(!this.selectionStart||!this.selectionEnd||o!==this.selectedPropertyForAddReservation)return!1;const i=new Date(this.selectionStart.day).getTime(),s=new Date(this.selectionEnd.day).getTime();return new Date(t.day).getTime()===Math.max(i,s)}isSelected(t,o){if(!this.selectionStart||!this.selectionEnd||o!==this.selectedPropertyForAddReservation)return!1;const i=new Date(this.selectionStart.day).getTime(),s=new Date(this.selectionEnd.day).getTime(),c=new Date(t.day).getTime();return c>=Math.min(i,s)&&c<=Math.max(i,s)}openNewReservationPopup(t,o,i){var s=t.day==o.day?o.day.clone().add(1,"days"):o.day.clone();this.openPopup(V.g,null,{isPopup:!0,isNew:!0,context:this,selectedPropertyId:i.fbId,startDate:t.day>o.day?o.day:t.day,endDate:t.day>s?t.day:s})}loadCalendarData(){}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(_.e8),e.\u0275\u0275directiveInject(b.gz),e.\u0275\u0275directiveInject(_.hZ),e.\u0275\u0275directiveInject(_.FF),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(g.yh),e.\u0275\u0275directiveInject(_.BU),e.\u0275\u0275directiveInject(v.IN),e.\u0275\u0275directiveInject(h.QS),e.\u0275\u0275directiveInject(v.yF),e.\u0275\u0275directiveInject(P.sK),e.\u0275\u0275directiveInject(v.Br),e.\u0275\u0275directiveInject(u.Location))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-calendar-view"]],viewQuery:function(t,o){if(1&t&&(e.\u0275\u0275viewQuery(X,5),e.\u0275\u0275viewQuery(G,5)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(o.calendar=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(o.calendarElement=i.first)}},decls:17,vars:10,consts:[[2,"display","flex","flex-direction","column"],[2,"padding","20px"],["class","calendar",4,"ngIf"],[1,"cell-container"],[1,"firstCol"],["color","","slots","start",1,"addProp",2,"margin","0",3,"click"],["name","add-circle-outline","slot","start"],[1,"drawer",3,"ngClass"],[1,"backContainer",3,"click"],["name","vg-arrow-back"],[1,"calendar"],[1,"scrollable"],["calendar",""],[1,"header"],[1,"day-container"],[1,"cell","firstCol"],["class","cell month",4,"ngFor","ngForOf"],[1,"cell","firstCol",2,"padding-left","0px","text-align","left"],[1,"addRes",3,"click"],["name","add-circle-outline",2,"vertical-align","middle"],["class","cell day borderBottom",3,"ngClass",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"cell","month"],[1,"cell","day","borderBottom",3,"ngClass"],[1,"row"],[1,"cell","firstCol","propertyCol",3,"click"],[1,"property-thumb"],["class","property-avatar",3,"src",4,"ngIf"],[4,"ngIf"],[1,"propertyName"],["class","cell cellday",3,"ngClass","mousedown","mouseover","mouseup",4,"ngFor","ngForOf"],[1,"property-avatar",3,"src"],["srcset","./assets/imgs/appart-placeholder.webp 1x","type","image/webp"],["srcset","./assets/imgs/appart-placeholder.png 1x","type","image/jpeg"],["src","./assets/imgs/appart-placeholder.png",1,"property-avatar"],[1,"cell","cellday",3,"ngClass","mousedown","mouseover","mouseup"],["class","reservation-bar",3,"ngStyle","click",4,"ngIf"],[1,"reservation-bar",3,"ngStyle","click"],["class","bookingtoolOver",4,"ngIf"],[1,"reservationText"],[1,"bookingtoolOver"],["class","logo",4,"ngIf"],[1,"logo"],["name","vg-airbnb-colored"],["name","vg-booking"],["name","vg-vrbo"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h1",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,le,23,12,"div",2),e.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"ion-button",5),e.\u0275\u0275listener("click",function(){return o.addProperty()}),e.\u0275\u0275element(8,"ion-icon",6),e.\u0275\u0275text(9,"Nuova Struttura"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",7)(11,"div",8),e.\u0275\u0275listener("click",function(){return o.back()}),e.\u0275\u0275element(12,"ion-icon",9),e.\u0275\u0275elementStart(13,"span"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(16,"router-outlet"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"desktop-view.menu.calendar")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.listDaysWithReservationPerProperty),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,T,null!==o.selectedRes||null!==o.selectedProperty)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,6,"calendar-view.drawer.back")))},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgStyle,v.YG,v.gu,b.lC,P.X$],styles:['.calendar[_ngcontent-%COMP%]{margin:20px}.scrollable[_ngcontent-%COMP%]{position:relative}.cell[_ngcontent-%COMP%]{border-right:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;width:100px;box-sizing:border-box;text-align:center;position:relative}.cell.firstCol[_ngcontent-%COMP%]{width:300px;font-weight:500}.cell.borderLeft[_ngcontent-%COMP%]{border-left:1px solid #ccc}.header[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]   .cell.day[_ngcontent-%COMP%]{border-right:1px solid ccc}.header[_ngcontent-%COMP%]   .cell.month[_ngcontent-%COMP%]{border:0px}.header[_ngcontent-%COMP%]   .cell.firstCol[_ngcontent-%COMP%]{border-right:1px solid #ccc;border-bottom:0px;background-color:#fff;position:sticky;z-index:2;left:0;width:300px;font-weight:500}.header[_ngcontent-%COMP%]   .borderBottom[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.weekend[_ngcontent-%COMP%]{background-color:#fdfdfd}.today[_ngcontent-%COMP%]{background-color:#ebebff}.day-container[_ngcontent-%COMP%]{display:flex;white-space:nowrap}.month[_ngcontent-%COMP%]{text-align:left;font-weight:500}.day[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]{display:flex}.cell-container[_ngcontent-%COMP%]{display:flex;position:relative}.reservation-bar[_ngcontent-%COMP%]{cursor:pointer;background-color:#273951;border-radius:4px;position:absolute;text-align:center;padding-top:5px;z-index:2;color:#fff;left:60px;height:30px;top:30px}.reservation-bar[_ngcontent-%COMP%]   .reservationText[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-left:8px}.reservation-bar[_ngcontent-%COMP%]   .bookingtoolOver[_ngcontent-%COMP%]{position:absolute;left:-10px;top:-10px;background:white;border-radius:50%;padding:3px;border:1px solid #273951;width:23px;height:23px}.reservation-bar[_ngcontent-%COMP%]   .bookingtoolOver[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:15px}.reservation-bar[_ngcontent-%COMP%]   .bookingtoolOver[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]{font-size:11px}.propertyCol[_ngcontent-%COMP%]{border-right:1px solid #ccc;cursor:pointer;display:flex;flex-direction:row;height:90px;padding:5px 0;position:sticky;left:0;border-bottom:1px solid #f2f2f2;background-color:#fff;z-index:3}.propertyCol[_ngcontent-%COMP%]   .propertyName[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;flex-direction:column;flex:1;text-align:left;font-weight:500;z-index:2;margin-left:85px}.propertyCol[_ngcontent-%COMP%]   .property-thumb[_ngcontent-%COMP%]{height:80px;width:80px;border-radius:4px;position:absolute}.propertyCol[_ngcontent-%COMP%]   .property-thumb[_ngcontent-%COMP%]   .property-avatar[_ngcontent-%COMP%]{height:77px;width:100%;object-fit:cover;border-radius:5px}.propertyCol[_ngcontent-%COMP%]   .property-thumb[_ngcontent-%COMP%]   .property-avatar.no-avatar[_ngcontent-%COMP%]{filter:blur(2px);-webkit-filter:blur(2px)}.drawer[_ngcontent-%COMP%]{padding:20px 0 10px;z-index:5;position:fixed;right:17px;width:500px;display:none;height:100%;top:70px;background:white;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.drawer.display[_ngcontent-%COMP%]{display:block}.backContainer[_ngcontent-%COMP%]{z-index:2;position:absolute;left:20px;top:5px;cursor:pointer;text-align:left;color:var(--text-color-primary)}.backContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;top:2px}.backContainer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;vertical-align:baseline;line-height:45px;margin-left:4px}.closeIcon[_ngcontent-%COMP%]{position:absolute;right:20px;cursor:pointer}.addProp[_ngcontent-%COMP%]{--background:white;color:var(--text-color-primary)}.addRes[_ngcontent-%COMP%]{border-radius:3px;padding:9px;min-width:160px;border:2px dashed #d0d0d0;display:inline-block;margin:10px 0;text-align:center;cursor:pointer}.addRes[_ngcontent-%COMP%]:hover{background-color:#f4f0ff}.cellday[_ngcontent-%COMP%]{position:relative;cursor:pointer}.cellday[_ngcontent-%COMP%]:hover:before{content:"+";position:absolute;font-size:50px;color:#5438a6;pointer-events:none;z-index:1;left:0;top:10px;bottom:10px;z-index:2;width:100%}.cellday[_ngcontent-%COMP%]:has(.reservation-bar):hover:before{display:none}.selection-overlay[_ngcontent-%COMP%]{position:absolute;border:2px dashed #5438a6;pointer-events:none;z-index:2;background-color:#5438a61a}.cell.selection-start[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;border-left:2px dashed #5438a6;border-top-left-radius:10px;border-bottom-left-radius:10px;z-index:2}.cell.selected[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;z-index:2;border-top:2px dashed #5438a6;width:100%;border-bottom:2px dashed #5438a6}.cell.selection-end[_ngcontent-%COMP%]:before{width:calc(100% - 10px);border-right:2px dashed #5438a6;border-top-right-radius:10px;border-bottom-right-radius:10px}.cell.selection-start.selection-end[_ngcontent-%COMP%]:before{width:calc(100% - 22px)}.row[_ngcontent-%COMP%]:has(.cell.selection-start)   .cell.selection-start[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:has(.cell.selection-start)   .cell.selection-start[_ngcontent-%COMP%]:after, .row[_ngcontent-%COMP%]:has(.cell.selection-end)   .cell.selection-end[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:has(.cell.selection-end)   .cell.selection-end[_ngcontent-%COMP%]:after, .row[_ngcontent-%COMP%]:has(.cell.selected)   .cell.selected[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:has(.cell.selected)   .cell.selected[_ngcontent-%COMP%]:after{top:10px;bottom:10px}.row[_ngcontent-%COMP%]:has(.cell.selection-start)   .cell.selection-start[_ngcontent-%COMP%]:before{left:10px}.row[_ngcontent-%COMP%]:has(.cell.selection-end)   .cell.selection-end[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:has(.cell.selection-end)   .cell.selection-end[_ngcontent-%COMP%]:after{right:10px}.cellday[_ngcontent-%COMP%]:hover:before{content:"+"}.cell.selected[_ngcontent-%COMP%]{background-color:#007bff33;border:none}.cell.selected[_ngcontent-%COMP%]:first-child{border-left:1px solid #007bff}.cell.selected[_ngcontent-%COMP%]:last-child{border-right:1px solid #007bff}.row[_ngcontent-%COMP%]:has(.cell.selected)   .cell.selected[_ngcontent-%COMP%]:first-of-type{border-left:1px solid #007bff}.row[_ngcontent-%COMP%]:has(.cell.selected)   .cell.selected[_ngcontent-%COMP%]:last-of-type{border-right:1px solid #007bff}.row[_ngcontent-%COMP%]:has(.cell.selected:first-of-type)   .cell.selected[_ngcontent-%COMP%]{border-top:1px solid #007bff}.row[_ngcontent-%COMP%]:has(.cell.selected:last-of-type)   .cell.selected[_ngcontent-%COMP%]{border-bottom:1px solid #007bff}']}),n})();var E=r(46480),F=r(57909),ce=r(98071);let M=(()=>{class n{constructor(t){this.store=t,this.subscriptions=[]}resolve(t){var o=this;return(0,D.Z)(function*(){return t.params.id&&t.params.propertyId?o.store.dispatch(new p.eX.SelectReservation(t.params.id,t.params.propertyId)):t.params.propertyId?o.store.dispatch(new p.eX.SelectProperty(t.params.propertyId)):(o.store.dispatch(new p.eX.SelectReservation(null,null)),o.store.dispatch(new p.eX.SelectProperty(null))),o.subscriptions.push(o.store.pipe((0,g.Ys)(p.Dp)).subscribe(i=>{i&&o.store.dispatch(new p.WO.UpdateGuestbook(i.guestbook))})),null})()}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(g.yh))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var de=r(7065),y=r(78425),k=r(57420),j=r(30049),pe=r(88886),me=r(68673),ve=r(38793),ge=r(37305),ue=r(93128),he=r(69998),fe=r(41228),ye=r(92488),Ce=r(53458),xe=r(33021),be=r(16775),Pe=r(77513);let _e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.CommonModule,I.P,h.u5,v.Pc,S.Y,E.x,R.G,h.UX,P.aw]}),n})();var Me=r(35346),L=r(36078),Oe=r(28029),we=r(76706),Se=r(76862),C=r(55426),Ie=r(78320),f=[];for(const n of Se.w)if(n.component&&f.push(n.resolve?{path:n.action,component:n.component,resolve:{forMenuSelection:C.H,myData:n.resolve},data:{tab:n.tab,action:n.action}}:{path:n.action,component:n.component,resolve:{forMenuSelection:C.H},data:{tab:n.tab,action:n.action}}),n.subOptions)for(const a of n.subOptions)a.component&&f.push(a.resolve?{path:a.action,component:a.component,resolve:{forMenuSelection:C.H,myData:a.resolve},data:{action:a.action}}:{path:a.action,component:a.component,resolve:{forMenuSelection:C.H},data:{action:a.action}});f.push({path:"edit-template/:templateId",data:{action:"edit-template"},children:[{path:"",resolve:{myData:y.V},component:Ie.B}]},{path:"create-contract/:contractId",data:{action:"create-contract"},children:[{path:"",resolve:{myData:y.V},component:j._}]},{path:"send-contract/:contractId",data:{action:"send-contract"},children:[{path:"",resolve:{myData:y.V},component:k.c}]});const x=[];for(const n of de.W)if(n.component){const a={path:n.action,component:n.component,resolve:null,data:{action:n.action}};if(n.resolve&&(a.resolve={myDate:n.resolve}),x.push(a),n.subOptions)for(const t of n.subOptions)t.component&&x.push({path:t.action,component:t.component,data:{action:t.action}})}x.push({path:"send-contract/:contractId",data:{action:"send-contract"},children:[{path:"",resolve:{myData:y.V},component:k.c}]}),x.push({path:"create-contract/:contractId",data:{action:"create-contract"},children:[{path:"",resolve:{myData:y.V},component:j._}]});const Re=[{path:"",component:O,data:{isFromCalendar:!0},resolve:{myData:M}},{path:"property/:propertyId",component:O,data:{product:"concierge"},resolve:{myData:M},children:[{path:"",component:Oe.G}].concat(f)},{path:":propertyId/:id",component:O,resolve:{myData:M},children:[{path:"",component:ce.k}].concat(x)}];let De=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[M,C.H],imports:[u.CommonModule,I.P,pe.M,F.t,$.j,N.K,E.x,U.j,we.I,z.n,h.u5,v.Pc,R.G,h.UX,A.x,S.Y,B.u,b.Bz.forChild(Re),P.aw,h.u5,v.Pc,F.t,Me.T,_e,Pe.w,be.I,xe.P,Ce.t,ye.N,fe.d,he.S,ue.D,ge.Q,L.j,ve.M,me.b,L.j]}),n})()}}]);