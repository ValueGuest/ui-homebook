"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6081],{76081:(Yt,u,p)=>{p.r(u),p.d(u,{CrmModule:()=>Zt});var m=p(36895),g=p(24006),i=p(60434),O=p(89383),_=p(34793),d=p(49671),f=p(38655),t=p(94650);let P=(()=>{class o{constructor(e){this.callService=e}convertToServerError(){return e=>{let n;throw n=e&&e.errorCode?{id:"errors.crm."+e.errorCode,message:e.errorName,errorInfo:e.errorInfo}:{id:"errors.unknownerror",message:e.errorName||"Unknown error occurred"},n}}getDashboardData(e=1,n=50,r="",c={}){return this.callService.call("/crm/dashboard",{page:e,limit:n,search:r,filters:c}).catch(this.convertToServerError())}getPaidInfo(){return this.callService.call("/crm/dashboard/getPaidInfo",{}).catch(this.convertToServerError())}searchCustomers(e,n="all"){return this.callService.call("/crm/search",{query:e,type:n}).catch(this.convertToServerError())}getCustomerDetails(e){return this.callService.call(`/crm/customer/${e}`,{}).catch(this.convertToServerError())}createCase(e){return this.callService.call("/crm/cases",e).catch(this.convertToServerError())}updateCaseStatus(e,n,r,c){return this.callService.call(`/crm/cases/${e}/status`,{status:n,assignedTo:r,notes:c}).catch(this.convertToServerError())}addCaseActivity(e,n,r,c){return this.callService.call(`/crm/cases/${e}/activity`,{type:n,content:r,user:c}).catch(this.convertToServerError())}getAnalytics(e="30d"){return this.callService.call("/crm/analytics",{timeRange:e}).catch(this.convertToServerError())}formatDate(e){if(!e)return"";let n;return n=e.toDate?e.toDate():"string"==typeof e?new Date(e):e,n.toLocaleDateString()+" "+n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}getPriorityColor(e){switch(e){case"high":return"danger";case"medium":return"warning";case"low":return"success";default:return"medium"}}getStatusColor(e){switch(e){case"open":return"danger";case"in-progress":return"warning";case"closed":return"success";default:return"medium"}}getMyProperties(){return this.callService.call("/crm/my-properties",{}).catch(this.convertToServerError())}addPropertyToMyAccount(e,n){return this.callService.call("/crm/my-properties/add",{propertyId:e,propertyName:n}).catch(this.convertToServerError())}deletePropertyFromMyAccount(e){return this.callService.call("/crm/my-properties/delete",{propertyId:e}).catch(this.convertToServerError())}getIcalContent(e){return this.callService.call("/crm/ical-content",{icalUrl:e}).then(c=>c.content).catch(this.convertToServerError())}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275inject(f.M))},o.\u0275prov=t.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function x(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",38)(1,"div",39)(2,"div",40),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",41)(5,"h3",42),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"p",43),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"div",44)(10,"div",45)(11,"div",46),t.\u0275\u0275text(12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",47),t.\u0275\u0275text(14,"Properties"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",45)(16,"div",46),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",47),t.\u0275\u0275text(19,"Total Cases"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",45)(21,"div",46),t.\u0275\u0275text(22),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"div",47),t.\u0275\u0275text(24,"Open Cases"),t.\u0275\u0275elementEnd()()()()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2(" ",null==e.customer.firstname?null:e.customer.firstname.charAt(0),"",null==e.customer.lastname?null:e.customer.lastname.charAt(0)," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2("",e.customer.firstname," ",e.customer.lastname,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.customer.email),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(e.customer.totalProperties),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.customer.totalCases),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.customer.totalCases-(e.customer.totalCases||0))}}function v(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"ion-select-option",48),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=a.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.label," ")}}function h(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"ion-select-option",48),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=a.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.label," ")}}function b(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"ion-select-option",48),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=a.$implicit;t.\u0275\u0275property("value",e.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.label," ")}}function y(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",52),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);let l;return t.\u0275\u0275resetView(null==(l=s.caseForm.get("propertyId"))?null:l.setValue(c.id))}),t.\u0275\u0275elementStart(1,"div",53),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",54),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()}if(2&o){const e=a.$implicit,n=t.\u0275\u0275nextContext(2);let r;t.\u0275\u0275classProp("selected",(null==(r=n.caseForm.get("propertyId"))?null:r.value)===e.id),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.title),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.id)}}function w(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",11)(1,"div",12)(2,"div",13),t.\u0275\u0275element(3,"ion-icon",49),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h3",15),t.\u0275\u0275text(5,"Property Association"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",50)(7,"div",17)(8,"label",18),t.\u0275\u0275text(9,"Related Property (Optional)"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"p",21),t.\u0275\u0275text(11,"Select a property if this case is related to a specific location"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",51)(13,"div",52),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();let c;return t.\u0275\u0275resetView(null==(c=r.caseForm.get("propertyId"))?null:c.setValue(""))}),t.\u0275\u0275elementStart(14,"div",53),t.\u0275\u0275text(15,"General Issue"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",54),t.\u0275\u0275text(17,"Not property-specific"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(18,y,5,4,"div",55),t.\u0275\u0275elementEnd()()()}if(2&o){const e=t.\u0275\u0275nextContext();let n;t.\u0275\u0275advance(13),t.\u0275\u0275classProp("selected",""===(null==(n=e.caseForm.get("propertyId"))?null:n.value)),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",e.customer.properties)}}function S(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",56)(1,"div",57)(2,"div",58),t.\u0275\u0275element(3,"ion-icon",59),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"h3",15),t.\u0275\u0275text(5,"WhatsApp Details"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",60),t.\u0275\u0275text(7,"Auto-Generated"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",16)(9,"div",17)(10,"label",18),t.\u0275\u0275text(11,"WhatsApp Number"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(12,"ion-input",61),t.\u0275\u0275elementStart(13,"p",21),t.\u0275\u0275text(14,"Customer's WhatsApp contact number"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(15,"div",16)(16,"div",17)(17,"label",18),t.\u0275\u0275text(18,"Original Message"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(19,"ion-textarea",62),t.\u0275\u0275elementStart(20,"p",21),t.\u0275\u0275text(21,"Copy the original message from WhatsApp"),t.\u0275\u0275elementEnd()()()())}function k(o,a){1&o&&t.\u0275\u0275element(0,"ion-spinner",63)}function E(o,a){1&o&&t.\u0275\u0275element(0,"ion-icon",64)}function I(o,a){1&o&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"Create Case"),t.\u0275\u0275elementEnd())}function T(o,a){1&o&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"Creating..."),t.\u0275\u0275elementEnd())}function D(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",65),t.\u0275\u0275element(1,"ion-spinner",66),t.\u0275\u0275elementEnd())}let z=(()=>{class o{constructor(e,n,r,c){this.formBuilder=e,this.modalController=n,this.alertController=r,this.crmService=c,this.loading=!1,this.priorities=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],this.categories=[{value:"general",label:"General"},{value:"technical",label:"Technical"},{value:"billing",label:"Billing"},{value:"support",label:"Support"}],this.sources=[{value:"manual",label:"Manual"},{value:"whatsapp",label:"WhatsApp"},{value:"email",label:"Email"},{value:"phone",label:"Phone"}],this.caseForm=this.formBuilder.group({title:["",[g.kI.required]],description:[""],priority:["medium"],category:["general"],source:["manual"],propertyId:[""],whatsappNumber:[""],whatsappMessage:[""]})}ngOnInit(){}onSubmit(){var e=this;return(0,d.Z)(function*(){if(e.caseForm.valid&&e.customer){e.loading=!0;try{const r={userId:e.customer.id,...e.caseForm.value};yield e.crmService.createCase(r),e.modalController.dismiss({success:!0})}catch(n){console.error("Error creating case:",n),e.showError("Failed to create case")}finally{e.loading=!1}}})()}showError(e){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Error",message:e,buttons:["OK"]})).present()})()}dismiss(){this.modalController.dismiss()}get isWhatsAppSource(){return"whatsapp"===this.caseForm.get("source")?.value}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(g.qu),t.\u0275\u0275directiveInject(i.IN),t.\u0275\u0275directiveInject(i.Br),t.\u0275\u0275directiveInject(P))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-crm-case-modal"]],inputs:{customer:"customer"},decls:63,vars:14,consts:[[1,"case-modal"],[1,"modal-header"],[1,"header-content"],[1,"header-left"],[1,"modal-title"],[1,"modal-subtitle"],[1,"close-btn",3,"click"],["name","close"],[1,"modal-content"],[3,"formGroup","ngSubmit"],["class","customer-info",4,"ngIf"],[1,"form-section"],[1,"section-header"],[1,"section-icon"],["name","document-text-outline"],[1,"section-title"],[1,"form-row"],[1,"form-group"],[1,"form-label"],[1,"required"],["formControlName","title","placeholder","Brief description of the issue","type","text"],[1,"form-help"],["formControlName","description","placeholder","Detailed description of the issue or request","rows","4"],[1,"form-row","three-columns"],["formControlName","priority","interface","popover"],[3,"value",4,"ngFor","ngForOf"],["formControlName","category","interface","popover"],["formControlName","source","interface","popover"],["class","form-section",4,"ngIf"],["class","whatsapp-section",4,"ngIf"],[1,"form-actions"],["type","button",1,"action-btn","secondary",3,"disabled","click"],["name","close-outline"],["type","submit",1,"action-btn","primary",3,"disabled"],["name","crescent",4,"ngIf"],["name","checkmark-outline",4,"ngIf"],[4,"ngIf"],["class","loading-overlay",4,"ngIf"],[1,"customer-info"],[1,"customer-header"],[1,"customer-avatar"],[1,"customer-details"],[1,"customer-name"],[1,"customer-email"],[1,"customer-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[3,"value"],["name","business-outline"],[1,"property-selection"],[1,"property-grid"],[1,"property-option",3,"click"],[1,"property-name"],[1,"property-id"],["class","property-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"whatsapp-section"],[1,"whatsapp-header"],[1,"whatsapp-icon"],["name","logo-whatsapp"],[1,"badge"],["formControlName","whatsappNumber","placeholder","+1 234 567 8900","type","tel"],["formControlName","whatsappMessage","placeholder","Original WhatsApp message content","rows","3"],["name","crescent"],["name","checkmark-outline"],[1,"loading-overlay"],["name","crescent","color","primary"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t.\u0275\u0275text(5,"Create New Support Case"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",5),t.\u0275\u0275text(7,"Submit a new case for customer support"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"button",6),t.\u0275\u0275listener("click",function(){return n.dismiss()}),t.\u0275\u0275element(9,"ion-icon",7),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(10,"div",8)(11,"form",9),t.\u0275\u0275listener("ngSubmit",function(){return n.onSubmit()}),t.\u0275\u0275template(12,x,25,8,"div",10),t.\u0275\u0275elementStart(13,"div",11)(14,"div",12)(15,"div",13),t.\u0275\u0275element(16,"ion-icon",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"h3",15),t.\u0275\u0275text(18,"Case Details"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div",16)(20,"div",17)(21,"label",18),t.\u0275\u0275text(22," Case Title "),t.\u0275\u0275elementStart(23,"span",19),t.\u0275\u0275text(24,"*"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(25,"ion-input",20),t.\u0275\u0275elementStart(26,"p",21),t.\u0275\u0275text(27,"Provide a clear, concise title for this case"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(28,"div",16)(29,"div",17)(30,"label",18),t.\u0275\u0275text(31,"Description"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(32,"ion-textarea",22),t.\u0275\u0275elementStart(33,"p",21),t.\u0275\u0275text(34,"Include as much detail as possible to help our support team"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(35,"div",23)(36,"div",17)(37,"label",18),t.\u0275\u0275text(38,"Priority"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(39,"ion-select",24),t.\u0275\u0275template(40,v,2,2,"ion-select-option",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(41,"div",17)(42,"label",18),t.\u0275\u0275text(43,"Category"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(44,"ion-select",26),t.\u0275\u0275template(45,h,2,2,"ion-select-option",25),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(46,"div",17)(47,"label",18),t.\u0275\u0275text(48,"Source"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(49,"ion-select",27),t.\u0275\u0275template(50,b,2,2,"ion-select-option",25),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(51,w,19,3,"div",28),t.\u0275\u0275template(52,S,22,0,"div",29),t.\u0275\u0275elementStart(53,"div",30)(54,"button",31),t.\u0275\u0275listener("click",function(){return n.dismiss()}),t.\u0275\u0275element(55,"ion-icon",32),t.\u0275\u0275text(56," Cancel "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(57,"button",33),t.\u0275\u0275template(58,k,1,0,"ion-spinner",34),t.\u0275\u0275template(59,E,1,0,"ion-icon",35),t.\u0275\u0275template(60,I,2,0,"span",36),t.\u0275\u0275template(61,T,2,0,"span",36),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(62,D,2,0,"div",37),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275advance(11),t.\u0275\u0275property("formGroup",n.caseForm),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.customer),t.\u0275\u0275advance(28),t.\u0275\u0275property("ngForOf",n.priorities),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",n.categories),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",n.sources),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.customer&&n.customer.properties.length>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isWhatsAppSource),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.loading),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",!n.caseForm.valid||n.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.loading))},dependencies:[m.NgForOf,m.NgIf,g._Y,g.JJ,g.JL,g.sg,g.u,i.W2,i.gu,i.pK,i.t9,i.n0,i.PQ,i.g2,i.QI,i.j9],styles:["[_nghost-%COMP%]{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--warning-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);--surface: #ffffff;--surface-elevated: #ffffff;--background: #fafafc;--background-secondary: #f7f8fc;--text-primary: #1a1d29;--text-secondary: #6b7280;--text-tertiary: #9ca3af;--border: #e5e7eb;--border-light: #f3f4f6;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px}.case-modal[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}.case-modal[_ngcontent-%COMP%]{background:var(--background);padding:0}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:var(--surface);border-bottom:1px solid var(--border-light);padding:24px 32px;position:sticky;top:0;z-index:100}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--text-primary);margin:0 0 4px;letter-spacing:-.01em}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .modal-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:var(--background-secondary);border:1px solid var(--border);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ef4444;border-color:#ef4444;color:#fff}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--text-secondary)}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#fff}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:32px;max-width:600px;margin:0 auto}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(102,126,234,.1) 0%,rgba(118,75,162,.1) 100%);border:1px solid rgba(102,126,234,.2);border-radius:var(--radius-xl);padding:24px;margin-bottom:32px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:16px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:var(--primary-gradient);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:18px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);margin:0 0 4px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .customer-email[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center;background:rgba(255,255,255,.5);border-radius:var(--radius-md);padding:12px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:var(--text-primary);margin:0 0 4px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px;color:var(--text-tertiary);text-transform:uppercase;font-weight:600;letter-spacing:.05em}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius-xl);padding:24px;margin-bottom:24px;box-shadow:var(--shadow-sm);border:1px solid var(--border-light)}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:var(--radius-md);background:var(--primary-gradient);display:flex;align-items:center;justify-content:center}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:16px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:20px;margin-bottom:20px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row.two-columns[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row.three-columns[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:var(--text-primary);margin:0 0 8px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444;margin-left:4px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-help[_ngcontent-%COMP%]{font-size:12px;color:var(--text-tertiary);margin:4px 0 0}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%], .case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--background: var(--background-secondary);--border-radius: var(--radius-md);--border-color: var(--border);--color: var(--text-primary);--placeholder-color: var(--text-tertiary);--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 12px;box-shadow:var(--shadow-sm);border:1px solid var(--border);border-radius:var(--radius-md);margin:0}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]:focus-within, .case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]:focus-within, .case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]:focus-within{--border-color: #667eea;box-shadow:0 0 0 3px #667eea1a}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--padding-top: 16px;--padding-bottom: 16px;min-height:100px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{position:relative}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);color:var(--text-tertiary);pointer-events:none}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .whatsapp-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(37,211,102,.1) 0%,rgba(37,211,102,.05) 100%);border:1px solid rgba(37,211,102,.2);border-radius:var(--radius-xl);padding:24px;margin-bottom:24px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .whatsapp-section[_ngcontent-%COMP%]   .whatsapp-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .whatsapp-section[_ngcontent-%COMP%]   .whatsapp-header[_ngcontent-%COMP%]   .whatsapp-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:var(--radius-md);background:#25d366;display:flex;align-items:center;justify-content:center}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .whatsapp-section[_ngcontent-%COMP%]   .whatsapp-header[_ngcontent-%COMP%]   .whatsapp-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:16px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .whatsapp-section[_ngcontent-%COMP%]   .whatsapp-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .whatsapp-section[_ngcontent-%COMP%]   .whatsapp-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:rgba(37,211,102,.2);color:#15803d;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:600;text-transform:uppercase}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .property-selection[_ngcontent-%COMP%]   .property-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-top:12px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .property-selection[_ngcontent-%COMP%]   .property-grid[_ngcontent-%COMP%]   .property-option[_ngcontent-%COMP%]{background:var(--background-secondary);border:2px solid var(--border);border-radius:var(--radius-md);padding:16px;cursor:pointer;transition:all .2s ease;text-align:center}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .property-selection[_ngcontent-%COMP%]   .property-grid[_ngcontent-%COMP%]   .property-option[_ngcontent-%COMP%]:hover{border-color:#667eea;background:rgba(102,126,234,.05)}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .property-selection[_ngcontent-%COMP%]   .property-grid[_ngcontent-%COMP%]   .property-option.selected[_ngcontent-%COMP%]{border-color:#667eea;background:rgba(102,126,234,.1)}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .property-selection[_ngcontent-%COMP%]   .property-grid[_ngcontent-%COMP%]   .property-option[_ngcontent-%COMP%]   .property-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);margin:0 0 4px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .property-selection[_ngcontent-%COMP%]   .property-grid[_ngcontent-%COMP%]   .property-option[_ngcontent-%COMP%]   .property-id[_ngcontent-%COMP%]{font-size:11px;color:var(--text-tertiary);font-family:monospace}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:16px;margin-top:40px;padding-top:24px;border-top:1px solid var(--border-light)}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{flex:1;padding:14px 24px;border-radius:var(--radius-md);font-weight:600;font-size:14px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px;min-height:48px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:var(--background-secondary);border:1px solid var(--border);color:var(--text-secondary)}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--background);border-color:var(--text-secondary)}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:var(--primary-gradient);border:1px solid transparent;color:#fff;box-shadow:var(--shadow-md)}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:var(--shadow-lg)}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:20px;height:20px}@media (max-width: 768px){.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:16px 20px}.case-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:20px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{padding:16px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:16px}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row.two-columns[_ngcontent-%COMP%], .case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-row.three-columns[_ngcontent-%COMP%], .case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .property-selection[_ngcontent-%COMP%]   .property-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.case-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.case-modal[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.case-modal[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]:focus, .case-modal[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]:focus, .case-modal[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]:focus{outline:none}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(255,255,255,.8);display:flex;align-items:center;justify-content:center;border-radius:var(--radius-xl);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}"]}),o})();function V(o,a){1&o&&t.\u0275\u0275element(0,"img",25)}function A(o,a){1&o&&t.\u0275\u0275element(0,"img",26)}function F(o,a){1&o&&t.\u0275\u0275element(0,"ion-icon",27)}function j(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",31),t.\u0275\u0275element(1,"ion-icon",27),t.\u0275\u0275elementStart(2,"h3"),t.\u0275\u0275text(3,"No events found"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p"),t.\u0275\u0275text(5,"This calendar appears to be empty or the format is not recognized."),t.\u0275\u0275elementEnd()())}function N(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"span",46),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext().$implicit,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",n.getDaysBetween(e.startDate,e.endDate)," ",1===n.getDaysBetween(e.startDate,e.endDate)?"day":"days"," ")}}function $(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",47)(1,"p"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.description)}}function B(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",34)(1,"div",35)(2,"h4",36),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",37),t.\u0275\u0275template(5,N,2,2,"span",38),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",39)(7,"div",40),t.\u0275\u0275element(8,"ion-icon",41),t.\u0275\u0275elementStart(9,"span"),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",40),t.\u0275\u0275element(12,"ion-icon",42),t.\u0275\u0275elementStart(13,"span"),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(15,$,3,1,"div",43),t.\u0275\u0275elementStart(16,"div",44)(17,"span",45),t.\u0275\u0275text(18),t.\u0275\u0275elementEnd()()()),2&o){const e=a.$implicit,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.title||"Untitled Event"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.startDate&&e.endDate),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("Check-in: ",n.formatDate(e.startDate),""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("Check-out: ",n.formatDate(e.endDate),""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.description),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("ID: ",e.uid,"")}}function L(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",32),t.\u0275\u0275template(1,B,19,6,"div",33),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.parsedEvents)}}function Z(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275template(1,j,6,0,"div",29),t.\u0275\u0275template(2,L,2,1,"div",30),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===e.parsedEvents.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.parsedEvents.length>0)}}function Y(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",48)(1,"div",49)(2,"h4"),t.\u0275\u0275text(3,"Raw iCal Content"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"ion-button",50),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.copyToClipboard(r.rawContent))}),t.\u0275\u0275element(5,"ion-icon",51),t.\u0275\u0275text(6," Copy All "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",52)(8,"pre"),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd()()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(9),t.\u0275\u0275textInterpolate(e.rawContent)}}let R=(()=>{class o{constructor(e){this.modalController=e,this.content="",this.parsedEvents=[],this.rawContent=""}ngOnInit(){this.rawContent=this.content,this.parseIcalContent()}parseIcalContent(){if(!this.content)return;const e=this.content.split("\n"),n=[];let r=null;for(const c of e){const s=c.trim();if("BEGIN:VEVENT"===s)r={};else if("END:VEVENT"===s&&r)n.push(r),r=null;else if(r&&s.includes(":")){const[l,...M]=s.split(":"),C=M.join(":");switch(l){case"SUMMARY":r.title=C;break;case"DTSTART":r.startDate=this.parseIcalDate(C);break;case"DTEND":r.endDate=this.parseIcalDate(C);break;case"DESCRIPTION":r.description=C;break;case"UID":r.uid=C}}}this.parsedEvents=n.sort((c,s)=>new Date(c.startDate).getTime()-new Date(s.startDate).getTime())}parseIcalDate(e){if(e.includes("T")){const n=e.replace(/[TZ]/g,""),r=parseInt(n.substring(0,4)),c=parseInt(n.substring(4,6))-1,s=parseInt(n.substring(6,8)),l=parseInt(n.substring(8,10))||0,M=parseInt(n.substring(10,12))||0;return new Date(r,c,s,l,M)}{const n=parseInt(e.substring(0,4)),r=parseInt(e.substring(4,6))-1,c=parseInt(e.substring(6,8));return new Date(n,r,c)}}formatDate(e){return e.toLocaleDateString()+" "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}formatDateOnly(e){return e.toLocaleDateString()}getDaysBetween(e,n){const r=Math.abs(n.getTime()-e.getTime());return Math.ceil(r/864e5)}closeModal(){var e=this;return(0,d.Z)(function*(){yield e.modalController.dismiss()})()}copyToClipboard(e){return(0,d.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(n){console.error("Failed to copy text: ",n)}})()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(i.IN))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-ical-viewer-modal"]],inputs:{ical:"ical",property:"property",content:"content"},decls:41,vars:11,consts:[["slot","end"],[3,"click"],["name","close"],[1,"ical-viewer"],[1,"modal-header"],[1,"ical-info"],[1,"ical-source"],[1,"source-icon"],["src","https://a0.muscache.com/airbnb/static/logos/belo-200.png","alt","Airbnb",4,"ngIf"],["src","https://cf.bstatic.com/static/img/booking_logo_retina/22615963add19ac6b6d715a97c8d477e8b95b7ea.png","alt","Booking.com",4,"ngIf"],["name","calendar-outline",4,"ngIf"],[1,"source-details"],[1,"ical-url"],[1,"url-label"],[1,"url-container"],[1,"url-text"],["fill","clear","size","small",3,"click"],["name","copy-outline"],[1,"content-tabs"],["value","events"],["contentSegment",""],["value","raw"],[1,"tab-content"],["class","events-view",4,"ngIf"],["class","raw-view",4,"ngIf"],["src","https://a0.muscache.com/airbnb/static/logos/belo-200.png","alt","Airbnb"],["src","https://cf.bstatic.com/static/img/booking_logo_retina/22615963add19ac6b6d715a97c8d477e8b95b7ea.png","alt","Booking.com"],["name","calendar-outline"],[1,"events-view"],["class","empty-state",4,"ngIf"],["class","events-list",4,"ngIf"],[1,"empty-state"],[1,"events-list"],["class","event-card",4,"ngFor","ngForOf"],[1,"event-card"],[1,"event-header"],[1,"event-title"],[1,"event-duration"],["class","duration-badge",4,"ngIf"],[1,"event-dates"],[1,"date-item"],["name","play-outline"],["name","stop-outline"],["class","event-description",4,"ngIf"],[1,"event-meta"],[1,"event-uid"],[1,"duration-badge"],[1,"event-description"],[1,"raw-view"],[1,"raw-header"],["fill","outline","size","small",3,"click"],["name","copy-outline","slot","start"],[1,"raw-content"]],template:function(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.\u0275\u0275text(3,"iCal Viewer"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"ion-buttons",0)(5,"ion-button",1),t.\u0275\u0275listener("click",function(){return n.closeModal()}),t.\u0275\u0275element(6,"ion-icon",2),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(7,"ion-content",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7),t.\u0275\u0275template(12,V,1,0,"img",8),t.\u0275\u0275template(13,A,1,0,"img",9),t.\u0275\u0275template(14,F,1,0,"ion-icon",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",11)(16,"h3"),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"p"),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"titlecase"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(21,"div",12)(22,"span",13),t.\u0275\u0275text(23,"iCal URL:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(24,"div",14)(25,"span",15),t.\u0275\u0275text(26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"ion-button",16),t.\u0275\u0275listener("click",function(){return n.copyToClipboard(n.ical.url)}),t.\u0275\u0275element(28,"ion-icon",17),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(29,"div",18)(30,"ion-segment",19,20)(32,"ion-segment-button",19)(33,"ion-label"),t.\u0275\u0275text(34),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"ion-segment-button",21)(36,"ion-label"),t.\u0275\u0275text(37,"Raw Content"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(38,"div",22),t.\u0275\u0275template(39,Z,3,2,"div",23),t.\u0275\u0275template(40,Y,10,1,"div",24),t.\u0275\u0275elementEnd()()),2&e){const r=t.\u0275\u0275reference(31);t.\u0275\u0275advance(12),t.\u0275\u0275property("ngIf","ical_airbnb"===n.ical.bookingTool),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","ical_booking"===n.ical.bookingTool),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","ical_airbnb"!==n.ical.bookingTool&&"ical_booking"!==n.ical.bookingTool),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.property.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(20,9,n.ical.bookingTool.replace("ical_","").replace("_"," "))," Calendar"),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(n.ical.url),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("Events (",n.parsedEvents.length,")"),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf","events"===r.value),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","raw"===r.value)}},dependencies:[m.NgForOf,m.NgIf,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.Q$,i.cJ,i.GO,i.wd,i.sr,i.QI,m.TitleCasePipe],styles:["[_nghost-%COMP%]{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--warning-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);--surface: #ffffff;--surface-elevated: #ffffff;--background: #fafafc;--background-secondary: #f7f8fc;--text-primary: #1a1d29;--text-secondary: #6b7280;--text-tertiary: #9ca3af;--border: #e5e7eb;--border-light: #f3f4f6;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px}.ical-viewer[_ngcontent-%COMP%]{--background: var(--crm-background)}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:var(--crm-surface);padding:24px;border-bottom:1px solid var(--crm-border)}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-source[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:16px}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-source[_ngcontent-%COMP%]   .source-icon[_ngcontent-%COMP%]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--crm-background-secondary);border-radius:var(--crm-radius-lg)}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-source[_ngcontent-%COMP%]   .source-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-source[_ngcontent-%COMP%]   .source-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--crm-text-secondary)}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-source[_ngcontent-%COMP%]   .source-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--crm-text-primary);margin:0 0 4px}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-source[_ngcontent-%COMP%]   .source-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--crm-text-secondary);margin:0}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-url[_ngcontent-%COMP%]   .url-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--crm-text-secondary);text-transform:uppercase;letter-spacing:.05em}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-url[_ngcontent-%COMP%]   .url-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:4px}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-url[_ngcontent-%COMP%]   .url-container[_ngcontent-%COMP%]   .url-text[_ngcontent-%COMP%]{font-size:13px;color:var(--crm-text-tertiary);font-family:monospace;background:var(--crm-background-secondary);padding:8px 12px;border-radius:var(--crm-radius-md);flex:1;word-break:break-all}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-url[_ngcontent-%COMP%]   .url-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--crm-text-secondary);margin:0}.ical-viewer[_ngcontent-%COMP%]   .content-tabs[_ngcontent-%COMP%]{background:var(--crm-surface);padding:0 24px;border-bottom:1px solid var(--crm-border)}.ical-viewer[_ngcontent-%COMP%]   .content-tabs[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{--background: transparent}.ical-viewer[_ngcontent-%COMP%]   .content-tabs[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--background: transparent;--background-checked: var(--crm-primary);--color: var(--crm-text-secondary);--color-checked: white;--border-radius: 8px;margin:4px;font-weight:600}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:24px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--crm-text-tertiary);margin-bottom:16px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--crm-text-primary);margin:0 0 8px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--crm-text-secondary);margin:0}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]{display:grid;gap:16px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]{background:var(--crm-surface);border:1px solid var(--crm-border);border-radius:var(--crm-radius-lg);padding:20px;transition:all .2s ease}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]:hover{border-color:var(--crm-primary);box-shadow:var(--crm-shadow-sm)}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]   .event-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--crm-text-primary);margin:0;flex:1}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]   .event-duration[_ngcontent-%COMP%]   .duration-badge[_ngcontent-%COMP%]{background:var(--crm-primary);color:#fff;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-dates[_ngcontent-%COMP%]{display:grid;gap:8px;margin-bottom:12px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-dates[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--crm-text-secondary)}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-dates[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--crm-primary)}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{margin-bottom:12px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--crm-text-secondary);margin:0;line-height:1.5}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-meta[_ngcontent-%COMP%]   .event-uid[_ngcontent-%COMP%]{font-size:12px;color:var(--crm-text-tertiary);font-family:monospace}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .raw-view[_ngcontent-%COMP%]   .raw-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .raw-view[_ngcontent-%COMP%]   .raw-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--crm-text-primary);margin:0}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .raw-view[_ngcontent-%COMP%]   .raw-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--crm-primary)}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .raw-view[_ngcontent-%COMP%]   .raw-content[_ngcontent-%COMP%]{background:var(--crm-background-secondary);border:1px solid var(--crm-border);border-radius:var(--crm-radius-lg);padding:16px;max-height:400px;overflow-y:auto}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .raw-view[_ngcontent-%COMP%]   .raw-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:12px;color:var(--crm-text-secondary);margin:0;white-space:pre-wrap;word-break:break-all}[_nghost-%COMP%]   .ical-modal[_ngcontent-%COMP%]{--width: 90%;--max-width: 800px;--height: 80%;--max-height: 600px}@media (max-width: 768px){.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:16px}.ical-viewer[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .ical-info[_ngcontent-%COMP%]   .ical-source[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.ical-viewer[_ngcontent-%COMP%]   .content-tabs[_ngcontent-%COMP%]{padding:0 16px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%], .ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]{padding:16px}.ical-viewer[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .events-view[_ngcontent-%COMP%]   .events-list[_ngcontent-%COMP%]   .event-card[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}[_nghost-%COMP%]   .ical-modal[_ngcontent-%COMP%]{--width: 95%;--height: 90%}}"]}),o})();function W(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",24)(1,"label",25),t.\u0275\u0275text(2,"Property ID"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",26)(4,"ion-input",27),t.\u0275\u0275listener("ngModelChange",function(r){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.propertyId=r)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",28),t.\u0275\u0275element(6,"ion-icon",11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",29),t.\u0275\u0275element(8,"ion-icon",30),t.\u0275\u0275elementStart(9,"span"),t.\u0275\u0275text(10,"The unique identifier for the property"),t.\u0275\u0275elementEnd()()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275property("ngModel",e.propertyId)}}function G(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",24)(1,"label",25),t.\u0275\u0275text(2,"Property Name"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",26)(4,"ion-input",31),t.\u0275\u0275listener("ngModelChange",function(r){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.propertyName=r)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",28),t.\u0275\u0275element(6,"ion-icon",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",29),t.\u0275\u0275element(8,"ion-icon",30),t.\u0275\u0275elementStart(9,"span"),t.\u0275\u0275text(10,"The display name or title of the property"),t.\u0275\u0275elementEnd()()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275property("ngModel",e.propertyName)}}function U(o,a){1&o&&t.\u0275\u0275element(0,"ion-spinner",32)}function Q(o,a){1&o&&t.\u0275\u0275element(0,"ion-icon",33)}let J=(()=>{class o{constructor(e,n,r,c){this.modalController=e,this.loadingController=n,this.alertController=r,this.crmService=c,this.propertyId="",this.propertyName="",this.searchMethod="id",this.isSubmitting=!1}ngOnInit(){}closeModal(){var e=this;return(0,d.Z)(function*(){yield e.modalController.dismiss()})()}onSearchMethodChange(){"id"===this.searchMethod?this.propertyName="":this.propertyId=""}isFormValid(){return"id"===this.searchMethod?this.propertyId.trim().length>0:this.propertyName.trim().length>0}addProperty(){var e=this;return(0,d.Z)(function*(){if(e.isFormValid()){e.isSubmitting=!0;try{const n="id"===e.searchMethod?e.propertyId.trim():void 0,r="name"===e.searchMethod?e.propertyName.trim():void 0;yield e.crmService.addPropertyToMyAccount(n,r),yield e.showSuccess("Property added successfully"),yield e.modalController.dismiss({success:!0})}catch(n){console.error("Error adding property:",n),yield e.showError("Failed to add property. Please check the ID/name and try again.")}finally{e.isSubmitting=!1}}else yield e.showError("Please provide either Property ID or Property Name")})()}showError(e){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Error",message:e,buttons:["OK"],cssClass:"crm-alert"})).present()})()}showSuccess(e){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Success",message:e,buttons:["OK"],cssClass:"crm-alert success"})).present()})()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(i.IN),t.\u0275\u0275directiveInject(i.HT),t.\u0275\u0275directiveInject(i.Br),t.\u0275\u0275directiveInject(P))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-add-property-modal"]],decls:45,vars:12,consts:[[1,"modal-header"],["slot","end"],["fill","clear",3,"click"],["name","close","slot","icon-only"],[1,"add-property-modal"],[1,"modal-content"],[1,"search-method-section"],[3,"ngModel","ngModelChange","ionChange"],[1,"method-options"],[1,"method-option",3,"click"],[1,"option-icon"],["name","key-outline"],[1,"option-content"],[1,"option-radio"],["value","id"],["name","text-outline"],["value","name"],[1,"input-section"],["class","input-group",4,"ngIf"],[1,"action-section"],[1,"cancel-btn",3,"disabled","click"],[1,"add-btn",3,"disabled","click"],["name","crescent",4,"ngIf"],["name","add-circle-outline",4,"ngIf"],[1,"input-group"],[1,"input-label"],[1,"input-container"],["placeholder","Enter property ID (e.g., abc123def456)","type","text",1,"modern-input",3,"ngModel","ngModelChange"],[1,"input-icon"],[1,"input-help"],["name","information-circle-outline"],["placeholder","Enter property name (e.g., Villa Sunset)","type","text",1,"modern-input",3,"ngModel","ngModelChange"],["name","crescent"],["name","add-circle-outline"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.\u0275\u0275text(3,"Add Property to Account"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"ion-buttons",1)(5,"ion-button",2),t.\u0275\u0275listener("click",function(){return n.closeModal()}),t.\u0275\u0275element(6,"ion-icon",3),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(7,"ion-content",4)(8,"div",5)(9,"div",6)(10,"h3"),t.\u0275\u0275text(11,"Search Method"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"ion-radio-group",7),t.\u0275\u0275listener("ngModelChange",function(c){return n.searchMethod=c})("ionChange",function(){return n.onSearchMethodChange()}),t.\u0275\u0275elementStart(13,"div",8)(14,"div",9),t.\u0275\u0275listener("click",function(){return n.searchMethod="id",n.onSearchMethodChange()}),t.\u0275\u0275elementStart(15,"div",10),t.\u0275\u0275element(16,"ion-icon",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"div",12)(18,"h4"),t.\u0275\u0275text(19,"Property ID"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"p"),t.\u0275\u0275text(21,"Search by exact property identifier"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",13),t.\u0275\u0275element(23,"ion-radio",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",9),t.\u0275\u0275listener("click",function(){return n.searchMethod="name",n.onSearchMethodChange()}),t.\u0275\u0275elementStart(25,"div",10),t.\u0275\u0275element(26,"ion-icon",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"div",12)(28,"h4"),t.\u0275\u0275text(29,"Property Name"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(30,"p"),t.\u0275\u0275text(31,"Search by property title or name"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(32,"div",13),t.\u0275\u0275element(33,"ion-radio",16),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(34,"div",17),t.\u0275\u0275template(35,W,11,1,"div",18),t.\u0275\u0275template(36,G,11,1,"div",18),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(37,"div",19)(38,"button",20),t.\u0275\u0275listener("click",function(){return n.closeModal()}),t.\u0275\u0275text(39," Cancel "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(40,"button",21),t.\u0275\u0275listener("click",function(){return n.addProperty()}),t.\u0275\u0275template(41,U,1,0,"ion-spinner",22),t.\u0275\u0275template(42,Q,1,0,"ion-icon",23),t.\u0275\u0275elementStart(43,"span"),t.\u0275\u0275text(44),t.\u0275\u0275elementEnd()()()()()),2&e&&(t.\u0275\u0275advance(12),t.\u0275\u0275property("ngModel",n.searchMethod),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("active","id"===n.searchMethod),t.\u0275\u0275advance(10),t.\u0275\u0275classProp("active","name"===n.searchMethod),t.\u0275\u0275advance(11),t.\u0275\u0275property("ngIf","id"===n.searchMethod),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","name"===n.searchMethod),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",n.isSubmitting),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!n.isFormValid()||n.isSubmitting),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.isSubmitting),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n.isSubmitting),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.isSubmitting?"Adding...":"Add Property"))},dependencies:[m.NgIf,g.JJ,g.On,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.pK,i.B7,i.se,i.PQ,i.wd,i.sr,i.U5,i.QI,i.j9],styles:["[_nghost-%COMP%]{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--warning-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);--surface: #ffffff;--surface-elevated: #ffffff;--background: #fafafc;--background-secondary: #f7f8fc;--text-primary: #1a1d29;--text-secondary: #6b7280;--text-tertiary: #9ca3af;--border: #e5e7eb;--border-light: #f3f4f6;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px}.modal-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--color: white}.modal-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.modal-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: white}.modal-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, .1)}.add-property-modal[_ngcontent-%COMP%]{--background: var(--crm-background)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:32px;max-width:600px;margin:0 auto}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:32px;padding:24px;background:linear-gradient(135deg,#f0fdf4 0%,#ecfdf5 100%);border-radius:var(--crm-radius-xl);border:1px solid #bbf7d0}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:64px;height:64px;background:linear-gradient(135deg,#10b981 0%,#059669 100%);border-radius:var(--crm-radius-lg);display:flex;align-items:center;justify-content:center}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:#fff}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{flex:1}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:800;color:var(--crm-text-primary);margin:0 0 8px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--crm-text-secondary);margin:0;line-height:1.5}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]{margin-bottom:32px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--crm-text-primary);margin:0 0 16px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]{display:grid;gap:12px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;background:linear-gradient(135deg,#ffffff 0%,#f8fafc 100%);border:2px solid #e2e8f0;border-radius:var(--crm-radius-lg);cursor:pointer;transition:all .3s ease}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]:hover{border-color:#667eea;background:linear-gradient(135deg,#f0f4ff 0%,#e0edff 100%);transform:translateY(-1px);box-shadow:var(--crm-shadow-md)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option.active[_ngcontent-%COMP%]{border-color:#667eea;background:linear-gradient(135deg,#eff6ff 0%,#dbeafe 100%);box-shadow:var(--crm-shadow-md)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:var(--crm-radius-md);display:flex;align-items:center;justify-content:center}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{flex:1}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--crm-text-primary);margin:0 0 4px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--crm-text-secondary);margin:0}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .search-method-section[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]   .option-radio[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%]{--color: #667eea;--color-checked: #667eea}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]{margin-bottom:32px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:var(--crm-text-primary);margin-bottom:8px;text-transform:uppercase;letter-spacing:.05em}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;margin-bottom:8px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: var(--crm-radius-lg);--border-color: #e2e8f0;--border-style: solid;--border-width: 2px;--color: var(--crm-text-primary);--placeholder-color: var(--crm-text-tertiary);--padding-start: 48px;--padding-end: 16px;--padding-top: 16px;--padding-bottom: 16px;font-size:16px;font-weight:500}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]:focus-within{--border-color: #667eea;--box-shadow: 0 0 0 3px rgba(102, 126, 234, .1)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--crm-text-secondary)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-help[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--crm-text-tertiary)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .input-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-help[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--crm-text-secondary)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:32px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{flex:1;background:var(--crm-background-secondary);color:var(--crm-text-secondary);border:2px solid #e2e8f0;border-radius:var(--crm-radius-lg);padding:16px 24px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--crm-background);border-color:var(--crm-text-secondary);color:var(--crm-text-primary)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{flex:2;background:linear-gradient(135deg,#10b981 0%,#059669 100%);color:#fff;border:none;border-radius:var(--crm-radius-lg);padding:16px 24px;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%);transform:translateY(-1px);box-shadow:var(--crm-shadow-lg)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: white}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;background:linear-gradient(135deg,#eff6ff 0%,#dbeafe 100%);border:1px solid #93c5fd;border-radius:var(--crm-radius-lg)}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#3b82f6 0%,#1d4ed8 100%);border-radius:var(--crm-radius-md);display:flex;align-items:center;justify-content:center}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#fff}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--crm-text-primary);margin:0 0 4px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:var(--crm-text-secondary);margin:0;line-height:1.4}[_nghost-%COMP%]   .add-property-modal-class[_ngcontent-%COMP%]{--width: 90%;--max-width: 600px;--height: auto;--max-height: 90vh}@media (max-width: 768px){.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:20px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:16px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:56px;height:56px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]{padding:16px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]{width:40px;height:40px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .method-options[_ngcontent-%COMP%]   .method-option[_ngcontent-%COMP%]   .option-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{flex-direction:column}.add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .add-property-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{flex:none}}"]}),o})();function H(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",32),t.\u0275\u0275element(5,"ion-icon",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"div",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",34),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",35),t.\u0275\u0275text(10,"Total Customers"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",36),t.\u0275\u0275text(12,"Active customer accounts"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"div",30)(14,"div",31)(15,"div",32),t.\u0275\u0275element(16,"ion-icon",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(17,"div",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",34),t.\u0275\u0275text(19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",35),t.\u0275\u0275text(21,"Total Properties"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"div",36),t.\u0275\u0275text(23,"Managed properties"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.updateDashboardData())}),t.\u0275\u0275elementStart(25,"div",31)(26,"div",32),t.\u0275\u0275element(27,"ion-icon",38),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",34),t.\u0275\u0275text(29),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(30,"div",35),t.\u0275\u0275text(31,"Per Month"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"div",36),t.\u0275\u0275text(33),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(34,"div",37),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.updateDashboardData())}),t.\u0275\u0275elementStart(35,"div",31)(36,"div",32),t.\u0275\u0275element(37,"ion-icon",38),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(38,"div",34),t.\u0275\u0275text(39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(40,"div",35),t.\u0275\u0275text(41,"Per Year"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(42,"div",36),t.\u0275\u0275text(43),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(44,"div",39)(45,"div",40)(46,"h3"),t.\u0275\u0275text(47,"Active Products"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(48,"a",41),t.\u0275\u0275text(49,"View details"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(50,"div",42)(51,"div",43)(52,"div",44),t.\u0275\u0275element(53,"ion-icon",45),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(54,"div",46),t.\u0275\u0275text(55,"Concierge"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(56,"div",47),t.\u0275\u0275text(57),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(58,"div",43)(59,"div",48),t.\u0275\u0275element(60,"ion-icon",49),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(61,"div",46),t.\u0275\u0275text(62,"Website Builder"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(63,"div",47),t.\u0275\u0275text(64),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(65,"div",43)(66,"div",50),t.\u0275\u0275element(67,"ion-icon",51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(68,"div",46),t.\u0275\u0275text(69,"Homebook"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(70,"div",47),t.\u0275\u0275text(71),t.\u0275\u0275elementEnd()()()()()}if(2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(e.analytics.overview.totalCustomers),t.\u0275\u0275advance(11),t.\u0275\u0275textInterpolate(e.analytics.overview.totalProperties),t.\u0275\u0275advance(10),t.\u0275\u0275textInterpolate1("",e.paidInfo.monthly.amount.toFixed(2),"\u20ac"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",e.paidInfo.monthly.number," properties"),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1("",e.paidInfo.yearly.amount,"\u20ac"),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",e.paidInfo.yearly.number," properties"),t.\u0275\u0275advance(14),t.\u0275\u0275textInterpolate(e.product_snapshot.concierge),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(e.product_snapshot.websitebuilder),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(e.product_snapshot.homebook)}}function K(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275template(1,H,72,9,"div",27),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.analytics)}}function X(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",78),t.\u0275\u0275element(1,"ion-icon",100),t.\u0275\u0275elementStart(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.phone)}}function q(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",101),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=a.$implicit;t.\u0275\u0275classMap(e.name.toLowerCase().replace(" ","")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name," (",e.number,") ")}}function tt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div")(1,"div",102),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",103),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()),2&o){const e=a.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.fbId)}}function et(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",104),t.\u0275\u0275listener("click",function(r){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext().$implicit;return t.\u0275\u0275nextContext(2).callCustomer(c),t.\u0275\u0275resetView(r.stopPropagation())}),t.\u0275\u0275element(1,"ion-icon",105),t.\u0275\u0275elementEnd()}}function nt(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",72),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.openCustomerDetails(c))}),t.\u0275\u0275elementStart(1,"div",73)(2,"div",74)(3,"h4",75),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"p",76),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",77)(8,"div",78),t.\u0275\u0275element(9,"ion-icon",79),t.\u0275\u0275elementStart(10,"span"),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(12,X,4,1,"div",80),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"div",81),t.\u0275\u0275element(14,"div",82),t.\u0275\u0275elementStart(15,"div",83),t.\u0275\u0275text(16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(17,"div",84)(18,"div",85)(19,"div",34),t.\u0275\u0275text(20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"div",35),t.\u0275\u0275text(22,"Properties"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",85)(24,"div",34),t.\u0275\u0275text(25),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"div",35),t.\u0275\u0275text(27,"Total Cases"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",85)(29,"div",34),t.\u0275\u0275text(30),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"div",35),t.\u0275\u0275text(32,"Open Cases"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(33,"div",86)(34,"div",87),t.\u0275\u0275text(35,"Active Products"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(36,"div",88),t.\u0275\u0275template(37,q,2,4,"div",89),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(38,"div",86),t.\u0275\u0275template(39,tt,5,2,"div",90),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(40,"div",91)(41,"div",92),t.\u0275\u0275template(42,et,2,0,"button",93),t.\u0275\u0275elementStart(43,"button",94),t.\u0275\u0275listener("click",function(r){const s=t.\u0275\u0275restoreView(e).$implicit;return t.\u0275\u0275nextContext(2).emailCustomer(s),t.\u0275\u0275resetView(r.stopPropagation())}),t.\u0275\u0275element(44,"ion-icon",95),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(45,"button",96),t.\u0275\u0275listener("click",function(r){const s=t.\u0275\u0275restoreView(e).$implicit;return t.\u0275\u0275nextContext(2).createCase(s),t.\u0275\u0275resetView(r.stopPropagation())}),t.\u0275\u0275element(46,"ion-icon",97),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(47,"div",98)(48,"div",99),t.\u0275\u0275text(49),t.\u0275\u0275elementEnd()()()()}if(2&o){const e=a.$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",e.firstname," ",e.lastname,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.email),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(n.formatDate(e.lastActivity)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.phone),t.\u0275\u0275advance(2),t.\u0275\u0275classMap(n.getCustomerActivityLevel(e)),t.\u0275\u0275advance(1),t.\u0275\u0275classMap(n.getCustomerActivityLevel(e)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",n.getCustomerActivityLevel(e)," Activity "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(e.totalProperties),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.totalCases),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(n.getRecentCasesSummary(e).open),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngForOf",n.getActiveProductsList(e)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.properties),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.phone),t.\u0275\u0275advance(6),t.\u0275\u0275classProp("no-cases",0===e.totalCases),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",0===e.totalCases?"No cases":e.totalCases+" cases"," ")}}function ot(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",106)(1,"div",107),t.\u0275\u0275element(2,"ion-icon",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"h3"),t.\u0275\u0275text(4,"No customers found"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"p"),t.\u0275\u0275text(6,"Try adjusting your search filters or check back later"),t.\u0275\u0275elementEnd()())}function rt(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",108)(1,"button",109),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.loadPage(r.currentPage-1))}),t.\u0275\u0275element(2,"ion-icon",110),t.\u0275\u0275text(3," Previous "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",111),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",109),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.loadPage(r.currentPage+1))}),t.\u0275\u0275text(7," Next "),t.\u0275\u0275element(8,"ion-icon",112),t.\u0275\u0275elementEnd()()}if(2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",1===e.currentPage),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2(" Page ",e.currentPage," of ",e.totalPages," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",e.currentPage===e.totalPages)}}function at(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55)(4,"h3"),t.\u0275\u0275text(5,"Search & Filter"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",56)(7,"ion-searchbar",57),t.\u0275\u0275listener("ngModelChange",function(r){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.searchQuery=r)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",58),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.onSearch())}),t.\u0275\u0275element(9,"ion-icon",59),t.\u0275\u0275text(10," Search "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",60)(12,"div",61),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return r.filters.status="all",t.\u0275\u0275resetView(r.onFilterChange())}),t.\u0275\u0275text(13," All Customers "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"div",61),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return r.filters.status="active",t.\u0275\u0275resetView(r.onFilterChange())}),t.\u0275\u0275text(15," Active "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",61),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return r.filters.status="issues",t.\u0275\u0275resetView(r.onFilterChange())}),t.\u0275\u0275text(17," With Issues "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",61),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return r.filters.product="concierge",t.\u0275\u0275resetView(r.onFilterChange())}),t.\u0275\u0275text(19," Concierge Users "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",61),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return r.filters.product="websitebuilder",t.\u0275\u0275resetView(r.onFilterChange())}),t.\u0275\u0275text(21," Website Builder "),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(22,"div",62)(23,"div",63)(24,"div",3)(25,"h3"),t.\u0275\u0275text(26,"Customers"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"p",64),t.\u0275\u0275text(28),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",65)(30,"div",66)(31,"button",67),t.\u0275\u0275text(32,"Grid"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"button"),t.\u0275\u0275text(34,"List"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(35,"div",68),t.\u0275\u0275template(36,nt,50,19,"div",69),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(37,ot,7,0,"div",70),t.\u0275\u0275template(38,rt,9,4,"div",71),t.\u0275\u0275elementEnd()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(7),t.\u0275\u0275property("ngModel",e.searchQuery),t.\u0275\u0275advance(5),t.\u0275\u0275classProp("active","all"===e.filters.status),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("active","active"===e.filters.status),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("active","issues"===e.filters.status),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("active","concierge"===e.filters.product),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("active","websitebuilder"===e.filters.product),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate1("",e.totalCustomers," total customers"),t.\u0275\u0275advance(8),t.\u0275\u0275property("ngForOf",e.customers),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===e.customers.length&&!e.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.totalPages>1)}}function ct(o,a){1&o&&t.\u0275\u0275element(0,"ion-icon",146)}function it(o,a){1&o&&t.\u0275\u0275element(0,"ion-icon",147)}function st(o,a){1&o&&t.\u0275\u0275element(0,"ion-icon",148)}function dt(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",136),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(l.openIcalModal(c,s))}),t.\u0275\u0275elementStart(1,"div",137),t.\u0275\u0275template(2,ct,1,0,"ion-icon",138),t.\u0275\u0275template(3,it,1,0,"ion-icon",139),t.\u0275\u0275template(4,st,1,0,"ion-icon",140),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",141)(6,"span",142),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"span",143),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",144),t.\u0275\u0275element(11,"ion-icon",145),t.\u0275\u0275elementEnd()()}if(2&o){const e=a.$implicit,n=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","ical_booking"===e.bookingTool),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","ical_airbnb"===e.bookingTool),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","ical_vrbo"===e.bookingTool),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.getBookingToolDisplayName(e.bookingTool)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.url)}}function lt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",134),t.\u0275\u0275template(1,dt,12,5,"div",135),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.bookingToolConnections.iCal)}}function gt(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",127)(1,"div",128)(2,"h4",129),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p",103),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,lt,2,1,"div",130),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",131)(8,"button",132),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(e).$implicit,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.confirmDeleteProperty(c))}),t.\u0275\u0275element(9,"ion-icon",133),t.\u0275\u0275elementEnd()()()}if(2&o){const e=a.$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("ID: ",e.fbId,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==e.bookingToolConnections||null==e.bookingToolConnections.iCal?null:e.bookingToolConnections.iCal.length)>0)}}function mt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",106)(1,"div",107),t.\u0275\u0275element(2,"ion-icon",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"h3"),t.\u0275\u0275text(4,"No properties found"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"p"),t.\u0275\u0275text(6,"Add your first property to get started"),t.\u0275\u0275elementEnd()())}function pt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",120)(1,"div",121)(2,"div",122)(3,"div",123),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",124),t.\u0275\u0275text(6,"Total Properties"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",122)(8,"div",123),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",124),t.\u0275\u0275text(11,"Active Properties"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",125),t.\u0275\u0275template(13,gt,10,3,"div",126),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,mt,7,0,"div",70),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(e.myProperties.length),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.getActivePropertiesCount()),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",e.myProperties),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===e.myProperties.length)}}function _t(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",149),t.\u0275\u0275element(1,"ion-spinner"),t.\u0275\u0275elementStart(2,"p"),t.\u0275\u0275text(3,"Loading properties..."),t.\u0275\u0275elementEnd()())}function Ct(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",113)(1,"div",114)(2,"div",40)(3,"div",3)(4,"h3"),t.\u0275\u0275text(5,"My Properties Management"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",115),t.\u0275\u0275text(7,"Manage properties in your account"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",6)(9,"button",116),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.loadMyProperties())}),t.\u0275\u0275element(10,"ion-icon",117),t.\u0275\u0275text(11," Refresh "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.showAddPropertyModal())}),t.\u0275\u0275element(13,"ion-icon",12),t.\u0275\u0275text(14," Add Property "),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(15,pt,15,4,"div",118),t.\u0275\u0275template(16,_t,4,0,"div",119),t.\u0275\u0275elementEnd()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(15),t.\u0275\u0275property("ngIf",e.myProperties),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.loadingProperties)}}function Mt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"ion-title"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",e.customer.firstname," ",e.customer.lastname,"")}}function ut(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"p",36),t.\u0275\u0275element(1,"ion-icon",37),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.customer.phone," ")}}function Ot(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(r.callCustomer())}),t.\u0275\u0275element(1,"ion-icon",38),t.\u0275\u0275text(2," Call "),t.\u0275\u0275elementEnd()}}function ft(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",44)(1,"div",45),t.\u0275\u0275element(2,"ion-icon",46),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",47),t.\u0275\u0275text(4,"Concierge"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",48),t.\u0275\u0275text(6,"Active"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275classProp("active",e.customer.stats.activeProducts.concierge)}}function xt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",44)(1,"div",49),t.\u0275\u0275element(2,"ion-icon",50),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",47),t.\u0275\u0275text(4,"Website Builder"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",48),t.\u0275\u0275text(6,"Active"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275classProp("active",e.customer.stats.activeProducts.websitebuilder)}}function vt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",44)(1,"div",51),t.\u0275\u0275element(2,"ion-icon",52),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",47),t.\u0275\u0275text(4,"Homebook"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",48),t.\u0275\u0275text(6,"Active"),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275classProp("active",e.customer.stats.activeProducts.homebook)}}function ht(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",39)(1,"div",40)(2,"h3"),t.\u0275\u0275text(3,"Active Products"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"a",41),t.\u0275\u0275text(5,"Manage products"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",42),t.\u0275\u0275template(7,ft,7,2,"div",43),t.\u0275\u0275template(8,xt,7,2,"div",43),t.\u0275\u0275template(9,vt,7,2,"div",43),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(7),t.\u0275\u0275property("ngIf",e.customer.stats.activeProducts.concierge),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.customer.stats.activeProducts.websitebuilder),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.customer.stats.activeProducts.homebook)}}function bt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",60)(1,"span",61),t.\u0275\u0275text(2,"Phone:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span",62),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(e.customer.phone)}}function yt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div")(1,"div",53)(2,"div",54)(3,"div",55)(4,"div",56),t.\u0275\u0275element(5,"ion-icon",57),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"h4",58),t.\u0275\u0275text(7,"Customer Information"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",59)(9,"div",60)(10,"span",61),t.\u0275\u0275text(11,"Email:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"span",62),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,bt,5,1,"div",63),t.\u0275\u0275elementStart(15,"div",60)(16,"span",61),t.\u0275\u0275text(17,"Full Name:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"span",62),t.\u0275\u0275text(19),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",60)(21,"span",61),t.\u0275\u0275text(22,"Customer ID:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"span",62),t.\u0275\u0275text(24),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(25,"div",54)(26,"div",55)(27,"div",56),t.\u0275\u0275element(28,"ion-icon",64),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(29,"h4",58),t.\u0275\u0275text(30,"Account Statistics"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(31,"div",59)(32,"div",60)(33,"span",61),t.\u0275\u0275text(34,"Properties:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(35,"span",62),t.\u0275\u0275text(36),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(37,"div",60)(38,"span",61),t.\u0275\u0275text(39,"Total Cases:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(40,"span",62),t.\u0275\u0275text(41),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(42,"div",60)(43,"span",61),t.\u0275\u0275text(44,"Open Cases:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(45,"span",62),t.\u0275\u0275text(46),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(47,"div",60)(48,"span",61),t.\u0275\u0275text(49,"Closed Cases:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(50,"span",62),t.\u0275\u0275text(51),t.\u0275\u0275elementEnd()()()()()()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(13),t.\u0275\u0275textInterpolate(e.customer.email),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.customer.phone),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate2("",e.customer.firstname," ",e.customer.lastname,""),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.customer.id),t.\u0275\u0275advance(12),t.\u0275\u0275textInterpolate(e.customer.stats.totalProperties),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.customer.stats.totalCases),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.customer.stats.openCases),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(e.customer.stats.closedCases)}}function wt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",78),t.\u0275\u0275text(1," Concierge "),t.\u0275\u0275elementEnd())}function St(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",78),t.\u0275\u0275text(1," Website "),t.\u0275\u0275elementEnd())}function kt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",78),t.\u0275\u0275text(1," Homebook "),t.\u0275\u0275elementEnd())}function Et(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",68)(1,"div",69)(2,"div",70)(3,"h4"),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",71),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",72),t.\u0275\u0275template(8,wt,2,0,"div",73),t.\u0275\u0275template(9,St,2,0,"div",73),t.\u0275\u0275template(10,kt,2,0,"div",73),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",74)(12,"div",75)(13,"div",76),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",77),t.\u0275\u0275text(16,"Cases"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div",75)(18,"div",76),t.\u0275\u0275text(19,"3"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",77),t.\u0275\u0275text(21,"Products"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",75)(23,"div",76),t.\u0275\u0275text(24,"Active"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"div",77),t.\u0275\u0275text(26,"Status"),t.\u0275\u0275elementEnd()()()()),2&o){const e=a.$implicit;t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(e.title),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("ID: ",e.id,""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e.guestbook||null==e.guestbook.concierge?null:e.guestbook.concierge.active),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.guestbook||null==e.guestbook.websitebuilder?null:e.guestbook.websitebuilder.active),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e.guestbook||null==e.guestbook.homebook?null:e.guestbook.homebook.active),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate((null==e.cases?null:e.cases.length)||0)}}function It(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",79)(1,"div",80),t.\u0275\u0275element(2,"ion-icon",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"h3"),t.\u0275\u0275text(4,"No Properties"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"p"),t.\u0275\u0275text(6,"This customer hasn't registered any properties yet."),t.\u0275\u0275elementEnd()())}function Tt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div")(1,"div",65),t.\u0275\u0275template(2,Et,27,6,"div",66),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,It,7,0,"div",67),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.customer.properties),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===e.customer.properties.length)}}function Dt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"p",94),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.description)}}function zt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",13)(1,"div",90),t.\u0275\u0275text(2,"Assigned"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",91),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(e.assignedTo)}}function Vt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",102),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(' "',e.whatsapp.message,'" ')}}function At(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",95)(1,"div",96),t.\u0275\u0275element(2,"ion-icon",97),t.\u0275\u0275elementStart(3,"span",98),t.\u0275\u0275text(4,"WhatsApp Details"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",99)(6,"div",100),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Vt,2,1,"div",101),t.\u0275\u0275elementEnd()()),2&o){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(e.whatsapp.number),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.whatsapp.message)}}function Ft(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div",83)(1,"div",84)(2,"h4",85),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",86)(5,"div",87),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",78),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(9,Dt,2,1,"p",88),t.\u0275\u0275elementStart(10,"div",89)(11,"div",13)(12,"div",90),t.\u0275\u0275text(13,"Category"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"div",91),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"titlecase"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div",13)(18,"div",90),t.\u0275\u0275text(19,"Source"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",91),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"titlecase"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",13)(24,"div",90),t.\u0275\u0275text(25,"Created"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"div",91),t.\u0275\u0275text(27),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(28,zt,5,1,"div",92),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(29,At,9,2,"div",93),t.\u0275\u0275elementEnd()),2&o){const e=a.$implicit,n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(e.title),t.\u0275\u0275advance(2),t.\u0275\u0275classMap(e.priority),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.priority," "),t.\u0275\u0275advance(1),t.\u0275\u0275classMap(e.status),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.status," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.description),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(16,13,e.category)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(22,15,e.source)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(n.formatDate(e.createdAt)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.assignedTo),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.whatsapp)}}function jt(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div",79)(1,"div",80),t.\u0275\u0275element(2,"ion-icon",29),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"h3"),t.\u0275\u0275text(4,"No Cases"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"p"),t.\u0275\u0275text(6,"This customer hasn't submitted any support cases yet."),t.\u0275\u0275elementEnd()())}function Nt(o,a){if(1&o&&(t.\u0275\u0275elementStart(0,"div")(1,"div",81),t.\u0275\u0275template(2,Ft,30,17,"div",82),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,jt,7,0,"div",67),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.customer.cases),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===e.customer.cases.length)}}function $t(o,a){if(1&o){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-content",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h1",9),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",10),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,ut,3,1,"p",11),t.\u0275\u0275elementStart(9,"div",12)(10,"div",13),t.\u0275\u0275element(11,"ion-icon",14),t.\u0275\u0275elementStart(12,"span"),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div",13),t.\u0275\u0275element(15,"ion-icon",15),t.\u0275\u0275elementStart(16,"span"),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(18,"div",16),t.\u0275\u0275template(19,Ot,3,0,"button",17),t.\u0275\u0275elementStart(20,"button",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.emailCustomer())}),t.\u0275\u0275element(21,"ion-icon",19),t.\u0275\u0275text(22," Email "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"button",20),t.\u0275\u0275element(24,"ion-icon",21),t.\u0275\u0275text(25," New Case "),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(26,"div",22)(27,"div",23)(28,"div",24)(29,"div",25),t.\u0275\u0275element(30,"ion-icon",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(31,"div",27),t.\u0275\u0275text(32),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"div",28),t.\u0275\u0275text(34,"Properties"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"div",24)(36,"div",25),t.\u0275\u0275element(37,"ion-icon",29),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(38,"div",27),t.\u0275\u0275text(39),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(40,"div",28),t.\u0275\u0275text(41,"Total Cases"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(42,"div",24)(43,"div",25),t.\u0275\u0275element(44,"ion-icon",30),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(45,"div",27),t.\u0275\u0275text(46),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"div",28),t.\u0275\u0275text(48,"Open Cases"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(49,"div",24)(50,"div",25),t.\u0275\u0275element(51,"ion-icon",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(52,"div",27),t.\u0275\u0275text(53),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(54,"div",28),t.\u0275\u0275text(55,"Closed Cases"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(56,ht,10,3,"div",32),t.\u0275\u0275elementStart(57,"div",33)(58,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.selectedSegment="overview")}),t.\u0275\u0275text(59," Overview "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(60,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.selectedSegment="properties")}),t.\u0275\u0275text(61),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(62,"button",34),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.selectedSegment="cases")}),t.\u0275\u0275text(63),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(64,"div",35),t.\u0275\u0275template(65,yt,52,9,"div",3),t.\u0275\u0275template(66,Tt,4,2,"div",3),t.\u0275\u0275template(67,Nt,4,2,"div",3),t.\u0275\u0275elementEnd()()()}if(2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate2("",e.customer.firstname," ",e.customer.lastname,""),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.customer.email),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.customer.phone),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("Last seen ",e.formatDate(e.customer.lastActivity),""),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("Member since ",e.formatDate(e.customer.createdAt),""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",e.customer.phone),t.\u0275\u0275advance(13),t.\u0275\u0275textInterpolate(e.customer.stats.totalProperties),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(e.customer.stats.totalCases),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(e.customer.stats.openCases),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(e.customer.stats.closedCases),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.getActiveProductsList().length>0),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("active","overview"===e.selectedSegment),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("active","properties"===e.selectedSegment),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" Properties (",e.customer.properties.length,") "),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("active","cases"===e.selectedSegment),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" Cases (",e.customer.cases.length,") "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf","overview"===e.selectedSegment),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","properties"===e.selectedSegment),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","cases"===e.selectedSegment)}}const Bt=[{path:"",component:(()=>{class o{constructor(e,n,r,c,s){this.crmService=e,this.router=n,this.loadingController=r,this.modalController=c,this.alertController=s,this.customers=[],this.analytics=null,this.paidInfo=null,this.loading=!1,this.searchQuery="",this.selectedTimeRange="30d",this.selectedTab="overview",this.product_snapshot={},this.myProperties=[],this.loadingProperties=!1,this.currentPage=1,this.totalPages=1,this.totalCustomers=0,this.itemsPerPage=20,this.filters={status:"all",product:"all",casePriority:"all"}}ngOnInit(){this.loadAnalytics(),this.loadMyProperties(),"customers"===this.selectedTab&&this.loadDashboardData()}updateDashboardData(){this.crmService.getPaidInfo().then(e=>{this.paidInfo=e.paid,this.product_snapshot=e.product_snapshot})}loadDashboardData(){var e=this;return(0,d.Z)(function*(){const n=yield e.loadingController.create({message:"Loading customers..."});yield n.present();try{const r=yield e.crmService.getDashboardData(e.currentPage,e.itemsPerPage,e.searchQuery,e.filters);e.customers=r.customers,e.totalCustomers=r.total,e.totalPages=r.totalPages,e.currentPage=r.page,e.paidInfo=r.paid}catch(r){console.error("Error loading dashboard data:",r),e.showError("Failed to load customer data")}finally{n.dismiss()}})()}loadAnalytics(){var e=this;return(0,d.Z)(function*(){try{const n=yield e.crmService.getAnalytics(e.selectedTimeRange);e.analytics=n.analytics}catch(n){console.error("Error loading analytics:",n)}})()}onSearch(){var e=this;return(0,d.Z)(function*(){e.currentPage=1,yield e.loadDashboardData()})()}onFilterChange(){var e=this;return(0,d.Z)(function*(){e.currentPage=1,yield e.loadDashboardData()})()}onTimeRangeChange(){var e=this;return(0,d.Z)(function*(){yield e.loadAnalytics()})()}onTabChange(){"customers"===this.selectedTab&&0===this.customers.length&&this.loadDashboardData()}loadPage(e){var n=this;return(0,d.Z)(function*(){n.currentPage=e,yield n.loadDashboardData()})()}openCustomerDetails(e){var n=this;return(0,d.Z)(function*(){n.router.navigate(["/crm/customer",e.id])})()}createCase(e){var n=this;return(0,d.Z)(function*(){const r=yield n.modalController.create({component:z,componentProps:{customer:e}});return r.onDidDismiss().then(c=>{c.data&&(n.loadDashboardData(),n.loadAnalytics())}),yield r.present()})()}formatDate(e){return this.crmService.formatDate(e)}getPriorityColor(e){return this.crmService.getPriorityColor(e)}getStatusColor(e){return this.crmService.getStatusColor(e)}getActiveProductsList(e){const n=[];return n.push({name:"Concierge",number:e.product_snapshot.concierge}),n.push({name:"Website Builder",number:e.product_snapshot.websitebuilder}),n.push({name:"Homebook",number:e.product_snapshot.homebook}),n}showError(e){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Error",message:e,buttons:["OK"]})).present()})()}getCustomerActivityLevel(e){const n=this.getDaysSinceLastActivity(e.lastActivity);return n<=7?"high":n<=30?"medium":"low"}getActivityLevelColor(e){switch(e){case"high":return"success";case"medium":return"warning";case"low":return"danger";default:return"medium"}}getDaysSinceLastActivity(e){const n=new Date(e),c=Math.abs((new Date).getTime()-n.getTime());return Math.ceil(c/864e5)}callCustomer(e){var n=this;return(0,d.Z)(function*(){e.phone?window.open(`tel:${e.phone}`):n.showError("No phone number available for this customer")})()}emailCustomer(e){return(0,d.Z)(function*(){e.email&&window.open(`mailto:${e.email}`)})()}getRecentCasesSummary(e){let n=0,r=0;return e.properties.forEach(c=>{c.recentCases&&(n+=c.recentCases.length,r+=c.recentCases.filter(s=>"open"===s.status).length)}),{open:r,total:e.totalCases}}loadMyProperties(){var e=this;return(0,d.Z)(function*(){e.loadingProperties=!0;try{const n=yield e.crmService.getMyProperties();e.myProperties=n.properties}catch(n){console.error("Error loading properties:",n),e.showError("Failed to load properties")}finally{e.loadingProperties=!1}})()}getActivePropertiesCount(){return this.myProperties.filter(e=>e.guestbook).length}showAddPropertyModal(){var e=this;return(0,d.Z)(function*(){const n=yield e.modalController.create({component:J,cssClass:"add-property-modal-class"});return n.onDidDismiss().then(r=>{r.data&&r.data.success&&e.loadMyProperties()}),yield n.present()})()}confirmDeleteProperty(e){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Delete Property",message:`Are you sure you want to delete "${e.name}"?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:()=>{n.deleteProperty(e.fbId)}}]})).present()})()}deleteProperty(e){var n=this;return(0,d.Z)(function*(){const r=yield n.loadingController.create({message:"Deleting property..."});yield r.present();try{yield n.crmService.deletePropertyFromMyAccount(e),yield n.loadMyProperties(),n.showSuccess("Property deleted successfully")}catch(c){console.error("Error deleting property:",c),n.showError("Failed to delete property")}finally{r.dismiss()}})()}showSuccess(e){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Success",message:e,buttons:["OK"]})).present()})()}getBookingToolLogo(e){switch(e){case"ical_airbnb":return"https://a0.muscache.com/airbnb/static/logos/belo-200.png";case"ical_booking":return"https://cf.bstatic.com/static/img/booking_logo_retina/22615963add19ac6b6d715a97c8d477e8b95b7ea.png";default:return null}}getBookingToolDisplayName(e){switch(e){case"ical_airbnb":return"Airbnb";case"ical_booking":return"Booking.com";default:return e.replace("ical_","").replace("_"," ")}}openIcalModal(e,n){var r=this;return(0,d.Z)(function*(){const c=yield r.loadingController.create({message:"Loading iCal content..."});yield c.present();try{const s=yield r.crmService.getIcalContent(e.url);yield(yield r.modalController.create({component:R,componentProps:{ical:e,property:n,content:s},cssClass:"ical-modal"})).present()}catch(s){console.error("Error loading iCal content:",s),r.showError("Failed to load iCal content")}finally{c.dismiss()}})()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(P),t.\u0275\u0275directiveInject(_.F0),t.\u0275\u0275directiveInject(i.HT),t.\u0275\u0275directiveInject(i.IN),t.\u0275\u0275directiveInject(i.Br))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-crm-dashboard"]],decls:38,vars:5,consts:[[1,"crm-dashboard"],[1,"dashboard-header"],[1,"header-content"],[1,"header-left"],[1,"title"],[1,"subtitle"],[1,"header-actions"],[1,"time-selector",3,"ngModel","ngModelChange","change"],["value","7d"],["value","30d"],["value","90d"],[1,"modern-button",3,"click"],["name","add"],[1,"dashboard-content"],[1,"tab-navigation"],[3,"ngModel","ngModelChange","ionChange"],["value","overview"],["name","analytics-outline"],["value","properties"],["name","business-outline"],["value","customers"],["name","people-outline"],[1,"tab-content"],["class","tab-panel overview-panel",4,"ngIf"],["class","tab-panel customers-panel",4,"ngIf"],["class","tab-panel properties-panel",4,"ngIf"],[1,"tab-panel","overview-panel"],["class","analytics-section",4,"ngIf"],[1,"analytics-section"],[1,"analytics-grid"],[1,"metric-card"],[1,"metric-header"],[1,"metric-icon"],[1,"metric-trend"],[1,"metric-value"],[1,"metric-label"],[1,"metric-description"],[1,"metric-card",3,"click"],["name","cash-outline"],[1,"products-analytics"],[1,"section-header"],["href","#",1,"view-all-btn"],[1,"products-grid"],[1,"product-item"],[1,"product-icon","concierge"],["name","diamond-outline"],[1,"product-name"],[1,"product-count"],[1,"product-icon","websitebuilder"],["name","laptop-outline"],[1,"product-icon","homebook"],["name","book-outline"],[1,"tab-panel","customers-panel"],[1,"search-section"],[1,"search-container"],[1,"search-header"],[1,"modern-searchbar"],["placeholder","Search customers by email or property name...","showClearButton","focus",3,"ngModel","ngModelChange"],[1,"search-button",3,"click"],["name","search"],[1,"filters-row"],[1,"filter-chip",3,"click"],[1,"customer-list"],[1,"list-header"],[1,"customer-count"],[1,"list-controls"],[1,"view-toggle"],[1,"active"],[1,"customers-grid"],["class","customer-card",3,"click",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["class","pagination",4,"ngIf"],[1,"customer-card",3,"click"],[1,"customer-header"],[1,"customer-info"],[1,"customer-name"],[1,"customer-email"],[1,"customer-metadata"],[1,"metadata-item"],["name","time-outline"],["class","metadata-item",4,"ngIf"],[1,"customer-status"],[1,"activity-indicator"],[1,"status-chip"],[1,"customer-metrics"],[1,"metric"],[1,"customer-products"],[1,"products-header"],[1,"products-list"],["class","product-tag",3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"customer-actions"],[1,"action-buttons"],["class","action-btn","title","Call customer",3,"click",4,"ngIf"],["title","Email customer",1,"action-btn",3,"click"],["name","mail"],["title","Create new case",1,"action-btn",3,"click"],["name","add-circle"],[1,"cases-indicator"],[1,"cases-badge"],["name","call-outline"],[1,"product-tag"],[1,"property-name"],[1,"property-id"],["title","Call customer",1,"action-btn",3,"click"],["name","call"],[1,"empty-state"],[1,"empty-icon"],[1,"pagination"],[1,"pagination-btn",3,"disabled","click"],["name","chevron-back"],[1,"page-info"],["name","chevron-forward"],[1,"tab-panel","properties-panel"],[1,"properties-section"],[1,"section-subtitle"],[1,"modern-button","secondary",3,"click"],["name","refresh"],["class","properties-content",4,"ngIf"],["class","loading-state",4,"ngIf"],[1,"properties-content"],[1,"properties-stats"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],[1,"properties-list"],["class","property-item",4,"ngFor","ngForOf"],[1,"property-item"],[1,"property-info"],[1,"property-title"],["class","property-ical-list",4,"ngIf"],[1,"property-actions"],["title","Delete property",1,"action-btn","danger",3,"click"],["name","trash"],[1,"property-ical-list"],["class","ical-item",3,"click",4,"ngFor","ngForOf"],[1,"ical-item",3,"click"],[1,"ical-icon"],["name","vg-booking",4,"ngIf"],["name","vg-airbnb-colored",4,"ngIf"],["name","vg-vrbo",4,"ngIf"],[1,"ical-content"],[1,"ical-name"],[1,"ical-url"],[1,"ical-actions"],["name","eye-outline","title","View iCal content"],["name","vg-booking"],["name","vg-airbnb-colored"],["name","vg-vrbo"],[1,"loading-state"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t.\u0275\u0275text(5,"Customer Relationship Manager"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",5),t.\u0275\u0275text(7,"Manage your customers, properties, and support cases"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",6)(9,"select",7),t.\u0275\u0275listener("ngModelChange",function(c){return n.selectedTimeRange=c})("change",function(){return n.onTimeRangeChange()}),t.\u0275\u0275elementStart(10,"option",8),t.\u0275\u0275text(11,"Last 7 days"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"option",9),t.\u0275\u0275text(13,"Last 30 days"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"option",10),t.\u0275\u0275text(15,"Last 90 days"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(16,"button",11),t.\u0275\u0275listener("click",function(){return n.createCase()}),t.\u0275\u0275element(17,"ion-icon",12),t.\u0275\u0275text(18," New Case "),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(19,"div",13)(20,"div",14)(21,"ion-segment",15),t.\u0275\u0275listener("ngModelChange",function(c){return n.selectedTab=c})("ionChange",function(){return n.onTabChange()}),t.\u0275\u0275elementStart(22,"ion-segment-button",16)(23,"ion-label"),t.\u0275\u0275text(24,"Overview"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(25,"ion-icon",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"ion-segment-button",18)(27,"ion-label"),t.\u0275\u0275text(28,"My Properties"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(29,"ion-icon",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(30,"ion-segment-button",20)(31,"ion-label"),t.\u0275\u0275text(32,"Customers"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(33,"ion-icon",21),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(34,"div",22),t.\u0275\u0275template(35,K,2,1,"div",23),t.\u0275\u0275template(36,at,39,15,"div",24),t.\u0275\u0275template(37,Ct,17,2,"div",25),t.\u0275\u0275elementEnd()()()),2&e&&(t.\u0275\u0275advance(9),t.\u0275\u0275property("ngModel",n.selectedTimeRange),t.\u0275\u0275advance(12),t.\u0275\u0275property("ngModel",n.selectedTab),t.\u0275\u0275advance(14),t.\u0275\u0275property("ngIf","overview"===n.selectedTab),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","customers"===n.selectedTab),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","properties"===n.selectedTab))},dependencies:[m.NgForOf,m.NgIf,g.YN,g.Kr,g.EJ,g.JJ,g.On,i.W2,i.gu,i.Q$,i.VI,i.cJ,i.GO,i.PQ,i.QI,i.j9],styles:['[_nghost-%COMP%]{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--warning-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);--surface: #ffffff;--surface-elevated: #ffffff;--background: #fafafc;--background-secondary: #f7f8fc;--text-primary: #1a1d29;--text-secondary: #6b7280;--text-tertiary: #9ca3af;--border: #e5e7eb;--border-light: #f3f4f6;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px}.crm-dashboard[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}.crm-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:var(--background);padding:0}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{background:var(--surface);border-bottom:1px solid var(--border-light);padding:24px 32px;position:sticky;top:0;z-index:100;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:rgba(255,255,255,.95)}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1400px;margin:0 auto}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:var(--text-primary);margin:0 0 4px;letter-spacing:-.02em}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:15px;margin:0;font-weight:500}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button[_ngcontent-%COMP%]{background:var(--primary-gradient);border:none;padding:12px 24px;border-radius:var(--radius-md);color:#fff;font-weight:600;font-size:14px;box-shadow:var(--shadow-md);transition:all .2s ease;cursor:pointer;display:flex;align-items:center;gap:8px}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:var(--shadow-lg)}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .time-selector[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-md);padding:8px 16px;color:var(--text-secondary);font-weight:500;font-size:14px;min-width:140px;box-shadow:var(--shadow-sm)}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:32px;gap:32px;display:flex;flex-direction:column}.crm-dashboard[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]{margin-bottom:32px;background:#f8fafc;border-radius:var(--radius-xl);padding:8px}.crm-dashboard[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{--background: transparent;border-radius:var(--radius-lg)}.crm-dashboard[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--background: transparent;--background-checked: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--color: var(--text-secondary);--color-checked: white;--border-radius: var(--radius-lg);margin:4px;font-weight:600;min-height:48px;transition:all .3s ease}.crm-dashboard[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]:hover:not(.segment-button-checked){--background: rgba(102, 126, 234, .1);--color: #667eea}.crm-dashboard[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:0 0 7px;font-size:14px}.crm-dashboard[_ngcontent-%COMP%]   .tab-navigation[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:2px}.crm-dashboard[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .tab-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-bottom:32px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]{border-radius:var(--radius-xl);padding:28px;box-shadow:var(--shadow-md);border:1px solid var(--border-light);transition:all .3s ease;position:relative;overflow:hidden;background:linear-gradient(135deg,#f0f4ff 0%,#e0edff 100%);border-color:#c7d2fe}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea 0%,#764ba2 100%)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]:nth-child(2){background:linear-gradient(135deg,#f0fdf4 0%,#dcfce7 100%);border-color:#bbf7d0}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]:nth-child(2):before{background:linear-gradient(90deg,#10b981 0%,#059669 100%)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]:nth-child(3){background:linear-gradient(135deg,#fff7ed 0%,#fed7aa 100%);border-color:#fdba74}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]:nth-child(3):before{background:linear-gradient(90deg,#f59e0b 0%,#d97706 100%)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]:nth-child(4){background:linear-gradient(135deg,#faf5ff 0%,#e9d5ff 100%);border-color:#d8b4fe}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]:nth-child(4):before{background:linear-gradient(90deg,#8b5cf6 0%,#7c3aed 100%)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--text-secondary)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-trend[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:600}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-header[_ngcontent-%COMP%]   .metric-trend.negative[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:36px;font-weight:800;color:var(--text-primary);margin:0 0 8px;line-height:1;letter-spacing:-.02em}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-secondary);margin:0 0 4px;text-transform:uppercase;letter-spacing:.05em}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%]   .metric-description[_ngcontent-%COMP%]{font-size:13px;color:var(--text-tertiary);margin:0}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fefefe 0%,#f8fafc 100%);border-radius:var(--radius-xl);padding:32px;box-shadow:var(--shadow-md);border:1px solid #e2e8f0}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]{color:#667eea;font-weight:600;font-size:14px;text-decoration:none}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]{border-radius:var(--radius-lg);padding:20px;text-align:center;transition:all .2s ease;border:1px solid transparent;background:linear-gradient(135deg,#f1f5f9 0%,#e2e8f0 100%)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]:first-child{background:linear-gradient(135deg,#faf5ff 0%,#f3e8ff 100%);border-color:#e9d5ff}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]:nth-child(2){background:linear-gradient(135deg,#fdf2f8 0%,#fce7f3 100%);border-color:#f9a8d4}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]:nth-child(3){background:linear-gradient(135deg,#f0fdfa 0%,#ccfbf1 100%);border-color:#67e8f9}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto 12px;background:var(--primary-gradient);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-icon.concierge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-icon.websitebuilder[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-icon.homebook[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%)}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-secondary);margin:0 0 4px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]{font-size:24px;font-weight:800;color:var(--text-primary);margin:0}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border-radius:var(--radius-xl);padding:24px;box-shadow:var(--shadow-md);border:1px solid #e2e8f0;margin-bottom:24px}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);margin:0}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .modern-searchbar[_ngcontent-%COMP%]{position:relative;display:flex;gap:12px;align-items:center}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .modern-searchbar[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: var(--radius-lg);--box-shadow: none;--border: 1px solid #e2e8f0;--color: var(--text-primary);--placeholder-color: var(--text-tertiary);--icon-color: var(--text-secondary);padding:0;flex:1}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .modern-searchbar[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]:focus-within{--border: 1px solid #667eea;--box-shadow: 0 0 0 3px rgba(102, 126, 234, .1)}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .modern-searchbar[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;border-radius:var(--radius-lg);padding:12px 20px;font-weight:600;font-size:14px;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s ease;white-space:nowrap}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .modern-searchbar[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:hover{background:#5a67d8;transform:translateY(-1px);box-shadow:var(--shadow-md)}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .modern-searchbar[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]{background:var(--background-secondary);border:1px solid var(--border);border-radius:24px;padding:8px 16px;font-size:13px;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all .2s ease}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]:hover, .crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .filter-chip.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0 0 4px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .customer-count[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .list-controls[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .list-controls[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-md);padding:6px;display:flex}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .list-controls[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;color:var(--text-secondary);transition:all .2s ease}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]   .list-controls[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#667eea;color:#fff}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]{display:grid;gap:20px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff 0%,#f8fafc 100%);border-radius:var(--radius-xl);padding:24px;box-shadow:var(--shadow-md);border:1px solid #e2e8f0;transition:all .3s ease;cursor:pointer;position:relative}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl);border-color:#667eea;background:linear-gradient(135deg,#ffffff 0%,#f0f4ff 100%)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{flex:1}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);margin:0 0 4px;letter-spacing:-.01em}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-email[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0 0 8px;font-weight:500}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-metadata[_ngcontent-%COMP%]{display:flex;gap:16px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:var(--text-tertiary)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-status[_ngcontent-%COMP%]   .activity-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#10b981}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-status[_ngcontent-%COMP%]   .activity-indicator.medium[_ngcontent-%COMP%]{background:#f59e0b}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-status[_ngcontent-%COMP%]   .activity-indicator.low[_ngcontent-%COMP%]{background:#ef4444}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-status[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin-top:8px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-status[_ngcontent-%COMP%]   .status-chip.medium[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .customer-status[_ngcontent-%COMP%]   .status-chip.low[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:20px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{text-align:center;padding:12px;background:var(--background-secondary);border-radius:var(--radius-md)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:var(--text-primary);margin:0 0 4px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:11px;color:var(--text-tertiary);text-transform:uppercase;font-weight:600;letter-spacing:.05em;margin:0}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-products[_ngcontent-%COMP%]{margin-bottom:20px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-products[_ngcontent-%COMP%]   .products-header[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-secondary);margin:0 0 8px;text-transform:uppercase;letter-spacing:.05em}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-products[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-products[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]   .product-tag[_ngcontent-%COMP%]{background:var(--primary-gradient);color:#fff;padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-products[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]   .product-tag.websitebuilder[_ngcontent-%COMP%]{background:var(--secondary-gradient)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-products[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]   .product-tag.homebook[_ngcontent-%COMP%]{background:var(--success-gradient)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:var(--background-secondary);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#667eea;border-color:#667eea;color:#fff}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .cases-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .cases-indicator[_ngcontent-%COMP%]   .cases-badge[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;padding:4px 8px;border-radius:6px;font-size:11px;font-weight:700}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .cases-indicator[_ngcontent-%COMP%]   .cases-badge.no-cases[_ngcontent-%COMP%]{background:var(--background-secondary);color:var(--text-tertiary)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .cases-indicator[_ngcontent-%COMP%]   .last-activity[_ngcontent-%COMP%]{font-size:12px;color:var(--text-tertiary)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:var(--surface);border-radius:var(--radius-xl);border:2px dashed var(--border)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 24px;background:var(--background-secondary);border-radius:50%;display:flex;align-items:center;justify-content:center}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:var(--text-tertiary)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0 0 8px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0;font-size:15px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px;margin-top:40px;padding:24px;background:var(--surface);border-radius:var(--radius-xl);box-shadow:var(--shadow-md);border:1px solid var(--border-light)}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{background:var(--background-secondary);border:1px solid var(--border);padding:10px 16px;border-radius:var(--radius-md);font-weight:600;font-size:14px;color:var(--text-secondary);cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#667eea;border-color:#667eea;color:#fff}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);font-size:14px}@media (max-width: 1200px){.crm-dashboard[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]{padding:24px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}}@media (max-width: 768px){.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{padding:16px 20px}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.crm-dashboard[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]{padding:16px;gap:20px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .metric-card[_ngcontent-%COMP%], .crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]{padding:20px}.crm-dashboard[_ngcontent-%COMP%]   .analytics-section[_ngcontent-%COMP%]   .products-analytics[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}.crm-dashboard[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%], .crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]{padding:16px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-metrics[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.crm-dashboard[_ngcontent-%COMP%]   .customer-list[_ngcontent-%COMP%]   .customers-grid[_ngcontent-%COMP%]   .customer-card[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}}.crm-dashboard[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.crm-dashboard[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--background)}.crm-dashboard[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}.crm-dashboard[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-tertiary)}.properties-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4 0%,#ecfdf5 100%);border-radius:var(--radius-xl);padding:24px;box-shadow:var(--shadow-md);border:1px solid #bbf7d0;margin-bottom:24px}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0 0 4px}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;border-radius:var(--radius-lg);padding:10px 16px;font-weight:600;font-size:14px;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s ease}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button[_ngcontent-%COMP%]:hover{background:#5a67d8;transform:translateY(-1px);box-shadow:var(--shadow-md)}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button.secondary[_ngcontent-%COMP%]{background:var(--background-secondary);color:var(--text-secondary);border:1px solid var(--border)}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button.secondary[_ngcontent-%COMP%]:hover{background:var(--background);color:var(--text-primary)}.properties-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .modern-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{border-radius:var(--radius-lg);padding:20px;text-align:center;border:1px solid transparent}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:first-child{background:linear-gradient(135deg,#eff6ff 0%,#dbeafe 100%);border-color:#93c5fd}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(2){background:linear-gradient(135deg,#f0fdf4 0%,#dcfce7 100%);border-color:#86efac}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:var(--text-primary);margin:0 0 4px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:var(--text-secondary);margin:0;text-transform:uppercase;letter-spacing:.05em}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]{display:grid;gap:16px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff 0%,#f8fafc 100%);border:1px solid #e2e8f0;border-radius:var(--radius-lg);padding:20px;display:flex;justify-content:space-between;align-items:center;transition:all .2s ease}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f0fdf4 0%,#ecfdf5 100%);border-color:#10b981;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-info[_ngcontent-%COMP%]{flex:1;margin-right:10px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-info[_ngcontent-%COMP%]   .property-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0 0 4px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-info[_ngcontent-%COMP%]   .property-id[_ngcontent-%COMP%]{font-size:12px;color:var(--text-tertiary);margin:0 0 8px;font-family:monospace}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-info[_ngcontent-%COMP%]   .property-metadata[_ngcontent-%COMP%]{display:flex;gap:16px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-info[_ngcontent-%COMP%]   .property-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:var(--text-secondary)}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-info[_ngcontent-%COMP%]   .property-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:none;border:1px solid var(--border);border-radius:var(--radius-md);padding:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{color:#dc2626;border-color:#fecaca}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#dc2626}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .properties-list[_ngcontent-%COMP%]   .property-item[_ngcontent-%COMP%]   .property-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;border:2px dashed var(--border);border-radius:var(--radius-lg)}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin:0 auto 16px;background:var(--background-secondary);border-radius:50%;display:flex;align-items:center;justify-content:center}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--text-tertiary)}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);margin:0 0 8px}.properties-section[_ngcontent-%COMP%]   .properties-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0;font-size:14px}.properties-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}.properties-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.properties-section[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0;font-size:14px}.property-ical-list[_ngcontent-%COMP%]{margin-top:12px}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:linear-gradient(135deg,#fefefe 0%,#f1f5f9 100%);border:1px solid #e2e8f0;border-radius:var(--radius-md);margin-bottom:8px;cursor:pointer;transition:all .2s ease}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff 0%,#dbeafe 100%);border-color:#3b82f6;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]   .ical-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ffffff 0%,#f8fafc 100%);border-radius:var(--radius-md);border:1px solid #e2e8f0}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]   .ical-icon[_ngcontent-%COMP%]   .booking-logo[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]   .ical-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--text-secondary)}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]   .ical-content[_ngcontent-%COMP%]{flex:1;min-width:0}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]   .ical-content[_ngcontent-%COMP%]   .ical-name[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:2px}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]   .ical-content[_ngcontent-%COMP%]   .ical-url[_ngcontent-%COMP%]{display:block;font-size:12px;color:var(--text-tertiary);font-family:monospace;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]   .ical-actions[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--text-secondary);transition:color .2s ease}.property-ical-list[_ngcontent-%COMP%]   .ical-item[_ngcontent-%COMP%]   .ical-actions[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#667eea}']}),o})()},{path:"customer/:id",component:(()=>{class o{constructor(e,n,r,c,s){this.route=e,this.router=n,this.crmService=r,this.loadingController=c,this.alertController=s,this.customer=null,this.loading=!1,this.selectedSegment="overview"}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");e&&this.loadCustomerDetails(e)}loadCustomerDetails(e){var n=this;return(0,d.Z)(function*(){const r=yield n.loadingController.create({message:"Loading customer details..."});yield r.present();try{const c=yield n.crmService.getCustomerDetails(e);n.customer=c.customer}catch(c){console.error("Error loading customer details:",c),n.showError("Failed to load customer details")}finally{r.dismiss()}})()}showError(e){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Error",message:e,buttons:["OK"]})).present()})()}goBack(){this.router.navigate(["/crm"])}formatDate(e){return this.crmService.formatDate(e)}getPriorityColor(e){return this.crmService.getPriorityColor(e)}getStatusColor(e){return this.crmService.getStatusColor(e)}getActiveProductsList(){if(!this.customer)return[];const e=[];return this.customer.stats.activeProducts.concierge&&e.push("Concierge"),this.customer.stats.activeProducts.websitebuilder&&e.push("Website Builder"),this.customer.stats.activeProducts.homebook&&e.push("Homebook"),e}callCustomer(){var e=this;return(0,d.Z)(function*(){e.customer.phone?window.open(`tel:${e.customer.phone}`):e.showError("No phone number available for this customer")})()}emailCustomer(){var e=this;return(0,d.Z)(function*(){e.customer.email&&window.open(`mailto:${e.customer.email}`)})()}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(_.gz),t.\u0275\u0275directiveInject(_.F0),t.\u0275\u0275directiveInject(P),t.\u0275\u0275directiveInject(i.HT),t.\u0275\u0275directiveInject(i.Br))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-crm-customer-details"]],decls:7,vars:2,consts:[["slot","start"],[3,"click"],["name","arrow-back"],[4,"ngIf"],["class","customer-details",4,"ngIf"],[1,"customer-details"],[1,"customer-header"],[1,"header-content"],[1,"customer-info"],[1,"customer-name"],[1,"customer-email"],["class","customer-phone",4,"ngIf"],[1,"customer-meta"],[1,"meta-item"],["name","time-outline"],["name","calendar-outline"],[1,"customer-actions"],["class","action-btn",3,"click",4,"ngIf"],[1,"action-btn",3,"click"],["name","mail"],[1,"action-btn","primary"],["name","add"],[1,"details-content"],[1,"stats-section"],[1,"stat-card"],[1,"stat-icon"],["name","business-outline"],[1,"stat-value"],[1,"stat-label"],["name","document-text-outline"],["name","alert-circle-outline"],["name","checkmark-circle-outline"],["class","products-section",4,"ngIf"],[1,"segment-nav"],[1,"segment-btn",3,"click"],[1,"tab-content"],[1,"customer-phone"],["name","call-outline"],["name","call"],[1,"products-section"],[1,"section-header"],["href","#",1,"manage-btn"],[1,"products-grid"],["class","product-card",3,"active",4,"ngIf"],[1,"product-card"],[1,"product-icon","concierge"],["name","diamond-outline"],[1,"product-name"],[1,"product-status","active"],[1,"product-icon","websitebuilder"],["name","laptop-outline"],[1,"product-icon","homebook"],["name","book-outline"],[1,"overview-grid"],[1,"overview-card"],[1,"card-header"],[1,"card-icon"],["name","person-outline"],[1,"card-title"],[1,"card-content"],[1,"info-row"],[1,"label"],[1,"value"],["class","info-row",4,"ngIf"],["name","stats-chart-outline"],[1,"properties-grid"],["class","property-card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"property-card"],[1,"property-header"],[1,"property-info"],[1,"property-id"],[1,"property-status"],["class","status-badge",4,"ngIf"],[1,"property-metrics"],[1,"metric"],[1,"metric-value"],[1,"metric-label"],[1,"status-badge"],[1,"empty-state"],[1,"empty-icon"],[1,"cases-grid"],["class","case-card",4,"ngFor","ngForOf"],[1,"case-card"],[1,"case-header"],[1,"case-title"],[1,"case-badges"],[1,"priority-badge"],["class","case-description",4,"ngIf"],[1,"case-meta"],[1,"meta-label"],[1,"meta-value"],["class","meta-item",4,"ngIf"],["class","whatsapp-info",4,"ngIf"],[1,"case-description"],[1,"whatsapp-info"],[1,"whatsapp-header"],["name","logo-whatsapp"],[1,"header-text"],[1,"whatsapp-content"],[1,"whatsapp-number"],["class","whatsapp-message",4,"ngIf"],[1,"whatsapp-message"]],template:function(e,n){1&e&&(t.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),t.\u0275\u0275listener("click",function(){return n.goBack()}),t.\u0275\u0275element(4,"ion-icon",2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,Mt,2,2,"ion-title",3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(6,$t,68,23,"ion-content",4)),2&e&&(t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.customer),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n.customer))},dependencies:[m.NgForOf,m.NgIf,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.wd,i.sr,m.TitleCasePipe],styles:['[_nghost-%COMP%]{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);--warning-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);--surface: #ffffff;--surface-elevated: #ffffff;--background: #fafafc;--background-secondary: #f7f8fc;--text-primary: #1a1d29;--text-secondary: #6b7280;--text-tertiary: #9ca3af;--border: #e5e7eb;--border-light: #f3f4f6;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px}.customer-details[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}.customer-details[_ngcontent-%COMP%]{min-height:100vh;background:var(--background);padding:0}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]{background:var(--surface);border-bottom:1px solid var(--border-light);padding:32px;position:sticky;top:0;z-index:100;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:rgba(255,255,255,.95)}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:flex-start;gap:24px}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{flex:1}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{font-size:32px;font-weight:800;color:var(--text-primary);margin:0 0 8px;letter-spacing:-.02em}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-email[_ngcontent-%COMP%]{font-size:18px;color:var(--text-secondary);margin:0 0 12px;font-weight:500}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-phone[_ngcontent-%COMP%]{font-size:16px;color:var(--text-tertiary);margin:0;display:flex;align-items:center;gap:8px}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-phone[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--text-secondary)}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-meta[_ngcontent-%COMP%]{display:flex;gap:24px;margin-top:16px}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--text-tertiary)}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--text-secondary)}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-start}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);padding:12px 20px;border-radius:var(--radius-md);font-weight:600;font-size:14px;color:var(--text-secondary);cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;box-shadow:var(--shadow-sm)}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#667eea;border-color:#667eea;color:#fff;transform:translateY(-1px);box-shadow:var(--shadow-md)}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:var(--primary-gradient);border-color:transparent;color:#fff}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:var(--shadow-lg)}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.customer-details[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:32px;display:flex;flex-direction:column;gap:32px}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius-xl);padding:24px;box-shadow:var(--shadow-md);border:1px solid var(--border-light);position:relative;overflow:hidden;text-align:center;transition:all .3s ease}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl)}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:var(--primary-gradient)}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(2):before{background:var(--secondary-gradient)}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(3):before{background:var(--success-gradient)}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(4):before{background:var(--warning-gradient)}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:var(--radius-lg);background:var(--background-secondary);display:flex;align-items:center;justify-content:center;margin:0 auto 16px}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--text-secondary)}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:var(--text-primary);margin:0 0 8px;line-height:1}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-secondary);margin:0;text-transform:uppercase;letter-spacing:.05em}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius-xl);padding:32px;box-shadow:var(--shadow-md);border:1px solid var(--border-light)}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--text-primary);margin:0}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .manage-btn[_ngcontent-%COMP%]{color:#667eea;font-weight:600;font-size:14px;text-decoration:none}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .manage-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:var(--background-secondary);border-radius:var(--radius-lg);padding:20px;text-align:center;transition:all .2s ease;border:1px solid var(--border-light)}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover{background:var(--background);transform:translateY(-1px);box-shadow:var(--shadow-sm)}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(102,126,234,.1) 0%,rgba(118,75,162,.1) 100%);border-color:#667eea}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto 12px;background:var(--primary-gradient);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-icon.websitebuilder[_ngcontent-%COMP%]{background:var(--secondary-gradient)}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-icon.homebook[_ngcontent-%COMP%]{background:var(--success-gradient)}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);margin:0 0 4px}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-status[_ngcontent-%COMP%]{font-size:12px;font-weight:500;padding:2px 8px;border-radius:12px}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-status.active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.customer-details[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-status.inactive[_ngcontent-%COMP%]{background:var(--background-secondary);color:var(--text-tertiary)}.customer-details[_ngcontent-%COMP%]   .segment-nav[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius-xl);padding:8px;box-shadow:var(--shadow-md);border:1px solid var(--border-light);display:flex;gap:4px}.customer-details[_ngcontent-%COMP%]   .segment-nav[_ngcontent-%COMP%]   .segment-btn[_ngcontent-%COMP%]{flex:1;background:none;border:none;padding:12px 20px;border-radius:var(--radius-lg);font-weight:600;font-size:14px;color:var(--text-secondary);cursor:pointer;transition:all .2s ease}.customer-details[_ngcontent-%COMP%]   .segment-nav[_ngcontent-%COMP%]   .segment-btn.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;box-shadow:var(--shadow-sm)}.customer-details[_ngcontent-%COMP%]   .segment-nav[_ngcontent-%COMP%]   .segment-btn[_ngcontent-%COMP%]:hover:not(.active){background:var(--background-secondary);color:var(--text-primary)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius-xl);padding:32px;box-shadow:var(--shadow-md);border:1px solid var(--border-light)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]{background:var(--background-secondary);border-radius:var(--radius-lg);padding:20px;border:1px solid var(--border-light)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:var(--radius-md);background:var(--primary-gradient);display:flex;align-items:center;justify-content:center}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:16px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--border-light)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-secondary)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]{display:grid;gap:20px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]{background:var(--background-secondary);border-radius:var(--radius-lg);padding:24px;border:1px solid var(--border-light);transition:all .2s ease}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-sm);border-color:#667eea}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-header[_ngcontent-%COMP%]   .property-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);margin:0 0 4px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-header[_ngcontent-%COMP%]   .property-info[_ngcontent-%COMP%]   .property-id[_ngcontent-%COMP%]{font-size:12px;color:var(--text-tertiary);font-family:monospace;background:var(--background);padding:2px 6px;border-radius:4px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-header[_ngcontent-%COMP%]   .property-status[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-header[_ngcontent-%COMP%]   .property-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:11px;font-weight:600;background:#dcfce7;color:#166534}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:16px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{text-align:center}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:800;color:var(--text-primary);margin:0 0 4px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .properties-grid[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:11px;color:var(--text-tertiary);text-transform:uppercase;font-weight:600;letter-spacing:.05em}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]{display:grid;gap:16px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]{background:var(--background-secondary);border-radius:var(--radius-lg);padding:20px;border:1px solid var(--border-light);transition:all .2s ease}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-sm);border-color:#667eea}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-primary);margin:0;flex:1}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]   .priority-badge[_ngcontent-%COMP%]{padding:3px 8px;border-radius:6px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.05em}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]   .priority-badge.high[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]   .priority-badge.medium[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]   .priority-badge.low[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:3px 8px;border-radius:6px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.05em}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]   .status-badge.open[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]   .status-badge.in-progress[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]   .case-badges[_ngcontent-%COMP%]   .status-badge.closed[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0 0 16px;line-height:1.5}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-meta[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;padding-top:16px;border-top:1px solid var(--border-light)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .meta-label[_ngcontent-%COMP%]{font-size:11px;color:var(--text-tertiary);text-transform:uppercase;font-weight:600;letter-spacing:.05em;margin:0 0 4px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .meta-value[_ngcontent-%COMP%]{font-size:13px;color:var(--text-primary);font-weight:500}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .whatsapp-info[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:linear-gradient(135deg,rgba(37,211,102,.1) 0%,rgba(37,211,102,.05) 100%);border-radius:var(--radius-md);border:1px solid rgba(37,211,102,.2)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .whatsapp-info[_ngcontent-%COMP%]   .whatsapp-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .whatsapp-info[_ngcontent-%COMP%]   .whatsapp-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#25d366;font-size:16px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .whatsapp-info[_ngcontent-%COMP%]   .whatsapp-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-primary);text-transform:uppercase;letter-spacing:.05em}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .whatsapp-info[_ngcontent-%COMP%]   .whatsapp-content[_ngcontent-%COMP%]   .whatsapp-number[_ngcontent-%COMP%]{font-size:13px;color:var(--text-primary);font-weight:500;margin:0 0 8px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .whatsapp-info[_ngcontent-%COMP%]   .whatsapp-content[_ngcontent-%COMP%]   .whatsapp-message[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);background:rgba(255,255,255,.5);padding:8px;border-radius:6px;font-style:italic;line-height:1.4}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;background:var(--background-secondary);border-radius:50%;display:flex;align-items:center;justify-content:center}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:32px;color:var(--text-tertiary)}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);margin:0 0 8px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0;font-size:14px}@media (max-width: 1024px){.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:20px}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]{justify-content:flex-start}.customer-details[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]{padding:24px}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px}}@media (max-width: 768px){.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]{padding:20px}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{font-size:24px}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-email[_ngcontent-%COMP%]{font-size:16px}.customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-meta[_ngcontent-%COMP%], .customer-details[_ngcontent-%COMP%]   .customer-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .customer-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.customer-details[_ngcontent-%COMP%]   .details-content[_ngcontent-%COMP%]{padding:16px;gap:20px}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.customer-details[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:20px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .overview-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.customer-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .cases-grid[_ngcontent-%COMP%]   .case-card[_ngcontent-%COMP%]   .case-meta[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px}.customer-details[_ngcontent-%COMP%]   .segment-nav[_ngcontent-%COMP%]   .segment-btn[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}}']}),o})()}];let Lt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.Bz.forChild(Bt),_.Bz]}),o})(),Zt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=t.\u0275\u0275defineInjector({imports:[m.CommonModule,g.u5,g.UX,i.Pc,O.aw,Lt]}),o})()}}]);