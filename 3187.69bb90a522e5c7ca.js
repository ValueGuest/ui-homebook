"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3187],{52345:(w,g,o)=>{o.d(g,{A:()=>S});var s=o(36895),c=o(34793),l=o(60434),m=o(89383),u=o(25367),O=o(97519),C=o(37245),h=o(78273),f=o(91112),b=o(89044),v=o(94650);let S=(()=>{class d{}return d.\u0275fac=function(I){return new(I||d)},d.\u0275mod=v.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=v.\u0275\u0275defineInjector({imports:[b.Y,s.CommonModule,O.V,u.j,l.Pc,C.L,c.Bz,m.aw,h.Y,f.g]}),d})()},4502:(w,g,o)=>{o.d(g,{o:()=>b});var s=o(36895),c=o(34793),l=o(60434),m=o(89383),u=o(89044),O=o(46480),C=o(97519),h=o(37245),f=o(94650);let b=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=f.\u0275\u0275defineNgModule({type:v}),v.\u0275inj=f.\u0275\u0275defineInjector({imports:[s.CommonModule,C.V,l.Pc,h.L,m.aw,u.Y,c.Bz,O.x]}),v})()},92748:(w,g,o)=>{o.d(g,{x:()=>S});var s=o(36895),c=o(34793),l=o(60434),m=o(89383),u=o(89044),O=o(46480),C=o(37245),h=o(8530),f=o(55699),b=o(84707),v=o(94650);let S=(()=>{class d{}return d.\u0275fac=function(I){return new(I||d)},d.\u0275mod=v.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=v.\u0275\u0275defineInjector({imports:[s.CommonModule,h.x,f.d,l.Pc,C.L,m.aw,u.Y,c.Bz,O.x,b.X]}),d})()},84741:(w,g,o)=>{o.d(g,{F:()=>S});var s=o(36895),c=o(34793),l=o(60434),m=o(89383),u=o(3041),O=o(26643),C=o(94650);let h=(()=>{class d{}return d.\u0275fac=function(I){return new(I||d)},d.\u0275mod=C.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=C.\u0275\u0275defineInjector({}),d})();var f=o(37245),b=o(92045),v=o(25779);let S=(()=>{class d{}return d.\u0275fac=function(I){return new(I||d)},d.\u0275mod=C.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=C.\u0275\u0275defineInjector({imports:[s.CommonModule,O.G,h,l.Pc,f.L,b.W,u.g,v.R,c.Bz,m.aw]}),d})()},21944:(w,g,o)=>{o.d(g,{q:()=>R});var s=o(36895),c=o(34793),l=o(60434),m=o(89383),u=o(89044),O=o(46480),C=o(97519),h=o(37245),f=o(55699),b=o(8530),v=o(84707),S=o(14546),d=o(8031),E=o(94650);let I=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=E.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=E.\u0275\u0275defineInjector({imports:[s.CommonModule,S.O,l.Pc,h.L,d.W,m.aw,c.Bz]}),M})(),R=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=E.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=E.\u0275\u0275defineInjector({imports:[f.d,s.CommonModule,v.X,b.x,l.Pc,h.L,C.V,I,m.aw,u.Y,c.Bz,O.x]}),M})()},25779:(w,g,o)=>{o.d(g,{R:()=>h});var s=o(36895),c=o(24006),l=o(60434),m=o(89383),u=o(56205),O=o(46480),C=o(94650);let h=(()=>{class f{}return f.\u0275fac=function(v){return new(v||f)},f.\u0275mod=C.\u0275\u0275defineNgModule({type:f}),f.\u0275inj=C.\u0275\u0275defineInjector({imports:[s.CommonModule,u.P,c.u5,l.Pc,c.UX,m.aw,O.x]}),f})()},84707:(w,g,o)=>{o.d(g,{X:()=>c});var s=o(94650);let c=(()=>{class l{}return l.\u0275fac=function(u){return new(u||l)},l.\u0275mod=s.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=s.\u0275\u0275defineInjector({}),l})()},26643:(w,g,o)=>{o.d(g,{G:()=>c});var s=o(94650);let c=(()=>{class l{}return l.\u0275fac=function(u){return new(u||l)},l.\u0275mod=s.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=s.\u0275\u0275defineInjector({}),l})()},97519:(w,g,o)=>{o.d(g,{V:()=>c});var s=o(94650);let c=(()=>{class l{}return l.\u0275fac=function(u){return new(u||l)},l.\u0275mod=s.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=s.\u0275\u0275defineInjector({}),l})()},8530:(w,g,o)=>{o.d(g,{x:()=>c});var s=o(94650);let c=(()=>{class l{}return l.\u0275fac=function(u){return new(u||l)},l.\u0275mod=s.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=s.\u0275\u0275defineInjector({}),l})()},92045:(w,g,o)=>{o.d(g,{W:()=>c});var s=o(94650);let c=(()=>{class l{}return l.\u0275fac=function(u){return new(u||l)},l.\u0275mod=s.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=s.\u0275\u0275defineInjector({}),l})()},33807:(w,g,o)=>{o.r(g),o.d(g,{CalendarViewComponentModule:()=>ot});var s=o(36895),c=o(24006),l=o(60434),m=o(34793),u=o(89383),O=o(89044),C=o(73584),h=o(56205),f=o(6997),b=o(4100),v=o(87542),S=o(2787),d=o(58284),E=o(15676),I=o(49671),R=o(28555),M=o(24040),T=o(60815),y=o(76457),$=o(36053),D=o(15439),U=o(4931),H=o(61625),e=o(94650);const Y=["mytestid"],X=["calendar"],Q=function(n){return{begMonth:n}};function Z(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit,a=i.index,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,Q,r.listDaysWithReservationPerProperty[0].listDays[a+1]&&!!r.listDaysWithReservationPerProperty[0].listDays[a+1].month)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.month)}}function J(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.text)}}function q(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span",27),e.\u0275\u0275text(1,"Oggi"),e.\u0275\u0275elementEnd())}const ee=function(n,i){return{today:n,weekend:i}};function te(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",23)(1,"span",24),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"br"),e.\u0275\u0275template(4,J,2,1,"span",25),e.\u0275\u0275template(5,q,2,0,"span",26),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(4,ee,t.isToday,a.isWeekend(t.day))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.number),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.isToday),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isToday)}}function ne(n,i){if(1&n&&e.\u0275\u0275element(0,"img",35),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate("src",t.property.guestbook.thumbnail_url,e.\u0275\u0275sanitizeUrl)}}function oe(n,i){1&n&&(e.\u0275\u0275elementStart(0,"picture"),e.\u0275\u0275element(1,"source",36)(2,"source",37)(3,"img",38),e.\u0275\u0275elementEnd())}function ie(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"div",43),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",44),e.\u0275\u0275element(5,"ion-icon",45),e.\u0275\u0275elementStart(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"date"),e.\u0275\u0275pipe(9,"date"),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"reservation.closed")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind2(8,5,t.res.detail.check_in,"shortDate")," - ",e.\u0275\u0275pipeBind2(9,8,t.res.detail.check_out,"shortDate"),"")}}function ae(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",62),e.\u0275\u0275element(1,"ion-icon",63),e.\u0275\u0275elementEnd())}function re(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",62),e.\u0275\u0275element(1,"ion-icon",64),e.\u0275\u0275elementEnd())}function le(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",62),e.\u0275\u0275element(1,"ion-icon",65),e.\u0275\u0275elementEnd())}function se(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",60),e.\u0275\u0275template(1,ae,2,0,"div",61),e.\u0275\u0275template(2,re,2,0,"div",61),e.\u0275\u0275template(3,le,2,0,"div",61),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Airbnb"===t.res.detail.originalComingFrom),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Booking.com"===t.res.detail.originalComingFrom),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","VRBO"===t.res.detail.originalComingFrom)}}function de(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",68)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.res.detail.pax_number.adults),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.res.detail.pax_number.adults>1?e.\u0275\u0275pipeBind1(4,2,"guest.adult.plural"):e.\u0275\u0275pipeBind1(5,4,"guest.adult.singular")," ")}}function ce(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",68)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.res.detail.pax_number.children),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.res.detail.pax_number.children>1?e.\u0275\u0275pipeBind1(4,2,"guest.child.plural"):e.\u0275\u0275pipeBind1(5,4,"guest.child.singular")," ")}}function pe(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",68)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.res.detail.pax_number.infants),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.res.detail.pax_number.infants>1?e.\u0275\u0275pipeBind1(4,2,"guest.infant.plural"):e.\u0275\u0275pipeBind1(5,4,"guest.infant.singular")," ")}}function _e(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",66),e.\u0275\u0275template(1,de,6,6,"div",67),e.\u0275\u0275template(2,ce,6,6,"div",67),e.\u0275\u0275template(3,pe,6,6,"div",67),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.res.detail.pax_number?null:t.res.detail.pax_number.adults)&&t.res.detail.pax_number.adults>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.res.detail.pax_number?null:t.res.detail.pax_number.children)&&t.res.detail.pax_number.children>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.res.detail.pax_number?null:t.res.detail.pax_number.infants)&&t.res.detail.pax_number.infants>0)}}const me=function(){return{done:!0}};function ue(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",53),e.\u0275\u0275element(1,"ion-icon",69),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction0(4,me)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"status.checkin")))}function ge(n,i){1&n&&e.\u0275\u0275element(0,"ion-icon",69)}function ve(n,i){1&n&&e.\u0275\u0275element(0,"ion-icon",70)}function fe(n,i){1&n&&e.\u0275\u0275element(0,"ion-icon",71)}function Ce(n,i){1&n&&e.\u0275\u0275element(0,"ion-icon",69)}function xe(n,i){1&n&&e.\u0275\u0275element(0,"ion-icon",71)}function he(n,i){1&n&&e.\u0275\u0275element(0,"ion-icon",73)}const Me=function(n,i,t){return{done:n,todo:i,none:t}};function ye(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",53),e.\u0275\u0275template(1,Ce,1,0,"ion-icon",54),e.\u0275\u0275template(2,xe,1,0,"ion-icon",56),e.\u0275\u0275template(3,he,1,0,"ion-icon",72),e.\u0275\u0275elementStart(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(7,Me,t.res.istat&&t.res.istat.istatSent,t.res.istat&&!t.res.istat.istatSent,!t.res.istat)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.res.istat&&t.res.istat.istatSent),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.res.istat&&!t.res.istat.istatSent),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.res.istat),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"status.istat"))}}function Pe(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"reservation.flexibility.non-refundable")))}function Oe(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"reservation.flexibility.fully-refundable")))}function be(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"reservation.flexibility.semi-refundable")))}function Ee(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",74),e.\u0275\u0275template(1,Pe,3,3,"span",25),e.\u0275\u0275template(2,Oe,3,3,"span",25),e.\u0275\u0275template(3,be,3,3,"span",25),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275property("ngClass",t.res.detail.flexibility),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","non-refundable"===t.res.detail.flexibility),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","fully-refundable"===t.res.detail.flexibility),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","semi-refundable"===t.res.detail.flexibility)}}const Ie=function(n,i,t){return{done:n,scheduled:i,todo:t}};function De(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275template(1,se,4,3,"div",47),e.\u0275\u0275elementStart(2,"div",48)(3,"div",49),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,_e,4,3,"div",50),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",51),e.\u0275\u0275template(7,ue,5,5,"div",52),e.\u0275\u0275elementStart(8,"div",53),e.\u0275\u0275template(9,ge,1,0,"ion-icon",54),e.\u0275\u0275template(10,ve,1,0,"ion-icon",55),e.\u0275\u0275template(11,fe,1,0,"ion-icon",56),e.\u0275\u0275elementStart(12,"span"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,ye,7,11,"div",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",57)(17,"div",58),e.\u0275\u0275template(18,Ee,4,4,"div",59),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",44),e.\u0275\u0275element(20,"ion-icon",45),e.\u0275\u0275elementStart(21,"span"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"date"),e.\u0275\u0275pipe(24,"date"),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Airbnb"===t.res.detail.originalComingFrom||"Booking.com"===t.res.detail.originalComingFrom||"VRBO"===t.res.detail.originalComingFrom),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.res.detail.guest?t.res.detail.guest.first_name+" "+t.res.detail.guest.last_name:"No Name"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.res.detail.pax_number),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.res.ssciFinalized),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(21,Ie,t.res.allogiatiwebSent,t.res.allogiatiwebScheduled&&!t.res.allogiatiwebSent,!t.res.allogiatiwebSent&&!t.res.allogiatiwebScheduled)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.res.allogiatiwebSent),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.res.allogiatiwebScheduled&&!t.res.allogiatiwebSent),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.res.allogiatiwebSent&&!t.res.allogiatiwebScheduled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,13,"status.allogiati")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.res.istat||!t.res.istat&&t.res.ssciFinalized),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.res.detail.flexibility),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind2(23,15,t.res.detail.check_in,"shortDate")," - ",e.\u0275\u0275pipeBind2(24,18,t.res.detail.check_out,"shortDate"),"")}}const we=function(n,i){return{small:n,closed:i}};function Se(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.selectRes(r.res))}),e.\u0275\u0275template(1,ie,10,11,"div",25),e.\u0275\u0275template(2,De,25,25,"div",42),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(4,we,a.is1Night(t.res),t.res.isClosed))("ngStyle",a.getReservationStyle(t.res)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.res.isClosed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.res.isClosed)}}const Re=function(n,i,t,a,r,p){return{weekend:n,today:i,todayLess4days:t,selected:a,"selection-start":r,"selection-end":p}};function Te(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275listener("mousedown",function(){const p=e.\u0275\u0275restoreView(t).$implicit,x=e.\u0275\u0275nextContext().$implicit,P=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(P.startSelection(p,x.property))})("mouseover",function(){const p=e.\u0275\u0275restoreView(t).$implicit,x=e.\u0275\u0275nextContext().$implicit,P=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(P.updateSelection(p,x.property))})("mouseup",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.endSelection())}),e.\u0275\u0275template(1,Se,3,7,"div",40),e.\u0275\u0275elementEnd()}if(2&n){const t=i.$implicit,a=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction6(2,Re,r.isWeekend(t.day),t.isToday,t.isTodayLess4days,r.isSelected(t,a.property),r.isSelectionStart(t,a.property),r.isSelectionEnd(t,a.property))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.res)}}function Be(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",28)(1,"div",29)(2,"div",30),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(t).$implicit,x=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(x.selectProp(p.property.fbId))}),e.\u0275\u0275elementStart(3,"div",31),e.\u0275\u0275template(4,ne,1,1,"img",32),e.\u0275\u0275template(5,oe,4,0,"picture",25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",33),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,Te,2,9,"div",34),e.\u0275\u0275elementEnd()()}if(2&n){const t=i.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null==t.property.guestbook?null:t.property.guestbook.thumbnail_url),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=t.property.guestbook&&t.property.guestbook.thumbnail_url)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.property.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.listDays)}}const j=function(n){return{display:n}};function Ve(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"div",11,12)(3,"div",13)(4,"div",14),e.\u0275\u0275element(5,"div",15),e.\u0275\u0275template(6,Z,2,4,"div",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",13)(8,"div",14)(9,"div",17)(10,"div",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.addReservation())}),e.\u0275\u0275element(11,"ion-icon",19),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,te,6,7,"div",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,Be,9,4,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",7)(17,"div",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.back())}),e.\u0275\u0275element(18,"ion-icon",9),e.\u0275\u0275elementStart(19,"span"),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",t.listDaysWithReservationPerProperty[0].listDays),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("\xa0 ",e.\u0275\u0275pipeBind1(13,6,"calendar.button.newRes"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.listDaysWithReservationPerProperty[0].listDays),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.listDaysWithReservationPerProperty),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,j,!!t.selectedRes||!!t.selectedProperty)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,8,"calendar-view.drawer.back"))}}let W=(()=>{class n{constructor(t,a,r,p,x,P,_,it,at,rt,lt,st,dt){this.authService=t,this.activateroute=a,this.valueguestService=r,this.subscriptionService=p,this.router=x,this.store=P,this.scRes=_,this.viewCtrl=it,this.formBuilder=at,this.toastCtrl=rt,this.translate=lt,this.alertCtrl=st,this.location=dt,this.selectionStart=null,this.selectionEnd=null,this.isSelecting=!1,this.isPopup=!1,this.alloggiati=!0,this.submitted=!1,this.errors=[],this.hasConsent=!0,this.success=!1,this.allogiatiwebSent=!1,this.subscriptions=[],this.days=[]}ngAfterViewInit(){}nextMonth(){}previousMonth(){}previous(){this.location.back()}ngOnInit(){this.subscriptions.push((0,$.aj)([this.store.pipe((0,R.Ys)(y.Dy)),this.store.pipe((0,R.Ys)(y.a4))]).subscribe(([t,a])=>{this.listProperties=a,this.listReservations=t,a&&this.generateDays()}),this.store.pipe((0,R.Ys)(y.r7)).subscribe(t=>{this.selectedRes=t}),this.store.pipe((0,R.Ys)(y.Dp)).subscribe(t=>{this.selectedProperty=t}),this.store.pipe((0,R.Ys)(y.dy)).subscribe(t=>{t&&(this.user=t)}))}sortListProperties(t){return[...t].sort((a,r)=>a.name&&r.name?a.name.toLowerCase()>r.name.toLowerCase()?1:-1:0)}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}generateDays(){var t=[];for(const x of this.listProperties){var a=[];if(this.listReservations&&this.listReservations.length>0){this.startDate=D(this.listReservations[0].detail.check_in).isAfter(D())?D():D(this.listReservations[0].detail.check_in);let P=D(this.listReservations[this.listReservations.length-1].detail.check_out).add(1,"month").endOf("month"),_=this.startDate.clone();for(var r="";_.isBefore(P)||_.isSame(P,"day");){var p=this.getReservationOnDay(_,x.fbId);r=_.format("MMMM")==r?"":this.capitalizeFirstLetter(_.locale(this.translate.currentLang).format("MMMM")),a.push({isToday:_.isSame(new Date,"day"),isTodayLess4days:_.isSame(D().subtract(4,"days"),"day"),day:_.clone(),number:_.date(),text:_.format("ddd"),month:r,year:_.format("yyyy"),res:p}),r=_.format("MMMM"),_.add(1,"days")}}else{this.startDate=D();let P=D().add(1,"month").endOf("month"),_=this.startDate.clone();for(;_.isBefore(P)||_.isSame(P,"day");)p=this.getReservationOnDay(_,x.fbId),r=_.format("MMMM")==r?"":this.capitalizeFirstLetter(_.locale(this.translate.currentLang).format("MMMM")),a.push({isToday:_.isSame(new Date,"day"),day:_.clone(),number:_.date(),text:_.format("ddd"),month:r,year:_.format("yyyy"),res:null}),r=_.format("MMMM"),_.add(1,"days")}t.push({property:x,listDays:a})}this.listDaysWithReservationPerProperty=t}getReservationOnDay(t,a){return this.listReservations.find(r=>r.fbPropertyId===a&&t.isSame(r.detail.check_in,"day"))}isWeekend(t){return 0===t.day()||6===t.day()}is1Night(t){return D(t.detail.check_out).diff(D(t.detail.check_in),"days")<2}getReservationStyle(t){return t?{width:100*D(t.detail.check_out).diff(D(t.detail.check_in),"days")-20+"px"}:{}}selectRes(t){this.router.navigate([this.scRes.getStartURL()+"/calendar-view/"+t.fbPropertyId+"/"+t.detail.resId],{relativeTo:this.activateroute})}selectProp(t){this.router.navigate([this.scRes.getStartURL()+"/calendar-view/property/"+t],{relativeTo:this.activateroute})}closeDrawer(){this.location.back()}back(){this.location.back()}addReservation(){this.scRes.getStartURL(),this.openPopup(U.g,null,{isPopup:!0,isNew:!0,context:this})}hasEnoughInPlan(){return this.subscriptionService.canAddOneProperty(this.user,"concierge")}addProperty(){this.hasEnoughInPlan()?this.openPopup(H.C,null,{context:this,product:"concierge",action:this.confirmAddProperties}):this.openPopup(M.D,null,{iconName:"vg-crown",title:this.translate.instant("missing-billing-popup.title"),subtitle:this.translate.instant("missing-billing-popup.subtitle"),buttonText:this.translate.instant("missing-billing-popup.button.goToPage"),data:{},context:this,action:this.goToSubscribePage})}confirmAddProperties(t){}goToSubscribePage(){this.router.navigate([this.scRes.getStartURL()+"/view-profile/billing"])}openPopup(t,a,r){var p=this;return(0,I.Z)(function*(){p.viewCtrl.create({component:t,componentProps:r,cssClass:["vg-modal","auto-height",a]}).then(x=>{x.onDidDismiss().then(P=>{P?.data?.success&&p.router.navigate([p.scRes.getStartURL()+"/calendar-view/"+P.data.data.propertyId+"/"+P.data.data.resId],{relativeTo:p.activateroute})}),x.present()})})()}startSelection(t,a){t.res||(this.isSelecting=!0,this.selectionStart=t,this.selectionEnd=t,this.selectedPropertyForAddReservation=a)}updateSelection(t,a){!this.isSelecting||a!==this.selectedPropertyForAddReservation||t.res||(this.selectionEnd=t)}endSelection(){this.isSelecting&&(this.isSelecting=!1,this.openNewReservationPopup(this.selectionStart,this.selectionEnd,this.selectedPropertyForAddReservation))}isSelectionStart(t,a){if(!this.selectionStart||!this.selectionEnd||a!==this.selectedPropertyForAddReservation)return!1;const r=new Date(this.selectionStart.day).getTime(),p=new Date(this.selectionEnd.day).getTime();return new Date(t.day).getTime()===Math.min(r,p)}isSelectionEnd(t,a){if(!this.selectionStart||!this.selectionEnd||a!==this.selectedPropertyForAddReservation)return!1;const r=new Date(this.selectionStart.day).getTime(),p=new Date(this.selectionEnd.day).getTime();return new Date(t.day).getTime()===Math.max(r,p)}isSelected(t,a){if(!this.selectionStart||!this.selectionEnd||a!==this.selectedPropertyForAddReservation)return!1;const r=new Date(this.selectionStart.day).getTime(),p=new Date(this.selectionEnd.day).getTime(),x=new Date(t.day).getTime();return x>=Math.min(r,p)&&x<=Math.max(r,p)}openNewReservationPopup(t,a,r){var p=t.day==a.day?a.day.clone().add(1,"days"):a.day.clone();this.openPopup(U.g,null,{isPopup:!0,isNew:!0,context:this,selectedPropertyId:r.fbId,startDate:t.day>a.day?a.day:t.day,endDate:t.day>p?t.day:p})}loadCalendarData(){}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(T.e8),e.\u0275\u0275directiveInject(m.gz),e.\u0275\u0275directiveInject(T.hZ),e.\u0275\u0275directiveInject(T.FF),e.\u0275\u0275directiveInject(m.F0),e.\u0275\u0275directiveInject(R.yh),e.\u0275\u0275directiveInject(T.BU),e.\u0275\u0275directiveInject(l.IN),e.\u0275\u0275directiveInject(c.QS),e.\u0275\u0275directiveInject(l.yF),e.\u0275\u0275directiveInject(u.sK),e.\u0275\u0275directiveInject(l.Br),e.\u0275\u0275directiveInject(s.Location))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-calendar-view"]],viewQuery:function(t,a){if(1&t&&(e.\u0275\u0275viewQuery(Y,5),e.\u0275\u0275viewQuery(X,5)),2&t){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(a.calendar=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(a.calendarElement=r.first)}},decls:17,vars:10,consts:[[1,"calendar-container"],[2,"padding","20px"],["class","calendar",4,"ngIf"],[1,"cell-container",2,"border-bottom","0px"],[1,"firstCol",2,"padding-left","20px"],["color","","slots","start",1,"addProp",2,"margin","0",3,"click"],["name","add-circle-outline","slot","start"],[1,"drawer",3,"ngClass"],[1,"backContainer",3,"click"],["name","vg-arrow-back"],[1,"calendar"],[1,"scrollable"],["calendar",""],[1,"header"],[1,"day-container"],[1,"cell","firstCol"],["class","cell month",3,"ngClass",4,"ngFor","ngForOf"],[1,"cell","firstCol",2,"padding-left","0px","text-align","left"],[1,"addRes",3,"click"],["name","add-circle-outline",2,"vertical-align","middle"],["class","cell day borderBottom",3,"ngClass",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"cell","month",3,"ngClass"],[1,"cell","day","borderBottom",3,"ngClass"],[1,"day-number"],[4,"ngIf"],["class","today-text",4,"ngIf"],[1,"today-text"],[1,"row"],[1,"cell-container"],[1,"cell","firstCol","propertyCol",3,"click"],[1,"property-thumb"],["class","property-avatar",3,"src",4,"ngIf"],[1,"propertyName"],["class","cell cellday",3,"ngClass","mousedown","mouseover","mouseup",4,"ngFor","ngForOf"],[1,"property-avatar",3,"src"],["srcset","./assets/imgs/appart-placeholder.webp 1x","type","image/webp"],["srcset","./assets/imgs/appart-placeholder.png 1x","type","image/jpeg"],["src","./assets/imgs/appart-placeholder.png",1,"property-avatar"],[1,"cell","cellday",3,"ngClass","mousedown","mouseover","mouseup"],["class","reservation-bar",3,"ngClass","ngStyle","click",4,"ngIf"],[1,"reservation-bar",3,"ngClass","ngStyle","click"],["class","reservation-info",4,"ngIf"],[1,"closed-message"],[1,"date-info"],["name","calendar-outline"],[1,"reservation-info"],["class","booking-source",4,"ngIf"],[1,"guest-info"],[1,"guest-name"],["class","guest-breakdown",4,"ngIf"],[1,"status-pills"],["class","status-pill",3,"ngClass",4,"ngIf"],[1,"status-pill",3,"ngClass"],["name","checkmark-circle",4,"ngIf"],["name","timer-outline",4,"ngIf"],["name","time-outline",4,"ngIf"],[1,"hover-details"],[1,"reservation-tags"],["class","flexibility-tag",3,"ngClass",4,"ngIf"],[1,"booking-source"],["class","logo",4,"ngIf"],[1,"logo"],["name","vg-airbnb-colored"],["name","vg-booking"],["name","vg-vrbo"],[1,"guest-breakdown"],["class","guest-category",4,"ngIf"],[1,"guest-category"],["name","checkmark-circle"],["name","timer-outline"],["name","time-outline"],["name","close-circle-outline",4,"ngIf"],["name","close-circle-outline"],[1,"flexibility-tag",3,"ngClass"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h1",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Ve,22,12,"div",2),e.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"ion-button",5),e.\u0275\u0275listener("click",function(){return a.addProperty()}),e.\u0275\u0275element(8,"ion-icon",6),e.\u0275\u0275text(9,"Nuova Struttura"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",7)(11,"div",8),e.\u0275\u0275listener("click",function(){return a.back()}),e.\u0275\u0275element(12,"ion-icon",9),e.\u0275\u0275elementStart(13,"span"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(16,"router-outlet"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"desktop-view.menu.calendar")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.listDaysWithReservationPerProperty),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,j,!!a.selectedRes||!!a.selectedProperty)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,6,"calendar-view.drawer.back")))},dependencies:[s.NgClass,s.NgForOf,s.NgIf,s.NgStyle,l.YG,l.gu,m.lC,s.DatePipe,u.X$],styles:['.calendar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#f7f8fa;height:100%}.calendar[_ngcontent-%COMP%]{margin:0 20px 20px;background:white;padding:10px;border-radius:10px}.scrollable[_ngcontent-%COMP%]{overflow-x:auto;position:relative;padding-bottom:50px}.cell[_ngcontent-%COMP%]{border-right:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;width:100px;box-sizing:border-box;text-align:center;position:relative}.cell.firstCol[_ngcontent-%COMP%]{width:300px;font-weight:500}.cell.borderLeft[_ngcontent-%COMP%]{border-left:1px solid #ccc}.header[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]   .cell.month[_ngcontent-%COMP%]{border:0px}.header[_ngcontent-%COMP%]   .cell.firstCol[_ngcontent-%COMP%]{border-right:1px solid #ccc;border-bottom:0px;background-color:#fff;position:sticky;z-index:2;left:0;width:300px;font-weight:500}.header[_ngcontent-%COMP%]   .borderBottom[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.weekend[_ngcontent-%COMP%]{background-color:#fdfdfd}.day-container[_ngcontent-%COMP%]{display:flex;white-space:nowrap;border-bottom:1px solid #f2f2f2}.day-container[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{background-color:#eaeaea;font-weight:700}.month[_ngcontent-%COMP%]{text-align:left;font-weight:500}.day[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]{display:flex}.cell-container[_ngcontent-%COMP%]{display:flex;position:relative;border-bottom:1px solid #f2f2f2}.reservation-bar[_ngcontent-%COMP%]{cursor:pointer;background-color:#e7f0ff;border-radius:6px;position:absolute;text-align:left;padding:6px 10px;z-index:2;color:#273951;left:60px;min-height:40px;top:6px;height:74px;box-shadow:0 2px 4px #00000026;border-left:4px solid transparent;overflow:hidden;transition:all .2s ease}.reservation-bar[_ngcontent-%COMP%]:hover:not(.closed){transform:translateY(-2px);box-shadow:0 4px 6px #0003;height:auto;min-height:90px;z-index:10}.reservation-bar[_ngcontent-%COMP%]:hover:not(.closed)   .hover-details[_ngcontent-%COMP%]{max-height:100px;opacity:1}.reservation-bar[_ngcontent-%COMP%]:has(.flexibility-tag.fully-refundable){border-left-color:#eb445a}.reservation-bar[_ngcontent-%COMP%]:has(.flexibility-tag.non-refundable){border-left-color:#2dd36f}.reservation-bar[_ngcontent-%COMP%]:has(.flexibility-tag.semi-refundable){border-left-color:#cfa313}.reservation-bar[_ngcontent-%COMP%]   .reservation-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;height:100%}.reservation-bar[_ngcontent-%COMP%]   .booking-source[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px}.reservation-bar[_ngcontent-%COMP%]   .booking-source[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:16px;background:white;border-radius:50%;width:22px;height:22px;display:flex;align-items:center;justify-content:center}.reservation-bar[_ngcontent-%COMP%]   .guest-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding-right:24px}.reservation-bar[_ngcontent-%COMP%]   .guest-info[_ngcontent-%COMP%]   .guest-name[_ngcontent-%COMP%]{font-weight:500;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.reservation-bar[_ngcontent-%COMP%]   .guest-info[_ngcontent-%COMP%]   .guest-details[_ngcontent-%COMP%]{font-size:11px;opacity:.9}.reservation-bar[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap}.reservation-bar[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]   .flexibility-tag[_ngcontent-%COMP%]{font-size:10px;padding:2px 6px;border-radius:4px;background-color:#ffffff26;display:inline-block}.reservation-bar[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]   .flexibility-tag.fully-refundable[_ngcontent-%COMP%]{background-color:#eb445a40}.reservation-bar[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]   .flexibility-tag.non-refundable[_ngcontent-%COMP%]{background-color:#2dd36f40}.reservation-bar[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]   .flexibility-tag.semi-refundable[_ngcontent-%COMP%]{background-color:#ffc40940}.reservation-bar[_ngcontent-%COMP%]   .hover-details[_ngcontent-%COMP%]{max-height:0;opacity:0;overflow:hidden;transition:all .3s ease;margin-top:0;padding-top:5px;border-top:1px solid rgba(255,255,255,.2)}.reservation-bar[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px;font-size:12px}.reservation-bar[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:15px;opacity:.8}.reservation-bar[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.guest-breakdown[_ngcontent-%COMP%]{display:flex;gap:6px;margin-top:4px}.guest-breakdown[_ngcontent-%COMP%]   .guest-category[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 0;border-radius:4px;font-size:11px}.guest-breakdown[_ngcontent-%COMP%]   .guest-category[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:3px}.bookingtoolOver[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;background:white;border-radius:50%;padding:3px;border:1px solid #273951;width:23px;height:23px}.bookingtoolOver[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:15px}.bookingtoolOver[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]{font-size:11px}.propertyCol[_ngcontent-%COMP%]{border-right:1px solid #ccc;cursor:pointer;display:flex;flex-direction:row;height:90px;padding:5px 0;position:sticky;left:0;background-color:#fff;z-index:3}.propertyCol[_ngcontent-%COMP%]   .propertyName[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;flex-direction:column;flex:1;text-align:left;font-weight:500;z-index:2;margin-left:85px}.propertyCol[_ngcontent-%COMP%]   .property-thumb[_ngcontent-%COMP%]{height:80px;width:80px;border-radius:4px;position:absolute}.propertyCol[_ngcontent-%COMP%]   .property-thumb[_ngcontent-%COMP%]   .property-avatar[_ngcontent-%COMP%]{height:77px;width:100%;object-fit:cover;border-radius:5px}.propertyCol[_ngcontent-%COMP%]   .property-thumb[_ngcontent-%COMP%]   .property-avatar.no-avatar[_ngcontent-%COMP%]{filter:blur(2px);-webkit-filter:blur(2px)}.reservation-bar.small[_ngcontent-%COMP%]{min-width:80px}.reservation-bar.small[_ngcontent-%COMP%]:hover{width:200px!important;left:10px!important;height:auto;min-height:90px;z-index:10}.reservation-bar.closed[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#666;cursor:default}.reservation-bar.closed[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none}.drawer[_ngcontent-%COMP%]{overflow-y:auto;padding:20px 0 10px;z-index:5;position:fixed;right:17px;width:500px;display:none;height:calc(100% - 98px);top:70px;background:white;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.drawer.display[_ngcontent-%COMP%]{display:block}.backContainer[_ngcontent-%COMP%]{z-index:2;position:absolute;left:20px;top:5px;cursor:pointer;text-align:left;color:var(--text-color-primary)}.backContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;top:2px}.backContainer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;vertical-align:baseline;line-height:45px;margin-left:4px}.closeIcon[_ngcontent-%COMP%]{position:absolute;right:20px;cursor:pointer}.addProp[_ngcontent-%COMP%]{--background:white;color:var(--text-color-primary)}.addRes[_ngcontent-%COMP%]{border-radius:3px;padding:9px;min-width:160px;border:2px dashed #d0d0d0;display:inline-block;text-align:center;cursor:pointer}.addRes[_ngcontent-%COMP%]:hover{background-color:#f4f0ff}.day-number[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#5438a6}.today-text[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:#fafbfb;background:#5438a6;padding:2px 4px 4px;border-radius:5px;font-weight:400;position:relative;top:2px}.cellday[_ngcontent-%COMP%]{position:relative;cursor:pointer}.cellday[_ngcontent-%COMP%]:hover:before{content:"+";position:absolute;font-size:50px;color:#5438a6;pointer-events:none;z-index:1;left:0;top:10px;bottom:10px;z-index:2;width:100%}.cellday[_ngcontent-%COMP%]:has(.reservation-bar):hover:before{display:none}.selection-overlay[_ngcontent-%COMP%]{position:absolute;border:2px dashed #5438a6;pointer-events:none;z-index:2;background-color:#5438a61a}.cell.selection-start[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;border-left:2px dashed #5438a6;border-top-left-radius:10px;border-bottom-left-radius:10px;z-index:2}.cell.selected[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;z-index:2;border-top:2px dashed #5438a6;width:100%;border-bottom:2px dashed #5438a6}.cell.selection-end[_ngcontent-%COMP%]:before{width:calc(100% - 10px);border-right:2px dashed #5438a6;border-top-right-radius:10px;border-bottom-right-radius:10px}.cell.selection-start.selection-end[_ngcontent-%COMP%]:before{width:calc(100% - 22px)}.row[_ngcontent-%COMP%]:has(.cell.selection-start)   .cell.selection-start[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:has(.cell.selection-start)   .cell.selection-start[_ngcontent-%COMP%]:after, .row[_ngcontent-%COMP%]:has(.cell.selection-end)   .cell.selection-end[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:has(.cell.selection-end)   .cell.selection-end[_ngcontent-%COMP%]:after, .row[_ngcontent-%COMP%]:has(.cell.selected)   .cell.selected[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:has(.cell.selected)   .cell.selected[_ngcontent-%COMP%]:after{top:10px;bottom:10px}.row[_ngcontent-%COMP%]:has(.cell.selection-start)   .cell.selection-start[_ngcontent-%COMP%]:before{left:10px}.row[_ngcontent-%COMP%]:has(.cell.selection-end)   .cell.selection-end[_ngcontent-%COMP%]:before, .row[_ngcontent-%COMP%]:has(.cell.selection-end)   .cell.selection-end[_ngcontent-%COMP%]:after{right:10px}.cellday[_ngcontent-%COMP%]:hover:before{content:"+"}.cell.selected[_ngcontent-%COMP%]{background-color:#007bff33;border:none}.cell.selected[_ngcontent-%COMP%]:first-child{border-left:1px solid #007bff}.cell.selected[_ngcontent-%COMP%]:last-child{border-right:1px solid #007bff}.row[_ngcontent-%COMP%]:has(.cell.selected)   .cell.selected[_ngcontent-%COMP%]:first-of-type{border-left:1px solid #007bff}.row[_ngcontent-%COMP%]:has(.cell.selected)   .cell.selected[_ngcontent-%COMP%]:last-of-type{border-right:1px solid #007bff}.row[_ngcontent-%COMP%]:has(.cell.selected:first-of-type)   .cell.selected[_ngcontent-%COMP%]{border-top:1px solid #007bff}.row[_ngcontent-%COMP%]:has(.cell.selected:last-of-type)   .cell.selected[_ngcontent-%COMP%]{border-bottom:1px solid #007bff}.reservation-tooltip[_ngcontent-%COMP%], .reservation-bar[_ngcontent-%COMP%]:hover   .reservation-tooltip[_ngcontent-%COMP%]{display:none}.status-pills[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.status-pills[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{display:flex;align-items:center;padding:4px 10px;border-radius:16px;font-size:12px;background-color:#f5f5f5;color:#666}.status-pills[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:14px}.status-pills[_ngcontent-%COMP%]   .status-pill.done[_ngcontent-%COMP%]{background-color:#f6ffed;color:#52c41a}.status-pills[_ngcontent-%COMP%]   .status-pill.done[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#52c41a}.status-pills[_ngcontent-%COMP%]   .status-pill.scheduled[_ngcontent-%COMP%]{background-color:#f2fafe;color:#1890ff}.status-pills[_ngcontent-%COMP%]   .status-pill.scheduled[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#1890ff}.status-pills[_ngcontent-%COMP%]   .status-pill.todo[_ngcontent-%COMP%]{background-color:#fff7e6;color:#fa8c16}.status-pills[_ngcontent-%COMP%]   .status-pill.todo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fa8c16}.status-pills[_ngcontent-%COMP%]   .status-pill.none[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#999}.status-pills[_ngcontent-%COMP%]   .status-pill.none[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#999}.reservation-info[_ngcontent-%COMP%]   .guest-breakdown[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-top:4px}.reservation-info[_ngcontent-%COMP%]   .guest-breakdown[_ngcontent-%COMP%]   .guest-category[_ngcontent-%COMP%]{font-size:11px;color:#666}.reservation-info[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]{margin-bottom:6px}.reservation-info[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]   .flexibility-tag[_ngcontent-%COMP%]{display:inline-block;font-size:11px;padding:2px 6px;border-radius:4px}.reservation-info[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]   .flexibility-tag.fully-refundable[_ngcontent-%COMP%]{background-color:#eb445a26;color:#eb445a}.reservation-info[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]   .flexibility-tag.non-refundable[_ngcontent-%COMP%]{background-color:#2dd36f26;color:#2dd36f}.reservation-info[_ngcontent-%COMP%]   .reservation-tags[_ngcontent-%COMP%]   .flexibility-tag.semi-refundable[_ngcontent-%COMP%]{background-color:#ffc40926;color:#cc9f0c}.begMonth[_ngcontent-%COMP%]{border-right:1px solid #f2f2f2!important}']}),n})();var z=o(46480),K=o(57909),Le=o(98071);let A=(()=>{class n{constructor(t){this.store=t,this.subscriptions=[]}resolve(t){var a=this;return(0,I.Z)(function*(){return t.params.id&&t.params.propertyId?a.store.dispatch(new y.eX.SelectReservation(t.params.id,t.params.propertyId)):t.params.propertyId?a.store.dispatch(new y.eX.SelectProperty(t.params.propertyId)):(a.store.dispatch(new y.eX.SelectReservation(null,null)),a.store.dispatch(new y.eX.SelectProperty(null))),a.subscriptions.push(a.store.pipe((0,R.Ys)(y.Dp)).subscribe(r=>{r&&a.store.dispatch(new y.WO.UpdateGuestbook(r.guestbook))})),null})()}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(R.yh))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var Fe=o(3169),V=o(78425),N=o(57420),k=o(30049),Ae=o(88886),We=o(28405),Ue=o(38793),je=o(37305),ze=o(93128),Ke=o(69998),Ne=o(41228),ke=o(92488),Ge=o(53458),$e=o(33021),He=o(16775),Ye=o(77513);let Xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CommonModule,h.P,c.u5,l.Pc,O.Y,z.x,b.G,c.UX,u.aw]}),n})();var Qe=o(35346),G=o(92311),Ze=o(28029),Je=o(76706),qe=o(32140),L=o(55426),et=o(78320),tt=o(94872),B=[];for(const n of qe.w)if(n.component&&B.push(n.resolve?{path:n.action,component:n.component,resolve:{forMenuSelection:L.H,myData:n.resolve},data:{tab:n.tab,action:n.action}}:{path:n.action,component:n.component,resolve:{forMenuSelection:L.H},data:{tab:n.tab,action:n.action}}),n.subOptions)for(const i of n.subOptions)i.component&&B.push(i.resolve?{path:i.action,component:i.component,resolve:{forMenuSelection:L.H,myData:i.resolve},data:{action:i.action}}:{path:i.action,component:i.component,resolve:{forMenuSelection:L.H},data:{action:i.action}});B.push({path:"edit-template/:templateId",data:{action:"edit-template"},children:[{path:"",resolve:{myData:V.V},component:et.B}]},{path:"create-contract/:contractId",data:{action:"create-contract"},children:[{path:"",resolve:{myData:V.V},component:k._}]},{path:"send-contract/:contractId",data:{action:"send-contract"},children:[{path:"",resolve:{myData:V.V},component:N.c}]});const F=[];for(const n of Fe.W)if(n.component){const i={path:n.action,component:n.component,resolve:null,data:{action:n.action}};if(n.resolve&&(i.resolve={myDate:n.resolve}),F.push(i),n.subOptions)for(const t of n.subOptions)t.component&&F.push({path:t.action,component:t.component,data:{action:t.action}})}F.push({path:"send-contract/:contractId",data:{action:"send-contract"},children:[{path:"",resolve:{myData:V.V},component:N.c}]}),F.push({path:"create-contract/:contractId",data:{action:"create-contract"},children:[{path:"",resolve:{myData:V.V},component:k._}]});const nt=[{path:"",component:W,data:{isFromCalendar:!0},resolve:{myData:A}},{path:"property/:propertyId",component:W,data:{product:"concierge"},resolve:{myData:A},children:[{path:"",component:Ze.G}].concat(B)},{path:":propertyId/:id",component:W,resolve:{myData:A},children:[{path:"",component:Le.k}].concat(F)}];let ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[A,L.H],imports:[s.CommonModule,h.P,Ae.M,K.t,S.j,v.K,z.x,E.j,Je.I,C.n,c.u5,l.Pc,b.G,c.UX,d.x,O.Y,f.u,m.Bz.forChild(nt),u.aw,c.u5,l.Pc,K.t,Qe.T,Xe,Ye.w,He.I,$e.P,Ge.t,ke.N,Ne.d,Ke.S,ze.D,je.Q,G.j,tt.q,Ue.M,We.b,G.j]}),n})()}}]);