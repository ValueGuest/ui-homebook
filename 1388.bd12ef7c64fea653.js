"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1388],{1406:(lt,V,i)=>{i.d(V,{y:()=>Ot});var v=i(49671),b=i(28555),S=i(24040),x=i(35817),M=i(897),k=i(76457),W=i(28986),K=i(33619),g=i(92340),t=i(94650),F=i(34793),w=i(60434),j=i(89383),D=i(50303),Y=i(99604),R=i(36895);function st(a,_){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),t.\u0275\u0275element(5,"app-login-email",null,8),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementContainerEnd())}function G(a,_){1&a&&t.\u0275\u0275elementContainer(0)}function pt(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div",4)(1,"ion-content",9),t.\u0275\u0275template(2,G,1,0,"ng-container",10),t.\u0275\u0275elementEnd()()),2&a){t.\u0275\u0275nextContext();const s=t.\u0275\u0275reference(6);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",s)}}function J(a,_){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"app-base",11),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),2&a){t.\u0275\u0275nextContext();const s=t.\u0275\u0275reference(4);t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(2,3,"empty-center.concierge.step.title")),t.\u0275\u0275propertyInterpolate("subtitle",t.\u0275\u0275pipeBind1(3,5,"empty-center.concierge.step.subtitle")),t.\u0275\u0275property("templateRef",s)}}function $(a,_){1&a&&(t.\u0275\u0275elementStart(0,"div",24),t.\u0275\u0275element(1,"ion-icon",25),t.\u0275\u0275elementEnd())}function q(a,_){1&a&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275element(1,"ion-icon",27),t.\u0275\u0275elementEnd())}function z(a,_){1&a&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275element(1,"ion-icon",29),t.\u0275\u0275elementEnd())}function I(a,_){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275listener("click",function(){const A=t.\u0275\u0275restoreView(s).$implicit,U=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(U.goToStep(A.action))}),t.\u0275\u0275elementStart(1,"div",17),t.\u0275\u0275template(2,$,2,0,"div",18),t.\u0275\u0275template(3,q,2,0,"div",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",20)(5,"div",21),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",22),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(11,z,2,0,"div",23),t.\u0275\u0275elementEnd()}if(2&a){const s=_.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",s.done),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.done),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,5,s.title)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,7,s.subtitle)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!s.done)}}function c(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275template(1,I,12,9,"div",15),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",s.listStepsConcierge)}}function p(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275elementContainerStart(1),t.\u0275\u0275template(2,c,2,1,"div",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",s.property&&s.user)}}function h(a,_){1&a&&(t.\u0275\u0275elementStart(0,"div",38),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"page-properties-list.page.subtitle.noProperty")))}function f(a,_){1&a&&(t.\u0275\u0275elementStart(0,"div",38),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"empty-center.list-reservation.title")))}function O(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div",36),t.\u0275\u0275template(1,h,3,3,"div",37),t.\u0275\u0275template(2,f,3,3,"div",37),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(null!=s.listProperties&&s.listProperties.length)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==s.listProperties?null:s.listProperties.length)}}function H(a,_){1&a&&(t.\u0275\u0275elementStart(0,"div",36)(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),2&a&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"empty-center.reservation-menu.title")))}function C(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div",31)(1,"div",32),t.\u0275\u0275element(2,"ion-icon",33),t.\u0275\u0275template(3,O,3,2,"div",34),t.\u0275\u0275template(4,H,4,3,"div",34),t.\u0275\u0275element(5,"img",35),t.\u0275\u0275elementEnd()()),2&a){const s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!s.isReservationSelected),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.isReservationSelected)}}function u(a,_){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"img",35),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"empty-center.property-menu.chooseForWsb.title")))}function B(a,_){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"img",35),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"empty-center.property-menu.chooseForHb.title")))}function L(a,_){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"img",35),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"empty-center.property-menu.chooseForConcierge.title")))}function e(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,u,5,3,"ng-container",0),t.\u0275\u0275template(2,B,5,3,"ng-container",0),t.\u0275\u0275template(3,L,5,3,"ng-container",0),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","wsb"===s.product),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","homebook"===s.product),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","concierge"===s.product)}}function tt(a,_){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",38),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementStart(4,"b"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(6,"'"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(7,"img",35),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,2,"empty-center.property-menu.title")," '"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(s.propertyName)}}function et(a,_){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"br"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",40)(7,"ion-button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const E=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(E.enableProduct("concierge"))}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",42)(11,"a",43),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,4,"page-dashboard.tab.concierge.createYourconcierge.title"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,6,"page-dashboard.tab.concierge.createYourconcierge.subtitle")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,8,"empty-center.property-menu.createconcierge.button")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,10,"page-dashboard.tab.concierge.discovermore.link"),""))}function nt(a,_){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,tt,8,4,"ng-container",0),t.\u0275\u0275template(2,et,14,12,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.isConciergeCreated),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.isConciergeCreated)}}const Q=function(a){return{propertyName:a}};function dt(a,_){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"img",35),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind2(2,1,"empty-center.websitebuilder.title",t.\u0275\u0275pureFunction1(4,Q,s.propertyName)),t.\u0275\u0275sanitizeHtml)}}function mt(a,_){1&a&&(t.\u0275\u0275elementStart(0,"a",46),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"page-dashboard.tab.websitebuilder.discovermore.link"),""))}function ut(a,_){1&a&&(t.\u0275\u0275elementStart(0,"a",47),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"page-dashboard.tab.websitebuilder.discovermore.link"),""))}function gt(a,_){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"br"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",40)(7,"ion-button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const E=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(E.enableProduct("wsb"))}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",42),t.\u0275\u0275template(11,mt,3,3,"a",44),t.\u0275\u0275template(12,ut,3,3,"a",45),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&a){const s=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,5,"page-dashboard.tab.websitebuilder.createYourWebsite.title"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,7,"page-dashboard.tab.websitebuilder.createYourWebsite.subtitle")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,9,"empty-center.property-menu.createwsb.button")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","it"===s.translate.currentLang),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","it"!==s.translate.currentLang)}}function ht(a,_){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,dt,4,6,"ng-container",0),t.\u0275\u0275template(2,gt,13,11,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.isWsbCreated),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.isWsbCreated)}}function _t(a,_){1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",48),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,1,"empty-center.property-menu.createhomebook.selectmenu"),t.\u0275\u0275sanitizeHtml))}function ft(a,_){1&a&&(t.\u0275\u0275elementStart(0,"a",51),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"empty-center.property-menu.createhomebook.discovermore.link"),""))}function Ct(a,_){1&a&&(t.\u0275\u0275elementStart(0,"a",52),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"empty-center.property-menu.createhomebook.discovermore.link"),""))}function vt(a,_){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"div",40)(4,"ion-button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const E=t.\u0275\u0275nextContext(6);return t.\u0275\u0275resetView(E.enableProduct("homebook"))}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",42),t.\u0275\u0275template(8,ft,3,3,"a",49),t.\u0275\u0275template(9,Ct,3,3,"a",50),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&a){const s=t.\u0275\u0275nextContext(6);t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,4,"empty-center.property-menu.createhomebook.title"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,6,"empty-center.property-menu.createhomebook.button")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf","it"===s.translate.currentLang),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","it"!==s.translate.currentLang)}}function xt(a,_){if(1&a){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",39),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"div",40)(4,"ion-button",41),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const E=t.\u0275\u0275nextContext(6);return t.\u0275\u0275resetView(E.copyHomebook())}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",53),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",42)(11,"a",54),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(s);const E=t.\u0275\u0275nextContext(6);return t.\u0275\u0275resetView(E.enableProduct("homebook"))}),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,4,"empty-center.property-menu.createhomebook.title"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,6,"empty-center.property-menu.copyhomebook.button")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,8,"page-reservation-list.or")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,10,"empty-center.property-menu.createfrom0homebook.button"),""))}function yt(a,_){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,vt,10,8,"ng-container",0),t.\u0275\u0275template(2,xt,14,12,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.hasOtherHomebook),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.hasOtherHomebook)}}function Pt(a,_){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,_t,3,3,"ng-container",0),t.\u0275\u0275template(2,yt,3,2,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&a){const s=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.isHomebookCreated),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.isHomebookCreated)}}function bt(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div",36),t.\u0275\u0275template(1,nt,3,2,"ng-container",0),t.\u0275\u0275template(2,ht,3,2,"ng-container",0),t.\u0275\u0275template(3,Pt,3,2,"ng-container",0),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","concierge"===s.product),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","wsb"===s.product),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","homebook"===s.product)}}function Mt(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div",31)(1,"div",32),t.\u0275\u0275element(2,"ion-icon",33),t.\u0275\u0275template(3,e,4,3,"div",0),t.\u0275\u0275template(4,bt,4,3,"div",34),t.\u0275\u0275elementEnd()()),2&a){const s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!s.isPropertySelected),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!s.gotoSection&&s.isPropertySelected)}}function It(a,_){if(1&a&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275template(1,C,6,2,"div",30),t.\u0275\u0275template(2,Mt,5,2,"div",30),t.\u0275\u0275elementEnd()),2&a){const s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","list-reservations"===s.section),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","list-properties"===s.section)}}let Ot=(()=>{class a{constructor(s,l,E,A,U,N,Et,Tt,St,wt){this.route=s,this.store=l,this.homebookService=E,this.valueguestService=A,this.modalCtrl=U,this.scRes=N,this.router=Et,this.dataProvider=Tt,this.utils=St,this.translate=wt,this.isReservationSelected=!1,this.isPropertySelected=!1,this.allStepDone=!1,this.subscriptions=[],this.specificAction=null,this.environment=g.N}ngOnInit(){this.product=this.route.snapshot.data.product;const s=this.utils.getMainParent(this.route.snapshot);s&&(this.section=s.data.listType),this.subscriptions.push(this.route.queryParams.subscribe(l=>{this.gotoSection=l?l.from:null}),this.route.fragment.subscribe(l=>{this.fragment=l}),this.store.pipe((0,b.Ys)(k.Dp)).subscribe(l=>{this.isPropertySelected=void 0!==l,l&&(this.property=l,this.listStepsConcierge=[{done:this.property.bookingToolConnections&&this.property.bookingToolConnections.iCal&&this.property.bookingToolConnections.iCal[0],title:"empty-center.concierge.step.has_ical",subtitle:"empty-center.concierge.step.has_ical.subtitle",action:"has_ical"},{done:this.property.allogiatiweb_credentials&&this.property.allogiatiweb_credentials.alreadyFilled,title:"empty-center.concierge.step.has_aw",subtitle:"empty-center.concierge.step.has_aw.subtitle",action:"has_aw"},{done:this.property.istat&&this.property.istat.region,title:"empty-center.concierge.step.has_istat",subtitle:"empty-center.concierge.step.has_istat.subtitle",action:"has_istat"},{done:this.property.configSSCI,title:"empty-center.concierge.step.has_ssci",subtitle:"empty-center.concierge.step.has_ssci.subtitle",action:"has_ssci"}],this.allStepDone=!!(this.property.bookingToolConnections&&this.property.bookingToolConnections.iCal&&this.property.bookingToolConnections.iCal[0]&&this.property.allogiatiweb_credentials&&this.property.allogiatiweb_credentials.alreadyFilled&&this.property.istat&&this.property.istat.region&&null!=!!this.property.configSSCI),this.isPropertySelected&&(this.propertyName=l.name))}),this.store.pipe((0,b.Ys)(k.Sv)).subscribe(l=>{this.isWsbCreated=l?.isWsbCreated,this.isHomebookCreated=l?.isHomebookCreated,this.isConciergeCreated=l?.isConciergeCreated}),this.store.pipe((0,b.Ys)(k.a4)).subscribe(l=>{this.listProperties=l,this.checkHasOtherHomebook()}),this.store.pipe((0,b.Ys)(k.r7)).subscribe(l=>{this.isReservationSelected=null!==l}),this.store.pipe((0,b.Ys)(k.dy)).subscribe(l=>{l&&(this.user=l)}))}enableProduct(s){switch(s){case"concierge":case"wsb":case"homebook":this.goToCreateProduct(s,this.property.fbId)}}goToCreateProduct(s,l){this.valueguestService.enableProduct(l,s).then(E=>{this.dataProvider.storeSpecificData({launchInitProduct:!0}),this.router.navigate([this.scRes.getStartURL()+"/list-properties/"+s+"/"+l])})}copyHomebook(){this.openPopup(x.P,null,{isPopup:!0,listProperties:this.listHb,fromPropertyId:this.property.fbId,fromGbId:this.property.guestbook_id,showChoice:!1,context:this,action:this.confimCopyHomebook})}confimCopyHomebook(s,l){this.homebookService.copyHomebook(l,s.guestbook.gbId).then(E=>{this.scRes.navigateTomobileOrDesktopURL("/list-properties/homebook/"+E.property.fbId+"/editHomebookSettings")})}ngOnDestroy(){this.subscriptions.forEach(s=>{s.unsubscribe()})}checkAirbnbIcal(){if(this.property.bookingToolConnections&&this.property.bookingToolConnections.iCal)for(const s of this.property.bookingToolConnections.iCal)if(s.url.search("airbnb")>-1)return s.url;return null}openPopup(s,l,E){var A=this;return(0,v.Z)(function*(){A.modalCtrl.create({component:s,componentProps:E,cssClass:["vg-modal","auto-height",l]}).then(U=>{U.onDidDismiss().then(N=>{N?.data?.selectedProperty&&A.confimCopyHomebook(N.data.selectedProperty,N.data.fromGbId)}),U.present()})})()}openPopupConfirmHomebook(){this.openPopup(S.D,null,{iconName:"vg-fireworks",title:this.translate.instant("homebookbuilder.popup.success.title"),subtitle:this.translate.instant("homebookbuilder.popup.success.subtitle").replace("{{propertyName}}",this.property.name),subsubtitle:this.translate.instant("homebookbuilder.popup.success.subsubtitle"),buttonText:this.translate.instant("homebookbuilder.popup.success.continueButton"),data:{},context:this,action:this.closeSuccessPopup})}closeSuccessPopup(){this.modalCtrl.dismiss()}checkHasOtherHomebook(){this.hasOtherHomebook=!1;const s=[];if(this.listProperties){for(const l of this.listProperties)l.guestbook&&(this.hasOtherHomebook=this.hasOtherHomebook||l.guestbook.isHomebookCreated,l.guestbook.isHomebookCreated&&s.push(l));this.listHb=s}}goToStep(s){switch(s){case"has_aw":this.scRes.navigateTomobileOrDesktopURL("/list-properties/concierge/"+this.property.fbId+"/syncAlloggiati");break;case"has_istat":this.scRes.navigateTomobileOrDesktopURL("/list-properties/concierge/"+this.property.fbId+"/istatSettings");break;case"has_ical":this.scRes.navigateTomobileOrDesktopURL("/list-properties/concierge/"+this.property.fbId+"/editCalendars");break;case"has_ssci":this.scRes.navigateTomobileOrDesktopURL("/list-properties/concierge/"+this.property.fbId+"/selfcheckin")}}}return a.\u0275fac=function(s){return new(s||a)(t.\u0275\u0275directiveInject(F.gz),t.\u0275\u0275directiveInject(b.yh),t.\u0275\u0275directiveInject(M.sR),t.\u0275\u0275directiveInject(M.hZ),t.\u0275\u0275directiveInject(w.IN),t.\u0275\u0275directiveInject(M.BU),t.\u0275\u0275directiveInject(F.F0),t.\u0275\u0275directiveInject(W.F),t.\u0275\u0275directiveInject(K.D),t.\u0275\u0275directiveInject(j.sK))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["app-empty-component"]],decls:7,vars:3,consts:[[4,"ngIf"],["class","fullContainer",4,"ngIf"],["childTemplate",""],["emptyTemplate",""],[1,"fullContainer"],[1,"insideTemplateContainer","withBorder"],[1,"compContainer",2,"border-radius","5px"],[1,"noSlider"],["loginEmail",""],["appScrollbarTheme","",1,"mainSection"],[4,"ngTemplateOutlet"],["specificClass","centeredContainer",3,"title","subtitle","templateRef"],[1,"insideTemplateContainer"],["class","listStepsContainer",4,"ngIf"],[1,"listStepsContainer"],["class","stepContainer",3,"click",4,"ngFor","ngForOf"],[1,"stepContainer",3,"click"],[1,"stepIcon"],["class","stepDone",4,"ngIf"],["class","stepMiss",4,"ngIf"],[1,"stepTextContainer"],[1,"stepText"],[1,"stepSubText"],["class","stepChevron",4,"ngIf"],[1,"stepDone"],["name","vg-confirm-outline",1,"finished"],[1,"stepMiss"],["name","vg-error-outline"],[1,"stepChevron"],["name","chevron-forward-outline"],["class","actionContainerEmpty",4,"ngIf"],[1,"actionContainerEmpty"],[1,"centeredInfo"],["name","vg-idea"],["class","topText",4,"ngIf"],["src","./assets/imgs/arrow-long.png",1,"arrow-long"],[1,"topText"],["class","actionTitle",4,"ngIf"],[1,"actionTitle"],[1,"actionTitle",3,"innerHTML"],[1,"submit","buttonCentered"],["expand","full","type","submit","color","primary",1,"button-round",3,"click"],[1,"subaction"],["href","https://valueguest.com/Concierge","target","_blank",1,"link"],["href","https://valueguest.com/websitebuilder","target","_blank","class","link",4,"ngIf"],["href","https://valueguest.com/en/websitebuilder-en","target","_blank","class","link",4,"ngIf"],["href","https://valueguest.com/websitebuilder","target","_blank",1,"link"],["href","https://valueguest.com/en/websitebuilder-en","target","_blank",1,"link"],[1,"actionTitle","bigText",3,"innerHTML"],["href","https://Valueguest.com/homebook","target","_blank","class","link",4,"ngIf"],["href","https://Valueguest.com/en/homebook-en","target","_blank","class","link",4,"ngIf"],["href","https://Valueguest.com/homebook","target","_blank",1,"link"],["href","https://Valueguest.com/en/homebook-en","target","_blank",1,"link"],[1,"between-buttons",2,"margin-bottom","8px"],[1,"link",3,"click"]],template:function(s,l){1&s&&(t.\u0275\u0275template(0,st,7,0,"ng-container",0),t.\u0275\u0275template(1,pt,3,1,"div",1),t.\u0275\u0275template(2,J,4,7,"ng-container",0),t.\u0275\u0275template(3,p,3,1,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(5,It,3,2,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)),2&s&&(t.\u0275\u0275property("ngIf","login-email"===l.section),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","login-email"!==l.section&&!("list-properties"===l.section&&!l.gotoSection&&!0===l.isPropertySelected&&"concierge"===l.product&&!1===l.allStepDone&&!0===l.isConciergeCreated)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","list-properties"===l.section&&!l.gotoSection&&!0===l.isPropertySelected&&"concierge"===l.product&&!1===l.allStepDone&&!0===l.isConciergeCreated))},dependencies:[D.U,Y.H,R.NgForOf,R.NgIf,R.NgTemplateOutlet,w.YG,w.W2,w.gu,j.X$],styles:[".fullContainer[_ngcontent-%COMP%]{display:flex;height:100%}.fullContainer[_ngcontent-%COMP%]   .mainSection[_ngcontent-%COMP%]{--background:none;flex:1}.fullContainer[_ngcontent-%COMP%]   .previewSection[_ngcontent-%COMP%]{transition:all .5s ease-in-out;z-index:1;position:relative;width:0px;top:0;background:white;height:100%}.fullContainer[_ngcontent-%COMP%]   .previewSection[_ngcontent-%COMP%]   app-preview-iphone[_ngcontent-%COMP%]{visibility:hidden}.fullContainer[_ngcontent-%COMP%]   .previewSection.showPreview[_ngcontent-%COMP%]{width:500px;box-shadow:-1px 0 6px #525252}.fullContainer[_ngcontent-%COMP%]   .previewSection.showPreview[_ngcontent-%COMP%]   app-preview-iphone[_ngcontent-%COMP%]{visibility:visible}.fullContainer[_ngcontent-%COMP%]   .previewSection[_ngcontent-%COMP%]   .buttonSlider[_ngcontent-%COMP%]{background:#273951;border-radius:5px 0 0 5px;color:#fff;font-size:22px;display:flex;justify-content:center;flex-direction:column;text-align:center;padding-left:15px;position:absolute;left:-48px;top:185px;width:48px;height:62px;z-index:2;cursor:pointer}.insideTemplateContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;height:100%}.insideTemplateContainer.withBorder[_ngcontent-%COMP%]{height:unset;margin:auto;padding:110px 200px;background:white}.insideTemplateContainer.withBorder[_ngcontent-%COMP%]   .compContainer[_ngcontent-%COMP%]{border-radius:5px;box-shadow:0 2px 10px #00000029;width:453px}.insideTemplateContainer[_ngcontent-%COMP%]   .actionTitle[_ngcontent-%COMP%]{line-height:27px;font-style:normal;font-weight:600;font-size:20px;margin:0 15px}.insideTemplateContainer[_ngcontent-%COMP%]   .subaction[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.insideTemplateContainer[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:10px;font-size:18px}.insideTemplateContainer[_ngcontent-%COMP%]   .trial-user-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:20px 0;text-align:center}.insideTemplateContainer[_ngcontent-%COMP%]   .trial-user-details[_ngcontent-%COMP%]{font-size:16px;text-align:center}.insideTemplateContainer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin:auto;width:100px;height:100px;border-radius:50%;background:url(/assets/imgs/favicon.png);border:1px solid white;background-size:contain}iframe[_ngcontent-%COMP%]{border:0;height:100%;width:100%}.actionContainerEmpty[_ngcontent-%COMP%]{height:100%}.actionContainerEmpty[_ngcontent-%COMP%]   .titleTop[_ngcontent-%COMP%]{margin:5px 0 10px;font-weight:500;font-size:20px;line-height:15px;color:var(--text-color-primary)}.actionContainerEmpty[_ngcontent-%COMP%]   .subtitleTop[_ngcontent-%COMP%]{font-size:14px;line-height:18px;color:var(--text-color-primary)}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center;align-self:center;font-style:normal;font-weight:400;font-size:16px;line-height:22px;color:var(--text-color-primary);text-align:center;align-items:center;flex-direction:column}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:25px}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   .arrow-long[_ngcontent-%COMP%]{width:230px;align-self:self-end;position:absolute;left:100px;top:60%}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   .topText[_ngcontent-%COMP%]{margin-top:5px}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   .topText.borderBottom[_ngcontent-%COMP%]{padding-bottom:15px;margin-bottom:15px;border-bottom:1px solid #5F6D83}.actionContainerEmpty[_ngcontent-%COMP%]   .centeredInfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;margin-top:5px}.submit[_ngcontent-%COMP%]{margin-top:20px}.bigText[_ngcontent-%COMP%]{text-align:left!important;font-weight:400!important;font-size:14px!important}.bigText[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:7px!important}.stepContainer[_ngcontent-%COMP%]{display:flex;margin-bottom:25px;align-items:center;max-width:500px;cursor:pointer}.stepContainer[_ngcontent-%COMP%]   .stepTextContainer[_ngcontent-%COMP%]{flex:1;margin-left:15px}.stepContainer[_ngcontent-%COMP%]   .stepTextContainer[_ngcontent-%COMP%]   .stepText[_ngcontent-%COMP%]{font-weight:600;font-size:16px;text-align:left}.stepContainer[_ngcontent-%COMP%]   .stepTextContainer[_ngcontent-%COMP%]   .stepSubText[_ngcontent-%COMP%]{font-size:12px;text-align:left}.stepContainer[_ngcontent-%COMP%]   .stepChevron[_ngcontent-%COMP%]{align-items:center;font-size:30px;display:flex}.stepContainer[_ngcontent-%COMP%]   .stepIcon[_ngcontent-%COMP%]{cursor:pointer}.stepContainer[_ngcontent-%COMP%]   .stepIcon[_ngcontent-%COMP%]   .stepDone[_ngcontent-%COMP%], .stepContainer[_ngcontent-%COMP%]   .stepIcon[_ngcontent-%COMP%]   .stepMiss[_ngcontent-%COMP%]{display:flex}.stepContainer[_ngcontent-%COMP%]   .stepIcon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:30px;padding:4px;margin-bottom:0}"]}),a})()},35346:(lt,V,i)=>{i.d(V,{T:()=>j});var v=i(36895),b=i(24006),S=i(60434),x=i(89383),M=i(24592),k=i(89044),W=i(56205),K=i(41226),g=i(46530),t=i(6997),F=i(10399),w=i(94650);let j=(()=>{class D{}return D.\u0275fac=function(R){return new(R||D)},D.\u0275mod=w.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=w.\u0275\u0275defineInjector({imports:[x.aw,g.u,F.G,t.u,W.P,M.V,k.Y,v.CommonModule,K.N,b.u5,S.Pc]}),D})()},71388:(lt,V,i)=>{i.r(V),i.d(V,{MainComponentModule:()=>Oe});var v=i(36895),b=i(24006),S=i(34793),x=i(60434),M=i(89383),k=i(41228),W=i(10399),K=i(78137),g=i(89427),t=i(16775),F=i(78273),w=i(28395),j=i(76706),D=i(88886),Y=i(4931),R=i(77513),st=i(73143),G=i(56205),pt=i(69998),J=i(91898),$=i(7065),q=i(66934),z=i(49671),I=i(28555),c=i(54073),p=i(24040),h=i(13592),f=i(35817),O=i(26618),H=i(89291),C=i(897),u=i(76457),B=i(28986),L=i(33619),e=i(94650),tt=i(11481),et=i(28029),nt=i(98603),Q=i(98071),dt=i(17192);const mt=function(o){return{options:o}};function ut(o,d){if(1&o&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3)(2,"div",4),e.\u0275\u0275element(3,"ion-icon",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",6),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",7),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",8)(9,"ul",9),e.\u0275\u0275elementContainer(10,10),e.\u0275\u0275elementEnd()()()),2&o){const n=e.\u0275\u0275nextContext(),r=e.\u0275\u0275reference(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2(" ",n.user.firstname," ",n.user.lastname," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.user.email," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(5,mt,n.listOptions))}}function gt(o,d){if(1&o&&e.\u0275\u0275element(0,"ion-icon",20),2&o){const n=e.\u0275\u0275nextContext(2).$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275classMapInterpolate2("",n.icon.replace(".svg","")," ",n.status,""),e.\u0275\u0275propertyInterpolate2("src","",r.pathIcons,"",n.icon,"")}}function ht(o,d){if(1&o&&e.\u0275\u0275element(0,"img",20),2&o){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275classMapInterpolate2("",n.icon.replace(".png","")," ",n.status,""),e.\u0275\u0275propertyInterpolate1("src","./assets/icon/",n.icon,"",e.\u0275\u0275sanitizeUrl)}}function _t(o,d){if(1&o&&e.\u0275\u0275element(0,"ion-icon",21),2&o){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275classMapInterpolate2("",n.icon," ",n.status,""),e.\u0275\u0275propertyInterpolate("name",n.icon)}}function ft(o,d){if(1&o&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275template(1,gt,1,6,"ion-icon",18),e.\u0275\u0275template(2,ht,1,5,"img",18),e.\u0275\u0275template(3,_t,1,5,"ion-icon",19),e.\u0275\u0275elementEnd()),2&o){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.icon.search("\\.svg")>-1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.icon.search("\\.png")>-1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",-1===n.icon.search("\\."))}}function Ct(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",12)(1,"div",13),e.\u0275\u0275listener("click",function(){const y=e.\u0275\u0275restoreView(n).$implicit,P=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(P.actionMenu(y))}),e.\u0275\u0275template(2,ft,4,3,"div",14),e.\u0275\u0275elementStart(3,"div",15)(4,"span",16),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()()()}if(2&o){const n=d.$implicit;e.\u0275\u0275property("ngClass",n.disabled?"disabled":""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.icon),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,n.text))}}function vt(o,d){1&o&&e.\u0275\u0275template(0,Ct,7,5,"li",11),2&o&&e.\u0275\u0275property("ngForOf",d.options)}let xt=(()=>{class o{constructor(n,r,m,y,P,T,it,rt,at){this.authService=n,this.store=r,this.router=m,this.activatedRoute=y,this.modalCtrl=P,this.translate=T,this.toastController=it,this.alertCtrl=rt,this.scRes=at,this.errors=[],this.pathIcons="./assets/icon/svg/",this.isPopup=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.store.pipe((0,I.Ys)(u.dy)).subscribe(n=>{this.user=n,this.listOptions=this.getListOptions()}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}getListOptions(){return[{text:"flow-start-menu.menu.startFromHere",icon:"flag-outline"}]}actionMenu(n){if(n.disabled)this.toastController.create({message:this.translate.instant("toast.comingsoon"),duration:2e3}).then(r=>{r.present()});else switch(n.action){case"deleteProperty":this.presentConfirmDeleteProperty();break;case"logout":this.logout();break;default:this.scRes.doesDisplayInPopup(n)?this.openPopup(n.component,null,{isPopup:!0}):(this.store.dispatch(new u.u2.SelectMenu(n.action)),this.router.navigate(["./"+n.action],{relativeTo:this.activatedRoute}))}}openPopup(n,r,m){var y=this;return(0,z.Z)(function*(){y.modalCtrl.create({component:n,componentProps:m,cssClass:["vg-modal","auto-height",r]}).then(P=>{P.onDidDismiss().then(T=>{}),P.present()})})()}presentConfirmDeleteProperty(){this.alertCtrl.create({header:this.translate.instant("page-property.deletePopup.title"),message:this.translate.instant("page-property.deletePopup.message"),buttons:[{text:this.translate.instant("page-property.deletePopup.cancel"),role:"cancel"},{text:this.translate.instant("page-property.deletePopup.remove"),handler:()=>{}}]}).then(n=>n.present())}logout(){this.errors=[],this.authService.logout().then(()=>{this.router.navigateByUrl("")}).catch(n=>{this.errors.push(n)})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(C.e8),e.\u0275\u0275directiveInject(I.yh),e.\u0275\u0275directiveInject(S.F0),e.\u0275\u0275directiveInject(S.gz),e.\u0275\u0275directiveInject(x.IN),e.\u0275\u0275directiveInject(M.sK),e.\u0275\u0275directiveInject(x.yF),e.\u0275\u0275directiveInject(x.Br),e.\u0275\u0275directiveInject(C.BU))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-flow-start-menu"]],decls:3,vars:1,consts:[["class","fullContainer",4,"ngIf"],["menuList",""],[1,"fullContainer"],[1,"topContainer"],[1,"avatar"],["name","vg-login-2"],[1,"name"],[1,"email"],[1,"dropDownMenu"],[1,"actions-list"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"action",3,"click"],["class","action-icon",4,"ngIf"],[1,"action-titles"],[1,"action-title"],[1,"action-icon"],[3,"class","src",4,"ngIf"],[3,"class","name",4,"ngIf"],[3,"src"],[3,"name"]],template:function(n,r){1&n&&(e.\u0275\u0275template(0,ut,11,7,"div",0),e.\u0275\u0275template(1,vt,1,1,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&n&&e.\u0275\u0275property("ngIf",r.user)},dependencies:[v.NgClass,v.NgForOf,v.NgIf,v.NgTemplateOutlet,x.gu,M.X$],styles:[".fullContainer[_ngcontent-%COMP%]{flex:1;height:-moz-fit-content;height:fit-content;display:block;border-radius:3px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]{margin-top:15px;text-align:center;color:var(--text-color-primary)}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-bottom:10px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:65px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:18px;line-height:20px;margin-bottom:5px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;margin-bottom:5px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:18px;margin-bottom:10px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .badgeContainer[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:15px}.fullContainer[_ngcontent-%COMP%]   .topContainer[_ngcontent-%COMP%]   .badgeContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] + ion-icon[_ngcontent-%COMP%]{margin-left:10px}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]{transition:max-height .4s ease-in-out;max-height:500px}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu.collapsed[_ngcontent-%COMP%]{max-height:0px!important}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;list-style:none;margin:0;padding:20px 10px 0}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list.subAction[_ngcontent-%COMP%]{padding:0 20px}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:1px solid #9299A3}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .action-title[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:16px}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center;font-size:20px;margin-left:15px;color:var(--text-color-primary)}.fullContainer[_ngcontent-%COMP%]   .dropDownMenu[_ngcontent-%COMP%]   ul.actions-list[_ngcontent-%COMP%]   .subActionArrow[_ngcontent-%COMP%]{color:var(--text-color-primary)}"]}),o})();var yt=i(98224),Pt=i(44737),bt=i(35523);let Mt=(()=>{class o{constructor(n,r,m,y,P){this.authService=n,this.store=r,this.translate=m,this.scRes=y,this.viewCtrl=P,this.errors=[],this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.store.pipe((0,I.Ys)(u.dy)).subscribe(n=>{n&&(this.listContractId=n.listContractId)}),this.store.pipe((0,I.Ys)(u.q9)).subscribe(n=>{const r=[];if(n)for(const m of n)r.push({label:m.name,value:m.id});this.listRadio=r}))}goTo(n){switch(n){case"sendNewContract":this.openPopup(bt.t,null,{title:"paperfree.create-template.chooseTemplate.popup.title",listValue:this.listRadio,context:this,confirmButtonText:this.translate.instant("paperfree.create-template.popup.button.confirm"),errorPrefix:"paperfree.create-template.popup.error",action:this.createContract});break;case"templateDatabase":this.scRes.navigateTomobileOrDesktopURL("/paperfree/template-database");break;case"listContracts":this.scRes.navigateTomobileOrDesktopURL("/paperfree/list-contract")}}createContract(n){n.context.contractService.buildEmptyContract(n.context.listContractId,n.data).then(r=>{n.context.viewCtrl.dismiss(),n.context.scRes.navigateTomobileOrDesktopURL("/paperfree/send-contract/"+r.contextInfo.newContractId)})}openPopup(n,r,m){var y=this;return(0,z.Z)(function*(){y.viewCtrl.create({component:n,componentProps:m,cssClass:["vg-modal","auto-height",r]}).then(P=>{P.onDidDismiss().then(T=>{}),P.present()})})()}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}ionViewDidEnter(){}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(C.e8),e.\u0275\u0275directiveInject(I.yh),e.\u0275\u0275directiveInject(M.sK),e.\u0275\u0275directiveInject(C.BU),e.\u0275\u0275directiveInject(x.IN))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-paperfree-menu"]],decls:11,vars:9,consts:[[1,"fullContainer"],[1,"menu"],[1,"item",3,"click"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275listener("click",function(){return r.goTo("sendNewContract")}),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",2),e.\u0275\u0275listener("click",function(){return r.goTo("templateDatabase")}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",2),e.\u0275\u0275listener("click",function(){return r.goTo("listContracts")}),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"paperfree.menu.item.sendNewContract")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"paperfree.menu.item.templateDatabase")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,7,"paperfree.menu.item.listContracts")))},dependencies:[M.X$],styles:[".menu[_ngcontent-%COMP%]{margin-top:20px;padding:15px}.menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:15px;font-size:16px;cursor:pointer}.menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#9f36580a}"]}),o})();var It=i(69975);function Ot(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-account-request"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function a(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.back())}),e.\u0275\u0275element(1,"ion-icon",12),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"page-property-menu.backToPropertyList")))}function _(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"app-list-properties",14,15),e.\u0275\u0275elementEnd())}function s(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"app-property-menu",14),e.\u0275\u0275elementEnd())}function l(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"app-homebook-menu",14),e.\u0275\u0275elementEnd())}function E(o,d){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,a,5,3,"div",8),e.\u0275\u0275elementStart(2,"div",6),e.\u0275\u0275template(3,_,3,0,"div",9),e.\u0275\u0275template(4,s,2,0,"div",10),e.\u0275\u0275template(5,l,2,0,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedProperty),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.selectedProperty),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedProperty&&"homebook"!==n.product),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedProperty&&"homebook"===n.product)}}function A(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",17),e.\u0275\u0275element(3,"app-paperfree-menu"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function U(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.backReservation())}),e.\u0275\u0275element(1,"ion-icon",12),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()}2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"page-property-menu.backToReservationList")))}function N(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"app-reservation-list",null,18),e.\u0275\u0275elementEnd())}function Et(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"app-reservation-menu"),e.\u0275\u0275elementEnd())}function Tt(o,d){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,U,5,3,"div",8),e.\u0275\u0275elementStart(2,"div",6),e.\u0275\u0275template(3,N,3,0,"div",9),e.\u0275\u0275template(4,Et,2,0,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedReservation),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.selectedReservation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.selectedReservation)}}function St(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-list-invii",null,19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function wt(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-dashboard-menu"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function zt(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-view-profile"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function At(o,d){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6)(2,"div",7),e.\u0275\u0275element(3,"app-flow-start-menu"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function Ut(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-fab",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.clickAddButton())}),e.\u0275\u0275elementStart(1,"ion-fab-button"),e.\u0275\u0275element(2,"ion-icon",21),e.\u0275\u0275elementEnd()()}}const Nt=function(o){return{flowStart:o}},Wt=function(o){return{grayBackground:o}};let X=(()=>{class o{constructor(n,r,m,y,P,T,it,rt,at,Ht,Bt){this.router=n,this.homebookService=r,this.subscriptionService=m,this.route=y,this.modalCtrl=P,this.store=T,this.dataProvider=it,this.sanitizer=rt,this.scRes=at,this.translate=Ht,this.utils=Bt,this.selectedRes=!1,this.selectedProperty=!1,this.selectedReservation=!1,this.stepAction="",this.subscriptions=[]}shouldDisplayIstatPopup(){return!1}ngAfterViewInit(){this.shouldDisplayIstatPopup()&&this.openPopup(h.M,null),this.route.snapshot.queryParams&&"true"===this.route.snapshot.queryParams.initiate&&"true"!==this.route.snapshot.queryParams.showcase&&this.presentPasswordPopup()}ngOnInit(){this.product=this.route.snapshot.data.product;const n=this.utils.getMainParent(this.route.snapshot);n&&(this.menuType=n.data.listType),"list-reservations"===this.menuType&&this.handleListReservationsDisplay(),"list-properties"===this.menuType&&this.handleListPropertiesDisplay(),"view-profile"===this.menuType&&this.handleViewProfileDisplay(),"list-schedine"===this.menuType&&this.handleListSchedineDisplay(),"login-email"===this.menuType&&this.handleLoginEmailDisplay(),"paperfree-menu"===this.menuType&&this.handleContractsDisplay(),this.subscriptions.push(this.store.pipe((0,I.Ys)(u.Dy)).subscribe(r=>{this.isResEmpty=0===r.length}),this.store.pipe((0,I.Ys)(u.dy)).subscribe(r=>{this.user=r}),this.store.pipe((0,I.Ys)(u.a4)).subscribe(r=>{this.listProperties=r,this.checkHasOtherHomebook(r),this.hasIcal=this.hasIcalFn(r),this.isNoProp=0===r.length}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}hasIcalFn(n){if(n&&n.length>0)for(const r of n)if(r.bookingToolConnections&&r.bookingToolConnections.iCal&&r.bookingToolConnections.iCal.length>0)return!0;return!1}goToData(n){this.router.navigate(["desktop-view/dashboard/"+n+"/data/report"])}clickAddButton(){"list-reservations"===this.menuType?this.listRes.addReservation():"list-properties"===this.menuType&&"homebook"===this.product&&this.hasOtherHomebook?this.hasEnoughInPlan()?this.copyHomebook():this.openPopup(p.D,null,{iconName:"vg-crown",title:this.translate.instant("missing-billing-popup.title"),subtitle:this.translate.instant("missing-billing-popup.subtitle"),buttonText:this.translate.instant("missing-billing-popup.button.goToPage"),data:{},context:this,action:this.goToSubscribePage}):"list-properties"===this.menuType&&(this.hasEnoughInPlan()?this.listProp.addProperty():this.openPopup(p.D,null,{iconName:"vg-crown",title:this.translate.instant("missing-billing-popup.title"),subtitle:this.translate.instant("missing-billing-popup.subtitle"),buttonText:this.translate.instant("missing-billing-popup.button.goToPage"),data:{},context:this,action:this.goToSubscribePage}))}goToSubscribePage(){this.router.navigate([this.scRes.getStartURL()+"/view-profile/billing"])}hasEnoughInPlan(){return this.subscriptionService.canAddOneProperty(this.user,this.product)}confirmPlanPopup(){this.modal&&this.modal.dismiss()}handleListSchedineDisplay(){}handleLoginEmailDisplay(){this.subscriptions.push(this.store.pipe((0,I.Ys)(u.r7)).subscribe(n=>{this.selectedContract=!!n}))}handleListReservationsDisplay(){this.subscriptions.push(this.store.pipe((0,I.Ys)(u.r7)).subscribe(n=>{this.selectedReservation=!!n}))}handleContractsDisplay(){}handleListPropertiesDisplay(){this.route.snapshot.params.id||this.store.dispatch(new u.eX.SelectProperty(null)),this.subscriptions.push(this.store.pipe((0,I.Ys)(u.Dp)).subscribe(r=>{this.property=r,this.selectedProperty=!!r}),this.store.pipe((0,I.Ys)(u.su)).subscribe(r=>{r.previewData&&"wsb"===r.previewData.product&&(this.showPreviewWsb=!0)}))}back(){this.store.dispatch(new u.WO.UpdateGuestbook(null)),this.store.dispatch(new u.eX.SelectProperty(null)),this.router.navigate(["desktop-view/list-properties/"+this.product]),this.store.dispatch(new u.u2.UpdateGenericData({previewData:null}))}backReservation(){this.store.dispatch(new u.eX.SelectReservation(null,null)),this.router.navigate(["desktop-view/list-reservations"])}handleViewProfileDisplay(){}openPopup(n,r,m){var y=this;return(0,z.Z)(function*(){y.modalCtrl.create({component:n,componentProps:m,cssClass:["vg-modal","auto-height",r]}).then(P=>{P.onDidDismiss().then(T=>{T?.data?.hasSkippedCopy&&y.listProp.addProperty(),T?.data?.selectedProperty&&y.confimCopyHomebook(T.data.selectedProperty)}),y.modal=P,P.present()})})()}checkHasOtherHomebook(n){this.hasOtherHomebook=!1;const r=[];if(n)for(const m of n)m&&m.guestbook&&(this.hasOtherHomebook=this.hasOtherHomebook||m.guestbook.isHomebookCreated,m.guestbook.isHomebookCreated&&r.push(m));this.listHb=r}copyHomebook(){this.openPopup(f.P,null,{isPopup:!0,listProperties:this.listHb,showChoice:!0,context:this,action:this.confimCopyHomebook})}confimCopyHomebook(n){this.homebookService.copyHomebook(null,n.guestbook.gbId).then(r=>{this.scRes.navigateTomobileOrDesktopURL("/list-properties/homebook/"+r.property.fbId+"/editHomebookSettings"),this.openPopupConfirmHomebook(r.property.name)})}openPopupConfirmHomebook(n){this.openPopup(p.D,null,{iconName:"vg-fireworks",title:this.translate.instant("homebookbuilder.popup.success.title"),subtitle:this.translate.instant("homebookbuilder.popup.success.subtitle").replace("{{propertyName}}",n),subsubtitle:this.translate.instant("homebookbuilder.popup.success.subsubtitle"),buttonText:this.translate.instant("homebookbuilder.popup.success.continueButton"),data:{},context:this,action:this.closeSuccessPopup})}closeSuccessPopup(){this.modalCtrl.dismiss()}presentPasswordPopup(){this.modalCtrl.create({component:c.g,componentProps:{iconName:"vg-confirm",title:this.translate.instant("upgrade-plan.success.title"),subtitle:this.translate.instant("upgrade-plan.success.subtitle"),buttonText:this.translate.instant("upgrade-plan.success.continue"),context:this,action:this.closeSuccessPopup},cssClass:["vg-modal","auto-height"]}).then(n=>{n.onDidDismiss().then(r=>{}),this.modal=n,n.present()})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(S.F0),e.\u0275\u0275directiveInject(C.sR),e.\u0275\u0275directiveInject(C.FF),e.\u0275\u0275directiveInject(S.gz),e.\u0275\u0275directiveInject(x.IN),e.\u0275\u0275directiveInject(I.yh),e.\u0275\u0275directiveInject(B.F),e.\u0275\u0275directiveInject(tt.DomSanitizer),e.\u0275\u0275directiveInject(C.BU),e.\u0275\u0275directiveInject(M.sK),e.\u0275\u0275directiveInject(L.D))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-main"]],viewQuery:function(n,r){if(1&n&&(e.\u0275\u0275viewQuery(H.E,5),e.\u0275\u0275viewQuery(O.b,5)),2&n){let m;e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.listRes=m.first),e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.listProp=m.first)}},decls:15,vars:19,consts:[[3,"ngClass"],[1,"leftMenu",3,"ngClass"],["appScrollbarTheme",""],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",3,"click",4,"ngIf"],[1,"mainContainer"],[1,"insideContentMenu"],[1,"noSlider"],["class","backContainer",3,"click",4,"ngIf"],["class","listPropCont",4,"ngIf"],["class","menuPropCont",4,"ngIf"],[1,"backContainer",3,"click"],["name","vg-arrow-back"],[1,"listPropCont"],["needHeader","true"],["listProp",""],[1,"menuPropCont"],[1,""],["listRes",""],["listSchedine",""],["vertical","bottom","horizontal","end","slot","fixed",3,"click"],["name","add"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"ion-content",2),e.\u0275\u0275template(3,Ot,4,0,"ng-container",3),e.\u0275\u0275template(4,E,6,4,"ng-container",3),e.\u0275\u0275template(5,A,4,0,"ng-container",3),e.\u0275\u0275template(6,Tt,5,3,"ng-container",3),e.\u0275\u0275template(7,St,5,0,"ng-container",3),e.\u0275\u0275template(8,wt,4,0,"ng-container",3),e.\u0275\u0275template(9,zt,4,0,"ng-container",3),e.\u0275\u0275template(10,At,4,0,"ng-container",3),e.\u0275\u0275template(11,Ut,3,0,"ion-fab",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"ion-content",2)(13,"div",5),e.\u0275\u0275element(14,"router-outlet"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275classMapInterpolate2("fullContainer ","paperfree-menu"===r.menuType?"paperfree":""," ","view-profile"===r.menuType?"view-profile":"",""),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,Nt,"flow-start"===r.menuType||"login-email"===r.menuType)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,Wt,!r.selectedRes&&!r.selectedProperty)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","account-request"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","list-properties"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","paperfree-menu"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","list-reservations"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","list-schedine"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","data-dashboard"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","view-profile"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","flow-start"===r.menuType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","list-reservations"===r.menuType&&!r.isResEmpty&&!r.selectedReservation||"list-properties"===r.menuType&&!r.isNoProp&&!r.route.snapshot.params.id))},dependencies:[v.NgClass,v.NgIf,O.b,et.G,nt.Z,x.W2,x.IJ,x.W4,x.gu,Q.k,dt.X,H.E,xt,yt.u,Pt.m,Mt,F.a,It.g,S.lC,M.X$],styles:[".fullContainer[_ngcontent-%COMP%]{background:white;display:flex;height:100%}.titleAndTemplateContainer.loginContainers[_ngcontent-%COMP%]{align-items:center;justify-content:center}.templateContainer[_ngcontent-%COMP%]{max-width:400px!important}.leftMenu[_ngcontent-%COMP%]{padding:20px 0 10px;background-color:#fff;width:33%;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));z-index:2;height:100%}@media (min-width: 1500px){.leftMenu[_ngcontent-%COMP%]{width:25%}}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:none}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .backContainer[_ngcontent-%COMP%]{cursor:pointer;margin-left:20px;margin-top:10px;padding:0;text-align:left;color:var(--text-color-primary);width:100%;position:relative}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .backContainer.showBackButton[_ngcontent-%COMP%]{display:block}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .backContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;top:2px}.leftMenu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .backContainer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;vertical-align:baseline;line-height:45px;margin-left:4px}ion-fab[_ngcontent-%COMP%]{margin:10px}.mainContainer[_ngcontent-%COMP%]{height:100%}.paperfree[_ngcontent-%COMP%]   .leftMenu[_ngcontent-%COMP%]{width:250px}.view-profile[_ngcontent-%COMP%]   .leftMenu[_ngcontent-%COMP%]{width:350px}.flowStart[_ngcontent-%COMP%]   .leftMenu[_ngcontent-%COMP%]{width:0px}"]}),o})();var Kt=i(23394),ct=i(87196),ot=i(78425),Yt=i(57909),Gt=i(68639),Dt=i(4100),kt=i(89044);let Qt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[v.CommonModule,G.P,b.u5,x.Pc,t.I,kt.Y,Dt.G,b.UX,M.aw]}),o})();var Xt=i(51944),Lt=i(36033),$t=i(78320),Zt=i(33021),Jt=i(46480);let qt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[v.CommonModule,G.P,b.u5,x.Pc,kt.Y,Dt.G,b.UX,Jt.x,M.aw]}),o})();var te=i(91054),ee=i(92488),ne=i(30049),oe=i(80529),ie=i(35122),re=i(99604),ae=i(60751);const se=["pdfViewerPreview"],pe=["pdfViewer"];function ce(o,d){1&o&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"paperfree.list-contract.noContract")," "))}function le(o,d){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"app-expand-item",10),e.\u0275\u0275listener("actionClicked",function(m){e.\u0275\u0275restoreView(n);const y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(y.onAction(m))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&o){const n=d.$implicit,r=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("title",n.id)("subtitle",r.getStatus(n))("subtitleAlwaysOn",!0)("actions",r.getListOption(n))("data",n)}}function de(o,d){if(1&o&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275elementContainerStart(1),e.\u0275\u0275elementStart(2,"div",8),e.\u0275\u0275template(3,le,2,5,"ng-container",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementEnd()),2&o){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.listContract)}}function me(o,d){if(1&o&&(e.\u0275\u0275template(0,ce,3,3,"div",6),e.\u0275\u0275template(1,de,5,1,"div",6)),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",!n.listContract||0===n.listContract.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.listContract&&n.listContract.length>0)}}const ue=function(o){return{showPreview:o}};let ge=(()=>{class o{constructor(n,r,m,y,P,T,it,rt,at,Ht,Bt,Ee,Te,Se){this.authService=n,this.scRes=r,this.contractService=m,this.activateroute=y,this.store=P,this.viewCtrl=T,this.datePipe=it,this.router=rt,this.http=at,this.scres=Ht,this.translate=Bt,this.formBuilder=Ee,this.alertCtrl=Te,this.location=Se,this.isPopup=!1,this.errors=[],this.success=!1,this.subscriptions=[],this.step=1}getListOption(n){const r=[];return n.sent||(r.push({title:"send-contract.listContracts.action.modify",icon:"vg-edit",actionId:"modify",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.delete",icon:"vg-delete",actionId:"delete",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.preview",icon:"vg-eye",actionId:"view_preview",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.viewGuestLink",icon:"vg-pen",actionId:"view_link",isAllowed:!0})),n.sent&&n.signed&&(r.push({title:"send-contract.listContracts.action.viewFinalContract",icon:"vg-eye",actionId:"view_final",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.download",icon:"download-outline",actionId:"download",isAllowed:!0})),n.sent&&!n.signed&&(r.push({title:"send-contract.listContracts.action.modify",icon:"vg-edit",actionId:"modify",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.preview",icon:"vg-eye",actionId:"view_preview",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.sendReminder",icon:"vg-email",actionId:"sendReminder",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.viewGuestLink",icon:"vg-pen",actionId:"view_link",isAllowed:!0}),r.push({title:"send-contract.listContracts.action.delete",icon:"vg-delete",actionId:"delete",isAllowed:!0})),r}onAction(n){switch(n.actionId){case"delete":this.contractService.deleteContract(this.user.listContractId,n.data.id,null);break;case"view_preview":this.showPdf("preview",n.data.id);break;case"view_final":this.showPdf("final",n.data.id);break;case"view_link":case"sendReminder":break;case"download":this.contractService.downloadContract(n.data.id,"final");break;case"modify":this.editContract(n.data)}}showPdf(n,r){this.showPreview=!0,this.contractService.getContractPdf(r,n,"host_preview").then(m=>{this.pdfViewerPreview.pdfSrc=m,this.pdfViewerPreview.refresh()})}ngAfterViewInit(){}previous(){this.location.back()}ngOnInit(){this.subscriptions.push(this.store.pipe((0,I.Ys)(u.Dl)).subscribe(n=>{this.listContract=n}),this.store.pipe((0,I.Ys)(u.dy)).subscribe(n=>{this.user=n}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}createNewContract(){this.scRes.navigateTomobileOrDesktopURL("/paperfree/send-contract/new")}editContract(n){this.scRes.navigateTomobileOrDesktopURL("/paperfree/send-contract/"+n.id)}getFormatDate(n){return this.datePipe.transform(n,"dd/MM/yyyy")}getStatus(n){switch(n.status){case"sent":return"Contract Sent the "+this.getFormatDate(n.sentInfo.dateSent)+" to :"+n.sentInfo.sentTo;case"guest_open":return"Guest opened it the "+this.getFormatDate(n.readInfo.dateRead);case"signed":return"Guest SIGNED it the "+this.getFormatDate(n.signedInfo.dateSigned);case"creation":return"Status: Not Sent"}}closePdfPreview(){this.showPreview=!1}goToCreateTemplate(){}openPopup(n,r,m){var y=this;return(0,z.Z)(function*(){y.viewCtrl.create({component:n,componentProps:m,cssClass:["vg-modal","auto-height",r]}).then(P=>{P.onDidDismiss().then(T=>{T?.data?.success&&y.presentSuccess(T.data.emailSent)}),P.present()})})()}closeModal(n){this.modalSuccess.dismiss()}presentSuccess(n){this.viewCtrl.create({component:p.D,componentProps:{iconName:"vg-confirm",title:this.translate.instant("manage-template.success.title"),subtitle:this.translate.instant("manage-template.success.subtitle").replace("{{email}}",n),subsubtitle:this.translate.instant("manage-template.success.subsubtitle"),buttonText:this.translate.instant("manage-template.success.continue"),context:this,action:this.closeModal},cssClass:["vg-modal","auto-height"]}).then(r=>{r.onDidDismiss().then(m=>{}),this.modalSuccess=r,r.present()})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(C.e8),e.\u0275\u0275directiveInject(C.BU),e.\u0275\u0275directiveInject(C.Rp),e.\u0275\u0275directiveInject(S.gz),e.\u0275\u0275directiveInject(I.yh),e.\u0275\u0275directiveInject(x.IN),e.\u0275\u0275directiveInject(v.DatePipe),e.\u0275\u0275directiveInject(S.F0),e.\u0275\u0275directiveInject(oe.eN),e.\u0275\u0275directiveInject(C.BU),e.\u0275\u0275directiveInject(M.sK),e.\u0275\u0275directiveInject(b.QS),e.\u0275\u0275directiveInject(x.Br),e.\u0275\u0275directiveInject(v.Location))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-list-contract"]],viewQuery:function(n,r){if(1&n&&(e.\u0275\u0275viewQuery(se,5),e.\u0275\u0275viewQuery(pe,5)),2&n){let m;e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.pdfViewerPreview=m.first),e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.pdfViewer=m.first)}},decls:10,vars:12,consts:[[1,"pdfView",3,"ngClass"],[1,"close-icon"],["name","vg-close",3,"click"],["pdfViewerPreview",""],[3,"title","subtitle","templateRef","isPopup","errors"],["childTemplate",""],["class","insideTemplateContainer",4,"ngIf"],[1,"insideTemplateContainer"],[1,"listContract"],[4,"ngFor","ngForOf"],["iconName","vg-...","iconCSS","icon-without-border",3,"title","subtitle","subtitleAlwaysOn","actions","data","actionClicked"]],template:function(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"ion-icon",2),e.\u0275\u0275listener("click",function(){return r.closePdfPreview()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(3,"ng2-pdfjs-viewer",null,3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"app-base",4),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275template(8,me,2,2,"ng-template",null,5,e.\u0275\u0275templateRefExtractor)),2&n){const m=e.\u0275\u0275reference(9);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,ue,r.showPreview)),e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind1(6,6,"list-contract.title")),e.\u0275\u0275propertyInterpolate("subtitle",e.\u0275\u0275pipeBind1(7,8,"list-contract.subtitle")),e.\u0275\u0275property("templateRef",m)("isPopup",r.isPopup)("errors",r.errors)}},dependencies:[v.NgClass,v.NgForOf,v.NgIf,x.gu,ie.e,re.H,ae.M,M.X$],styles:[".pdfView[_ngcontent-%COMP%]{display:none;background:white;padding:40px;position:fixed;width:100%;height:100%;left:0;z-index:222}.pdfView.showPreview[_ngcontent-%COMP%]{display:block}.pdfView[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:18px;align-items:center;display:flex;justify-content:flex-end;top:15px;right:15px;position:absolute}.listContract[_ngcontent-%COMP%]   .contractItem[_ngcontent-%COMP%]{border:1px solid black}.containerChoice[_ngcontent-%COMP%]{margin-bottom:30px;border-radius:10px;padding:5px;display:flex}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]{position:relative}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{border-left:3px solid #eef1f4;height:106%;width:1px;margin-left:16px;position:relative;top:-5px}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .bar.finished[_ngcontent-%COMP%]{border-left:3px solid var(--ion-color-secondary)}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .titleChoice[_ngcontent-%COMP%]{position:absolute;top:9px;left:38px;width:500px}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .titleChoice[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:inline;padding:0 10px}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:21px;border:3px solid #eef1f4;background:#eef1f4;color:#505d71;border-radius:50%;padding:4px}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   ion-icon.finished[_ngcontent-%COMP%]{color:var(--ion-color-secondary);border:3px solid var(--ion-color-secondary);background:white}.containerChoice[_ngcontent-%COMP%]   .stepperContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   ion-icon.current[_ngcontent-%COMP%]{border:3px solid var(--ion-color-secondary);background:var(--ion-color-secondary);color:#fff}.containerChoice[_ngcontent-%COMP%]   .selectionContainer[_ngcontent-%COMP%]{flex:1;margin-top:36px}.editContainer[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:0;cursor:pointer;color:var(--ion-color-primary)}.stepConfirmed[_ngcontent-%COMP%]   .editContainer[_ngcontent-%COMP%]{display:block}.templateItem[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 2px 10px #00000029;border-radius:6px;margin-bottom:12px;overflow:hidden;cursor:pointer;padding:20px}.stepConfirmed[_ngcontent-%COMP%]   .templateItem[_ngcontent-%COMP%]{display:none}.stepConfirmed[_ngcontent-%COMP%]   .selectedTemplate[_ngcontent-%COMP%]{display:block}.selectedTemplate[_ngcontent-%COMP%]{border:1px solid blue}.recapGuest[_ngcontent-%COMP%]{display:none;background:#FFFFFF;box-shadow:0 2px 10px #00000029;border-radius:6px;margin-bottom:12px;overflow:hidden;cursor:pointer;padding:20px}.stepConfirmed[_ngcontent-%COMP%]   .guest-form[_ngcontent-%COMP%]{display:none}.stepConfirmed[_ngcontent-%COMP%]   .recapGuest[_ngcontent-%COMP%]{display:block}.stepConfirmed[_ngcontent-%COMP%]   .step2Choice[_ngcontent-%COMP%]{display:none}.containerDob[_ngcontent-%COMP%]{display:flex;width:100%}.containerDob[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{flex:1}.containerDob[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{border-right:0px!important}.containerDob[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%]{border-left:0px!important}.containerDob[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{border-right:0px!important;border-left:0px!important}.stepConfirmed[_ngcontent-%COMP%]   .previewToCheck[_ngcontent-%COMP%]{display:none}.stepConfirmed[_ngcontent-%COMP%]   .previewConfirmed[_ngcontent-%COMP%]{display:block}.previewContainer[_ngcontent-%COMP%]{height:600px}.previewConfirmed[_ngcontent-%COMP%]{display:none;background:#FFFFFF;box-shadow:0 2px 10px #00000029;border-radius:6px;margin-bottom:12px;overflow:hidden;cursor:pointer;padding:20px}"]}),o})();var he=i(41226);let _e=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[v.CommonModule,G.P,kt.Y,b.u5,x.Pc,Dt.G,b.UX,M.aw]}),o})();var Ft=i(57420),fe=i(38793),Ce=i(53458),ve=i(70065),jt=i(1406),xe=i(35346),ye=i(89748),Pe=i(48589),be=i(37305),Me=i(58461);const Rt=[];for(const o of J.U)if(o.component){const d={path:o.action,component:o.component,resolve:null,data:{action:o.action}};if(o.resolve&&(d.resolve={myDate:o.resolve}),Rt.push(d),o.subOptions)for(const n of o.subOptions)n.component&&Rt.push({path:n.action,component:n.component,data:{action:n.action}})}const Vt=[];for(const o of ve.B)o.component&&Vt.push({path:o.action,component:o.component,data:{tab:o.tab,action:o.action}});const Z=[];for(const o of $.W)if(o.component){const d={path:o.action,component:o.component,resolve:null,data:{action:o.action}};if(o.resolve&&(d.resolve={myDate:o.resolve}),Z.push(d),o.subOptions)for(const n of o.subOptions)n.component&&Z.push({path:n.action,component:n.component,data:{action:n.action}})}Z.push({path:"send-contract/:contractId",data:{action:"send-contract"},children:[{path:"",resolve:{myData:ot.V},component:Ft.c}]}),Z.push({path:"create-contract/:contractId",data:{action:"create-contract"},children:[{path:"",resolve:{myData:ot.V},component:ne._}]}),Z.push({path:"",component:jt.y});const Ie=[{path:"template-database",component:X,data:{listType:"template-database",product:"paperfree",tab:"paperfree"},children:[{path:"",component:te.k},{path:"edit-template/:templateId",resolve:{myData:ot.V},component:$t.B,data:{action:"edit-template"}}]},{path:"send-contract",redirectTo:"send-contract/new",pathMatch:"full"},{path:"send-contract/:contractId",component:X,data:{action:"send-contract"},children:[{path:"",resolve:{myData:ot.V},component:Ft.c}]},{path:"list-contract",component:X,data:{action:"list-contract"},children:[{path:"",component:ge}]},{path:"start",component:X,data:{listType:"flow-start",action:"flow-start"},children:[{path:"",component:Xt.v}]},{path:"",component:X,resolve:{myData:ct.N},children:[{path:"",component:jt.y},{path:"edit-reservation",component:Y.g}].concat(Rt).concat(Vt)},{path:":id",component:X,resolve:{myData:ct.N},children:[{path:"",loadChildren:()=>Promise.all([i.e(1768),i.e(1055),i.e(5301)]).then(i.bind(i,15301)).then(o=>o.EmptyCenterComponentModule)}]},{path:":propertyId/:id",component:X,resolve:{myData:ct.N},children:[{path:"",loadChildren:()=>Promise.all([i.e(1768),i.e(1055),i.e(5301)]).then(i.bind(i,15301)).then(o=>o.EmptyCenterComponentModule)}].concat(Z)}];let Oe=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({providers:[ct.N,ot.V],imports:[M.aw,G.P,v.CommonModule,w.h,b.u5,j.I,Me.c,x.Pc,Yt.t,he.N,Gt.F,xe.T,Qt,R.w,t.I,K.b,Kt.x,Lt.Q,st.e,Zt.P,Ce.t,ee.N,_e,W.G,k.d,pt.S,qt,F.Y,be.Q,Lt.Q,Pe.R,D.M,ye.J,fe.M,g.v,S.Bz.forChild(Ie),q.b]}),o})()},33021:(lt,V,i)=>{i.d(V,{P:()=>I});var v=i(36895),b=i(24006),S=i(60434),x=i(89383),M=i(56205),k=i(4100),W=i(46480),K=i(89044),g=i(94650),t=["highlightElement"],F=Object.freeze(["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"]),w="text-highlight-tag-id-";function j(c,p){return p.indices.start<c&&c<p.indices.end}function R(c){return c.replace(/</g,"&lt;").replace(/>/g,"&gt;")}(function(){function c(p,h){this.renderer=p,this.cdr=h,this.tagCssClass="",this.tags=[],this.tagClick=new g.EventEmitter,this.tagMouseEnter=new g.EventEmitter,this.tagMouseLeave=new g.EventEmitter,this.highlightElementContainerStyle={},this.textareaEventListeners=[],this.isDestroyed=!1}c.prototype.refresh=function(){var p=this,h=getComputedStyle(this.textInputElement);F.forEach(function(f){p.highlightElementContainerStyle[f]=h[f]})},c.prototype.ngOnChanges=function(p){p.textInputElement&&this.textInputElementChanged(),(p.tags||p.tagCssClass||p.textInputValue)&&this.addTags()},c.prototype.ngOnDestroy=function(){this.isDestroyed=!0,this.textareaEventListeners.forEach(function(p){return p()})},c.prototype.onWindowResize=function(){this.refresh()},c.prototype.textInputElementChanged=function(){var p=this,h=this.textInputElement.tagName.toLowerCase();if("textarea"!==h)throw new Error("The angular-text-input-highlight component must be passed a textarea to the `textInputElement` input. Instead received a "+h);setTimeout(function(){if(!p.isDestroyed){if(p.refresh(),p.textareaEventListeners.forEach(function(C){return C()}),p.textareaEventListeners=[p.renderer.listen(p.textInputElement,"input",function(){p.addTags()}),p.renderer.listen(p.textInputElement,"scroll",function(){p.highlightElement.nativeElement.scrollTop=p.textInputElement.scrollTop,p.highlightTagElements=p.highlightTagElements.map(function(C){return C.clientRect=C.element.getBoundingClientRect(),C})}),p.renderer.listen(p.textInputElement,"mouseup",function(){p.refresh()})],p.tagClick.observers.length>0){var f=p.renderer.listen(p.textInputElement,"click",function(C){p.handleTextareaMouseEvent(C,"click")});p.textareaEventListeners.push(f)}if(p.tagMouseEnter.observers.length>0){var O=p.renderer.listen(p.textInputElement,"mousemove",function(C){p.handleTextareaMouseEvent(C,"mousemove")}),H=p.renderer.listen(p.textInputElement,"mouseleave",function(C){p.mouseHoveredTag&&(p.tagMouseLeave.emit(p.mouseHoveredTag),p.mouseHoveredTag=void 0)});p.textareaEventListeners.push(O),p.textareaEventListeners.push(H)}p.addTags()}})},c.prototype.addTags=function(){var p=this,h=typeof this.textInputValue<"u"?this.textInputValue:this.textInputElement.value,f=[],O=[];this.tags.slice().sort(function(u,B){return u.indices.start-B.indices.start}).forEach(function(u){if(u.indices.start>u.indices.end)throw new Error("Highlight tag with indices ["+u.indices.start+", "+u.indices.end+"] cannot start after it ends.");f.forEach(function(Q){if(function D(c,p){return j(p.indices.start,c)||j(p.indices.end,c)}(Q,u))throw new Error("Highlight tag with indices ["+u.indices.start+", "+u.indices.end+"] overlaps with tag ["+Q.indices.start+", "+Q.indices.end+"]")});var B=u.indices.end-u.indices.start,L=h.slice(u.indices.start,u.indices.end);if(L.length===B){var tt=h.slice(f.length>0?f[f.length-1].indices.end:0,u.indices.start);O.push(R(tt));var et=u.cssClass||p.tagCssClass,nt=w+p.tags.indexOf(u);O.push('<span class="text-highlight-tag '+nt+" "+et+'">'+R(L)+"</span>"),f.push(u)}});var C=h.slice(f.length>0?f[f.length-1].indices.end:0);O.push(R(C)),O.push("&nbsp;"),this.highlightedText=O.join(""),this.cdr.detectChanges(),this.highlightTagElements=Array.from(this.highlightElement.nativeElement.getElementsByTagName("span")).map(function(u){return{element:u,clientRect:u.getBoundingClientRect()}})},c.prototype.handleTextareaMouseEvent=function(p,h){var f=this.highlightTagElements.findIndex(function(L){return function Y(c,p,h){return c.left<p&&p<c.right&&c.top<h&&h<c.bottom}(L.clientRect,p.clientX,p.clientY)});if(f>-1){var O=this.highlightTagElements[f].element,H=Array.from(O.classList).find(function(L){return L.startsWith(w)});if(H){var C=H.replace(w,""),B={tag:this.tags[+C],target:O,event:p};"click"===h?this.tagClick.emit(B):this.mouseHoveredTag||(this.mouseHoveredTag=B,this.tagMouseEnter.emit(B))}}else"mousemove"===h&&this.mouseHoveredTag&&(this.mouseHoveredTag.event=p,this.tagMouseLeave.emit(this.mouseHoveredTag),this.mouseHoveredTag=void 0)},c.ctorParameters=function(){return[{type:g.Renderer2},{type:g.ChangeDetectorRef}]},c.propDecorators={tagCssClass:[{type:g.Input}],tags:[{type:g.Input}],textInputElement:[{type:g.Input}],textInputValue:[{type:g.Input}],tagClick:[{type:g.Output}],tagMouseEnter:[{type:g.Output}],tagMouseLeave:[{type:g.Output}],highlightElement:[{type:g.ViewChild,args:["highlightElement"]}],onWindowResize:[{type:g.HostListener,args:["window:resize"]}]},c.\u0275fac=function(h){return new(h||c)(g.\u0275\u0275directiveInject(g.Renderer2),g.\u0275\u0275directiveInject(g.ChangeDetectorRef))},c.\u0275cmp=g.\u0275\u0275defineComponent({type:c,selectors:[["mwl-text-input-highlight"]],viewQuery:function(h,f){var O;1&h&&g.\u0275\u0275viewQuery(t,5),2&h&&g.\u0275\u0275queryRefresh(O=g.\u0275\u0275loadQuery())&&(f.highlightElement=O.first)},hostBindings:function(h,f){1&h&&g.\u0275\u0275listener("resize",function(){return f.onWindowResize()},!1,g.\u0275\u0275resolveWindow)},inputs:{tagCssClass:"tagCssClass",tags:"tags",textInputElement:"textInputElement",textInputValue:"textInputValue"},outputs:{tagClick:"tagClick",tagMouseEnter:"tagMouseEnter",tagMouseLeave:"tagMouseLeave"},features:[g.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[1,"text-highlight-element",3,"ngStyle","innerHtml"],["highlightElement",""]],template:function(h,f){1&h&&g.\u0275\u0275element(0,"div",0,1),2&h&&g.\u0275\u0275property("ngStyle",f.highlightElementContainerStyle)("innerHtml",f.highlightedText,g.\u0275\u0275sanitizeHtml)},dependencies:[v.NgStyle],encapsulation:2})})(),function(){function c(){}c.ctorParameters=function(){return[]},c.\u0275fac=function(h){return new(h||c)},c.\u0275dir=g.\u0275\u0275defineDirective({type:c,selectors:[["","mwlTextInputHighlightContainer",""]],hostVars:2,hostBindings:function(h,f){2&h&&g.\u0275\u0275classProp("text-input-highlight-container",!0)}})}(),function(){function c(){}c.ctorParameters=function(){return[]},c.\u0275fac=function(h){return new(h||c)},c.\u0275dir=g.\u0275\u0275defineDirective({type:c,selectors:[["textarea","mwlTextInputElement",""]],hostVars:2,hostBindings:function(h,f){2&h&&g.\u0275\u0275classProp("text-input-element",!0)}})}();var J=function(){function c(){}return c.ctorParameters=function(){return[]},c.\u0275fac=function(h){return new(h||c)},c.\u0275mod=g.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=g.\u0275\u0275defineInjector({imports:[v.CommonModule]}),c}(),$=i(51908),q=i(35087),z=i(78273);let I=(()=>{class c{}return c.\u0275fac=function(h){return new(h||c)},c.\u0275mod=g.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=g.\u0275\u0275defineInjector({providers:[{provide:$.f8,useValue:"tinymce/tinymce.min.js"}],imports:[v.CommonModule,M.P,z.Y,b.u5,S.Pc,K.Y,$.Z_,W.x,q.r,k.G,J,b.UX,x.aw]}),c})()}}]);